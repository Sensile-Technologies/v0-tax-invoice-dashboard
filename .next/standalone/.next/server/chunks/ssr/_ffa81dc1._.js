module.exports=[5522,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},83497,a=>{"use strict";let b=(0,a.i(70106).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],83497)},88237,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},41792,a=>{"use strict";var b=a.i(72131),c=a.i(50944);function d(){let a=(0,c.useRouter)(),[d,e]=(0,b.useState)({isChecking:!0,hasAccess:!1,user:null});return(0,b.useEffect)(()=>{(async()=>{try{let b=await fetch("/api/auth/session",{credentials:"include"});if(!b.ok){a.replace("/auth/login"),e({isChecking:!1,hasAccess:!1,user:null});return}let c=await b.json();if(!c.success||!c.user){a.replace("/auth/login"),e({isChecking:!1,hasAccess:!1,user:null});return}let d=(c.user.role||"").toLowerCase();if(["supervisor","manager","cashier"].includes(d)){let b=c.user.branch_id;a.replace(b?`/sales/summary?branch=${b}`:"/sales/summary"),e({isChecking:!1,hasAccess:!1,user:c.user});return}e({isChecking:!1,hasAccess:!0,user:c.user})}catch(b){console.error("Error checking HQ access:",b),a.replace("/auth/login"),e({isChecking:!1,hasAccess:!1,user:null})}})()},[a]),d}a.s(["useHQAccess",()=>d])},46647,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(69265),e=a.i(3130),f=a.i(5522),g=a.i(88237),h=a.i(54161),i=a.i(83497),j=a.i(87532),k=a.i(96221),l=a.i(41792);function m(){let{isChecking:a,hasAccess:m}=(0,l.useHQAccess)(),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0);if((0,c.useEffect)(()=>{m&&t()},[m]),a)return(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin text-primary"})});if(!m)return null;let t=async()=>{try{let a=await fetch(`${process.env.NEXT_PUBLIC_SUPABASE_URL}/rest/v1/hardware?select=*,branches(name,location)`,{headers:{apikey:process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,Authorization:`Bearer ${process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY}`}});if(a.ok){let b=await a.json();q(b)}}catch(a){console.error("[v0] Error fetching hardware:",a)}finally{s(!1)}},u=p.filter(a=>a.serial_number.toLowerCase().includes(n.toLowerCase())||a.hardware_type.toLowerCase().includes(n.toLowerCase())||a.branches?.name.toLowerCase().includes(n.toLowerCase()));return(0,b.jsxs)("div",{className:"flex h-screen flex-col overflow-hidden bg-gradient-to-b from-slate-900 via-blue-900 to-white",children:[(0,b.jsx)(d.DashboardHeader,{currentBranch:"hq"}),(0,b.jsxs)("main",{className:"flex-1 overflow-y-auto p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white flex items-center gap-3",children:[(0,b.jsx)(i.Package,{className:"h-10 w-10 text-white"}),"Hardware Inventory"]}),(0,b.jsx)("p",{className:"text-white/80 mt-2",children:"Track all hardware assigned to branches"})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,b.jsx)(f.Input,{placeholder:"Search by serial number, type, or branch...",value:n,onChange:a=>o(a.target.value),className:"pl-10 rounded-xl"})]})}),(0,b.jsxs)(e.Card,{className:"rounded-2xl shadow-lg border-2",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"All Hardware"})}),(0,b.jsx)(e.CardContent,{children:r?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading hardware..."}):0===u.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hardware found"}):(0,b.jsxs)(g.Table,{children:[(0,b.jsx)(g.TableHeader,{children:(0,b.jsxs)(g.TableRow,{children:[(0,b.jsx)(g.TableHead,{children:"Serial Number"}),(0,b.jsx)(g.TableHead,{children:"Hardware Type"}),(0,b.jsx)(g.TableHead,{children:"Branch"}),(0,b.jsx)(g.TableHead,{children:"Location"}),(0,b.jsx)(g.TableHead,{children:"Status"}),(0,b.jsx)(g.TableHead,{children:"Assigned Date"})]})}),(0,b.jsx)(g.TableBody,{children:u.map(a=>(0,b.jsxs)(g.TableRow,{children:[(0,b.jsx)(g.TableCell,{className:"font-medium",children:a.serial_number}),(0,b.jsx)(g.TableCell,{children:a.hardware_type}),(0,b.jsx)(g.TableCell,{children:a.branches?.name||"Unassigned"}),(0,b.jsx)(g.TableCell,{children:a.branches?.location||"-"}),(0,b.jsx)(g.TableCell,{children:(0,b.jsx)(h.Badge,{className:(a=>{switch(a){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"retired":return"bg-red-100 text-red-800"}})(a.status),children:a.status})}),(0,b.jsx)(g.TableCell,{children:new Date(a.assigned_date).toLocaleDateString()})]},a.id))})]})})]})]}),(0,b.jsx)("footer",{className:"border-t px-8 py-4 text-center text-sm text-muted-foreground",children:"Powered by Sensile Technologies East Africa Ltd"})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=_ffa81dc1._.js.map