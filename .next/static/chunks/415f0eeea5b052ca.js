(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69296,e=>{"use strict";async function t(e,t){let r=e.includes("@"),s=await fetch("/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r?e:void 0,username:r?void 0:e,password:t})}),n=await s.json();return n.access_token&&(document.cookie=`sb-access-token=${n.access_token}; path=/; max-age=604800`,document.cookie=`sb-refresh-token=${n.refresh_token}; path=/; max-age=2592000`,n.user&&(localStorage.setItem("currentUser",JSON.stringify(n.user)),localStorage.setItem("user",JSON.stringify(n.user)))),{data:n,error:n.error||null}}async function r(){return document.cookie="sb-access-token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="sb-refresh-token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("currentUser"),localStorage.removeItem("user"),localStorage.removeItem("selectedBranch"),{error:null}}function s(){let e=localStorage.getItem("currentUser")||localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e)}catch{return null}}async function n(){throw Error("Google sign-in is not available with local authentication")}e.s(["getCurrentUser",()=>s,"signIn",()=>t,"signInWithGoogle",()=>n,"signOut",()=>r])},31713,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),n=e.i(69296);function o(){let e=(0,s.useRouter)(),[o,a]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let t=(0,n.getCurrentUser)();if(t)if("admin"===t.role)e.replace("/admin");else if("sales"===t.role)e.replace("/admin/sales");else{let r=(t.role||"").toLowerCase();"director"===r||"vendor"===r?e.replace("/headquarters"):e.replace("/sales/summary")}else e.replace("/auth/login");a(!1)},[e]),o)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})}):null}e.s(["default",()=>o])}]);