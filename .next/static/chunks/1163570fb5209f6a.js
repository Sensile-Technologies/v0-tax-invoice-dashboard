(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var s=e.i(43476),r=e.i(47163);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function t({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function c({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>c,"CardDescription",()=>n,"CardHeader",()=>t,"CardTitle",()=>i])},67881,e=>{"use strict";var s=e.i(43476),r=e.i(91918),a=e.i(25913),t=e.i(47163);let i=(0,a.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function n({className:e,variant:a,size:n,asChild:c=!1,...l}){let d=c?r.Slot:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,t.cn)(i({variant:a,size:n,className:e})),...l})}e.s(["Button",()=>n])},75254,e=>{"use strict";var s=e.i(71645);let r=(...e)=>e.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let t=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:c="",children:l,iconNode:d,...o},u)=>(0,s.createElement)("svg",{ref:u,...a,width:t,height:t,stroke:e,strokeWidth:n?24*Number(i)/Number(t):i,className:r("lucide",c),...o},[...d.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(l)?l:[l]])),i=(e,a)=>{let i=(0,s.forwardRef)(({className:i,...n},c)=>(0,s.createElement)(t,{ref:c,iconNode:a,className:r(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...n}));return i.displayName=`${e}`,i};e.s(["default",()=>i],75254)},31278,e=>{"use strict";let s=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},95468,e=>{"use strict";let s=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],95468)},98925,e=>{"use strict";var s=e.i(43476),r=e.i(71645),a=e.i(67881),t=e.i(70065),i=e.i(95468),n=e.i(31278);function c(){let[e,c]=(0,r.useState)(!1),[l,d]=(0,r.useState)(null),[o,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),[x,g]=(0,r.useState)(null),f=async()=>{c(!0),u(null),d(null);try{let e=await fetch("/api/setup-demo",{method:"POST"}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to setup demo");d(s)}catch(e){u(e instanceof Error?e.message:"An error occurred")}finally{c(!1)}},p=async()=>{h(!0),u(null);try{let e=await fetch("/api/staff/seed-demo",{method:"POST"}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to create demo staff");g(s)}catch(e){u(e instanceof Error?e.message:"An error occurred")}finally{h(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-900 via-blue-900 to-white p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl space-y-4",children:[(0,s.jsxs)(t.Card,{children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsx)(t.CardTitle,{children:"Setup Demo Account"}),(0,s.jsx)(t.CardDescription,{children:"Create a demo account with 5 branches for testing Flow360"})]}),(0,s.jsxs)(t.CardContent,{className:"space-y-4",children:[!l&&!o&&(0,s.jsx)(a.Button,{onClick:f,disabled:e,className:"w-full",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Demo Account..."]}):"Create Demo Account"}),l&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)(i.CheckCircle2,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"font-medium",children:l.message})]}),(0,s.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg space-y-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-sm",children:"Login Credentials:"}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",l.credentials?.email]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Password:"})," ",l.credentials?.password]})]})]}),l.branches&&(0,s.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg space-y-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-sm",children:"Branches Created:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm space-y-1",children:l.branches.map((e,r)=>(0,s.jsx)("li",{children:e},r))})]}),(0,s.jsx)(a.Button,{onClick:()=>window.location.href="/auth/login",className:"w-full",children:"Go to Login"})]}),o&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded",children:o}),(0,s.jsx)(a.Button,{onClick:f,variant:"outline",className:"w-full bg-transparent",children:"Try Again"})]})]})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsx)(t.CardTitle,{children:"Setup Demo Staff"}),(0,s.jsx)(t.CardDescription,{children:"Create 8 demo staff members (2 per role) with authentication accounts"})]}),(0,s.jsxs)(t.CardContent,{className:"space-y-4",children:[!x&&(0,s.jsx)(a.Button,{onClick:p,disabled:m,className:"w-full",children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Demo Staff..."]}):"Create Demo Staff"}),x&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,s.jsx)(i.CheckCircle2,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"font-medium",children:x.message})]}),(0,s.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg space-y-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-sm",children:"Demo Staff Accounts:"}),(0,s.jsxs)("div",{className:"text-sm space-y-2",children:[(0,s.jsxs)("p",{children:["All staff accounts use password: ",(0,s.jsx)("strong",{children:"flow360"})]}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Directors:"})," james.director, sarah.director"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Managers:"})," john.manager, mary.manager"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Supervisors:"})," peter.supervisor, jane.supervisor"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Cashiers:"})," david.cashier, lucy.cashier"]})]})]})]}),x.errors&&x.errors.length>0&&(0,s.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg space-y-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-sm text-orange-800",children:"Some accounts already exist:"}),(0,s.jsx)("ul",{className:"list-disc list-inside text-sm space-y-1",children:x.errors.map((e,r)=>(0,s.jsxs)("li",{children:[e.staff,": ",e.error]},r))})]})]})]})]})]})})}e.s(["default",()=>c])}]);