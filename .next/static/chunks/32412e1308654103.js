(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30811,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(32219),s=e.i(22623),i=e.i(70065),a=e.i(23750),l=e.i(10708),o=e.i(67881);function c(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function d(...e){return t=>{let r=!1,n=e.map(e=>{let n=u(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():u(e[t],null)}}}}function f(...e){return r.useCallback(d(...e),e)}function h(e,n=[]){let s=[],i=()=>{let t=s.map(e=>r.createContext(e));return function(n){let s=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:s}}),[n,s])}};return i.scopeName=e,[function(n,i){let a=r.createContext(i),l=s.length;s=[...s,i];let o=n=>{let{scope:s,children:i,...o}=n,c=s?.[e]?.[l]||a,u=r.useMemo(()=>o,Object.values(o));return(0,t.jsx)(c.Provider,{value:u,children:i})};return o.displayName=n+"Provider",[o,function(t,s){let o=s?.[e]?.[l]||a,c=r.useContext(o);if(c)return c;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${n}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=n.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}(i,...n)]}function m(e){var n;let s,i=(n=e,(s=r.forwardRef((e,t)=>{let{children:n,...s}=e;if(r.isValidElement(n)){var i;let e,a,l=(i=n,(a=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(a=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),o=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(s,n.props);return n.type!==r.Fragment&&(o.ref=t?d(t,l):l),r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${n}.SlotClone`,s),a=r.forwardRef((e,n)=>{let{children:s,...a}=e,l=r.Children.toArray(s),o=l.find(v);if(o){let e=o.props.children,s=l.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(i,{...a,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,t.jsx)(i,{...a,ref:n,children:s})});return a.displayName=`${e}.Slot`,a}"undefined"!=typeof window&&window.document&&window.document.createElement,e.i(74080);var p=Symbol("radix.slottable");function v(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}var x=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let s=m(`Primitive.${n}`),i=r.forwardRef((e,r)=>{let{asChild:i,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?s:n,{...a,ref:r})});return i.displayName=`Primitive.${n}`,{...e,[n]:i}},{}),y=new WeakMap;function g(e,t){var r,n;let s,i,a;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let l=(r=e,n=t,s=r.length,(a=(i=b(n))>=0?i:s+i)<0||a>=s?-1:a);return -1===l?void 0:e[l]}function b(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],y.set(this,!0)}set(e,t){return y.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,r){let n,s=this.has(t),i=this.#e.length,a=b(e),l=a>=0?a:i+a,o=l<0||l>=i?-1:l;if(o===this.size||s&&o===this.size-1||-1===o)return this.set(t,r),this;let c=this.size+ +!s;a<0&&l++;let u=[...this.#e],d=!1;for(let e=l;e<c;e++)if(l===e){let i=u[e];u[e]===t&&(i=u[e+1]),s&&this.delete(t),n=this.get(i),this.set(t,r)}else{d||u[e-1]!==t||(d=!0);let r=u[d?e:e-1],s=n;n=this.get(r),this.delete(r),this.set(r,s)}return this}with(t,r,n){let s=new e(this);return s.insert(t,r,n),s}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n,t,r)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=g(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=g(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return g(this.#e,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.at(n)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.keyAt(n)}find(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return n;r++}}findIndex(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return r;r++}return -1}filter(t,r){let n=[],s=0;for(let e of this)Reflect.apply(t,r,[e,s,this])&&n.push(e),s++;return new e(n)}map(t,r){let n=[],s=0;for(let e of this)n.push([e[0],Reflect.apply(t,r,[e,s,this])]),s++;return new e(n)}reduce(...e){let[t,r]=e,n=0,s=r??this.at(0);for(let r of this)s=0===n&&1===e.length?r:Reflect.apply(t,this,[s,r,n,this]),n++;return s}reduceRight(...e){let[t,r]=e,n=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let s=this.at(r);n=r===this.size-1&&1===e.length?s:Reflect.apply(t,this,[n,s,r,this])}return n}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),n=this.get(r);t.set(r,n)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let n=new e,s=this.size-1;if(void 0===t)return n;t<0&&(t+=this.size),void 0!==r&&r>0&&(s=r-1);for(let e=t;e<=s;e++){let t=this.keyAt(e),r=this.get(t);n.set(t,r)}return n}every(e,t){let r=0;for(let n of this){if(!Reflect.apply(e,t,[n,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return!0;r++}return!1}});var w=e.i(34620),N=r[" useId ".trim().toString()]||(()=>void 0),j=0,C=e.i(30207);e.i(83986);var R=r[" useInsertionEffect ".trim().toString()]||w.useLayoutEffect;function S({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){let[i,a,l]=function({defaultProp:e,onChange:t}){let[n,s]=r.useState(e),i=r.useRef(n),a=r.useRef(t);return R(()=>{a.current=t},[t]),r.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,s,a]}({defaultProp:t,onChange:n}),o=void 0!==e,c=o?e:i;{let t=r.useRef(void 0!==e);r.useEffect(()=>{let e=t.current;if(e!==o){let t=o?"controlled":"uncontrolled";console.warn(`${s} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,s])}return[c,r.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&l.current?.(r)}else a(t)},[o,e,a,l])]}Symbol("RADIX:SYNC_STATE");var k=r.createContext(void 0);function E(e){let t=r.useContext(k);return e||t||"ltr"}var A="rovingFocusGroup.onEntryFocus",I={bubbles:!1,cancelable:!0},O="RovingFocusGroup",[F,T,P]=function(e){let n=e+"CollectionProvider",[s,i]=h(n),[a,l]=s(n,{collectionRef:{current:null},itemMap:new Map}),o=e=>{let{scope:n,children:s}=e,i=r.default.useRef(null),l=r.default.useRef(new Map).current;return(0,t.jsx)(a,{scope:n,itemMap:l,collectionRef:i,children:s})};o.displayName=n;let c=e+"CollectionSlot",u=m(c),d=r.default.forwardRef((e,r)=>{let{scope:n,children:s}=e,i=f(r,l(c,n).collectionRef);return(0,t.jsx)(u,{ref:i,children:s})});d.displayName=c;let p=e+"CollectionItemSlot",v="data-radix-collection-item",x=m(p),y=r.default.forwardRef((e,n)=>{let{scope:s,children:i,...a}=e,o=r.default.useRef(null),c=f(n,o),u=l(p,s);return r.default.useEffect(()=>(u.itemMap.set(o,{ref:o,...a}),()=>void u.itemMap.delete(o))),(0,t.jsx)(x,{...{[v]:""},ref:c,children:i})});return y.displayName=p,[{Provider:o,Slot:d,ItemSlot:y},function(t){let n=l(e+"CollectionConsumer",t);return r.default.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${v}]`));return Array.from(n.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[n.collectionRef,n.itemMap])},i]}(O),[_,L]=h(O,[P]),[M,D]=_(O),B=r.forwardRef((e,r)=>(0,t.jsx)(F.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(F.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)($,{...e,ref:r})})}));B.displayName=O;var $=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:s,orientation:i,loop:a=!1,dir:l,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=e,v=r.useRef(null),y=f(n,v),g=E(l),[b,w]=S({prop:o,defaultProp:u??null,onChange:d,caller:O}),[N,j]=r.useState(!1),R=(0,C.useCallbackRef)(h),k=T(s),F=r.useRef(!1),[P,_]=r.useState(0);return r.useEffect(()=>{let e=v.current;if(e)return e.addEventListener(A,R),()=>e.removeEventListener(A,R)},[R]),(0,t.jsx)(M,{scope:s,orientation:i,dir:g,loop:a,currentTabStopId:b,onItemFocus:r.useCallback(e=>w(e),[w]),onItemShiftTab:r.useCallback(()=>j(!0),[]),onFocusableItemAdd:r.useCallback(()=>_(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>_(e=>e-1),[]),children:(0,t.jsx)(x.div,{tabIndex:N||0===P?-1:0,"data-orientation":i,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:c(e.onMouseDown,()=>{F.current=!0}),onFocus:c(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!N){let t=new CustomEvent(A,I);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=k().filter(e=>e.focusable);H([e.find(e=>e.active),e.find(e=>e.id===b),...e].filter(Boolean).map(e=>e.ref.current),m)}}F.current=!1}),onBlur:c(e.onBlur,()=>j(!1))})})}),U="RovingFocusGroupItem",z=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:s,focusable:i=!0,active:a=!1,tabStopId:l,children:o,...u}=e,d=function(e){let[t,n]=r.useState(N());return(0,w.useLayoutEffect)(()=>{n(e=>e??String(j++))},[void 0]),t?`radix-${t}`:""}(),f=l||d,h=D(U,s),m=h.currentTabStopId===f,p=T(s),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:g}=h;return r.useEffect(()=>{if(i)return v(),()=>y()},[i,v,y]),(0,t.jsx)(F.ItemSlot,{scope:s,id:f,focusable:i,active:a,children:(0,t.jsx)(x.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...u,ref:n,onMouseDown:c(e.onMouseDown,e=>{i?h.onItemFocus(f):e.preventDefault()}),onFocus:c(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:c(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let s=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return V[s]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=p().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&s.reverse();let i=s.indexOf(e.currentTarget);s=h.loop?(r=s,n=i+1,r.map((e,t)=>r[(n+t)%r.length])):s.slice(i+1)}setTimeout(()=>H(s))}}),children:"function"==typeof o?o({isCurrentTabStop:m,hasTabStop:null!=g}):o})})});z.displayName=U;var V={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var W=e=>{var t;let n,s,{present:i,children:a}=e,l=function(e){var t,n;let[s,i]=r.useState(),a=r.useRef(null),l=r.useRef(e),o=r.useRef("none"),[c,u]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>n[e][t]??e,t));return r.useEffect(()=>{let e=K(a.current);o.current="mounted"===c?e:"none"},[c]),(0,w.useLayoutEffect)(()=>{let t=a.current,r=l.current;if(r!==e){let n=o.current,s=K(t);e?u("MOUNT"):"none"===s||t?.display==="none"?u("UNMOUNT"):r&&n!==s?u("ANIMATION_OUT"):u("UNMOUNT"),l.current=e}},[e,u]),(0,w.useLayoutEffect)(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,r=r=>{let n=K(a.current).includes(CSS.escape(r.animationName));if(r.target===s&&n&&(u("ANIMATION_END"),!l.current)){let r=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=r)})}},n=e=>{e.target===s&&(o.current=K(a.current))};return s.addEventListener("animationstart",n),s.addEventListener("animationcancel",r),s.addEventListener("animationend",r),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",n),s.removeEventListener("animationcancel",r),s.removeEventListener("animationend",r)}}u("ANIMATION_END")},[s,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:r.useCallback(e=>{a.current=e?getComputedStyle(e):null,i(e)},[])}}(i),o="function"==typeof a?a({present:l.isPresent}):r.Children.only(a),c=f(l.ref,(t=o,(s=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof a||l.isPresent?r.cloneElement(o,{ref:c}):null};function K(e){return e?.animationName||"none"}W.displayName="Presence";var q="Radio",[G,J]=h(q),[Y,X]=G(q),Z=r.forwardRef((e,n)=>{let{__scopeRadio:s,name:i,checked:a=!1,required:l,disabled:o,value:u="on",onCheck:d,form:h,...m}=e,[p,v]=r.useState(null),y=f(n,e=>v(e)),g=r.useRef(!1),b=!p||h||!!p.closest("form");return(0,t.jsxs)(Y,{scope:s,checked:a,disabled:o,children:[(0,t.jsx)(x.button,{type:"button",role:"radio","aria-checked":a,"data-state":er(a),"data-disabled":o?"":void 0,disabled:o,value:u,...m,ref:y,onClick:c(e.onClick,e=>{a||d?.(),b&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),b&&(0,t.jsx)(et,{control:p,bubbles:!g.current,name:i,value:u,checked:a,required:l,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});Z.displayName=q;var Q="RadioIndicator",ee=r.forwardRef((e,r)=>{let{__scopeRadio:n,forceMount:s,...i}=e,a=X(Q,n);return(0,t.jsx)(W,{present:s||a.checked,children:(0,t.jsx)(x.span,{"data-state":er(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:r})})});ee.displayName=Q;var et=r.forwardRef(({__scopeRadio:e,control:n,checked:s,bubbles:i=!0,...a},l)=>{let o,c=r.useRef(null),u=f(c,l),d=(o=r.useRef({value:s,previous:s}),r.useMemo(()=>(o.current.value!==s&&(o.current.previous=o.current.value,o.current.value=s),o.current.previous),[s])),h=function(e){let[t,n]=r.useState(void 0);return(0,w.useLayoutEffect)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,s;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,s=t.blockSize}else r=e.offsetWidth,s=e.offsetHeight;n({width:r,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(n);return r.useEffect(()=>{let e=c.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==s&&t){let r=new Event("click",{bubbles:i});t.call(e,s),e.dispatchEvent(r)}},[d,s,i]),(0,t.jsx)(x.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:u,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function er(e){return e?"checked":"unchecked"}et.displayName="RadioBubbleInput";var en=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],es="RadioGroup",[ei,ea]=h(es,[L,J]),el=L(),eo=J(),[ec,eu]=ei(es),ed=r.forwardRef((e,r)=>{let{__scopeRadioGroup:n,name:s,defaultValue:i,value:a,required:l=!1,disabled:o=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=el(n),p=E(u),[v,y]=S({prop:a,defaultProp:i??null,onChange:f,caller:es});return(0,t.jsx)(ec,{scope:n,name:s,required:l,disabled:o,value:v,onValueChange:y,children:(0,t.jsx)(B,{asChild:!0,...m,orientation:c,dir:p,loop:d,children:(0,t.jsx)(x.div,{role:"radiogroup","aria-required":l,"aria-orientation":c,"data-disabled":o?"":void 0,dir:p,...h,ref:r})})})});ed.displayName=es;var ef="RadioGroupItem",eh=r.forwardRef((e,n)=>{let{__scopeRadioGroup:s,disabled:i,...a}=e,l=eu(ef,s),o=l.disabled||i,u=el(s),d=eo(s),h=r.useRef(null),m=f(n,h),p=l.value===a.value,v=r.useRef(!1);return r.useEffect(()=>{let e=e=>{en.includes(e.key)&&(v.current=!0)},t=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(z,{asChild:!0,...u,focusable:!o,active:p,children:(0,t.jsx)(Z,{disabled:o,required:l.required,checked:p,...d,...a,name:l.name,ref:m,onCheck:()=>l.onValueChange(a.value),onKeyDown:c(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:c(a.onFocus,()=>{v.current&&h.current?.click()})})})});eh.displayName=ef;var em=r.forwardRef((e,r)=>{let{__scopeRadioGroup:n,...s}=e,i=eo(n);return(0,t.jsx)(ee,{...i,...s,ref:r})});em.displayName="RadioGroupIndicator";var ep=e.i(33498),ev=e.i(47163);function ex({className:e,...r}){return(0,t.jsx)(ed,{"data-slot":"radio-group",className:(0,ev.cn)("grid gap-3",e),...r})}function ey({className:e,...r}){return(0,t.jsx)(eh,{"data-slot":"radio-group-item",className:(0,ev.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(em,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)(ep.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var eg=e.i(55436),eb=e.i(69074),ew=e.i(40160),eN=e.i(31278),ej=e.i(20682);function eC(){let[e,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[f,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)([]),[v,x]=(0,r.useState)(null),{toast:y}=(0,ej.useToast)(),[g,b]=(0,r.useState)({pin:"",customerName:"",email:"",phone:"",address:"",city:"",postalCode:"",notes:"",branchScope:"current"});(0,r.useEffect)(()=>{N(),w();let e=setInterval(()=>{w()},1e3);return()=>clearInterval(e)},[]);let w=()=>{let e=localStorage.getItem("selectedBranch");if(e)try{let t=JSON.parse(e);x(t)}catch(e){console.error("[v0] Error parsing stored branch:",e)}},N=async()=>{try{let e=await fetch("/api/branches"),t=await e.json();if(!t.success)throw Error(t.error);p(t.data||[]),t.data&&t.data.length>0&&(localStorage.getItem("selectedBranch")||x(t.data[0]))}catch(e){console.error("Error fetching branches:",e)}},j=async e=>{let t=e.target.files?.[0];if(t){h(!0);try{let r=(await t.text()).split("\n").slice(1),n=[];for(let e of r){if(!e.trim())continue;let[t,r,s,i,a,l,o,c,u]=e.split(","),d=u?.trim().toLowerCase(),f={tin:t?.trim(),cust_tin:t?.trim(),cust_nm:r?.trim(),email:s?.trim()||null,tel_no:i?.trim()||null,adrs:`${a?.trim()||""}, ${l?.trim()||""}, ${o?.trim()||""}`.trim()||null,remark:c?.trim()||null,use_yn:"Y"};if("all"===d)for(let e of m)n.push({...f,branch_id:e.id,bhf_id:e.bhf_id});else n.push({...f,branch_id:v?.id,bhf_id:v?.bhf_id})}for(let e of n)await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});y({title:"Customers Imported",description:`Successfully imported ${n.length} customer record(s).`}),e.target.value=""}catch(e){console.error("[v0] CSV upload error:",e),y({title:"Import Failed",description:e instanceof Error?e.message:"Failed to import customers.",variant:"destructive"})}finally{h(!1)}}},C=async()=>{if(!g.pin||!g.customerName)return void y({title:"Validation Error",description:"PIN and Customer Name are required fields.",variant:"destructive"});if(w(),!v)return void y({title:"No Branch Found",description:"Please select a branch first.",variant:"destructive"});d(!0);try{let e=await fetch("/api/branches?limit=100"),t=await e.json(),r=t.success?t.data:[],n=r.find(e=>e.id===v.id);if(!n)throw Error("Could not find branch details. Please try again.");if(!n.bhf_id)throw Error(`Branch "${n.name}" does not have a BHF ID configured. Please configure it in settings.`);let s=[],i={tin:g.pin,cust_tin:g.pin,cust_nm:g.customerName,email:g.email||null,tel_no:g.phone||null,adrs:`${g.address}, ${g.city}, ${g.postalCode}`.replace(/^, |, $/g,"").trim()||null,remark:g.notes||null,use_yn:"Y"};if("all"===g.branchScope)for(let e of r||[]){if(!e.bhf_id){console.warn(`[v0] Skipping branch "${e.name}" - no BHF ID configured`);continue}s.push({...i,branch_id:e.id,bhf_id:e.bhf_id})}else s.push({...i,branch_id:n.id,bhf_id:n.bhf_id});if(0===s.length)throw Error("No branches with valid BHF IDs found. Please configure branch BHF IDs in settings.");for(let e of s)await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});y({title:"Customer Registered",description:`${g.customerName} has been added to ${"all"===g.branchScope?"all branches":n.name}.`}),b({pin:"",customerName:"",email:"",phone:"",address:"",city:"",postalCode:"",notes:"",branchScope:"current"})}catch(e){console.error("[v0] Registration error:",e),y({title:"Registration Failed",description:e instanceof Error?e.message:"Failed to register customer.",variant:"destructive"})}finally{d(!1)}};return(0,t.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-b from-slate-900 via-blue-900 to-white",children:[(0,t.jsx)(n.DashboardSidebar,{collapsed:e,onToggle:()=>c(!e)}),(0,t.jsx)("div",{className:"flex-1 flex flex-col ml-8 my-6 mr-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-tl-3xl shadow-2xl flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(s.DashboardHeader,{}),(0,t.jsxs)("main",{className:"flex-1 overflow-y-auto p-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-balance",children:"Register Customer"}),(0,t.jsx)("p",{className:"mt-1 text-muted-foreground text-pretty",children:"Add a new customer to your database"})]}),(0,t.jsxs)("div",{className:"relative w-96",children:[(0,t.jsx)(eg.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(a.Input,{placeholder:"Search customers...",className:"pl-10 rounded-xl"})]})]}),(0,t.jsxs)(i.Card,{className:"rounded-2xl mb-6",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Bulk Import"})}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload multiple customers at once using a CSV file. Download the template to see the required format."}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(o.Button,{variant:"outline",className:"rounded-xl bg-transparent",onClick:()=>{let e=new Blob([`PIN,Customer Name,Email,Phone,Address,City,Postal Code,Notes,Branch
P051234567A,Sample Customer,customer@example.com,+254 700 000000,123 Main Street,Nairobi,00100,Sample notes,current
P051234568B,Another Customer,another@example.com,+254 700 000001,456 Oak Avenue,Mombasa,80100,More notes,all`],{type:"text/csv"}),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="customer_template.csv",r.click(),window.URL.revokeObjectURL(t),y({title:"Template Downloaded",description:"Customer CSV template with branch selection has been downloaded."})},children:[(0,t.jsx)(ew.Download,{className:"h-4 w-4 mr-2"}),"Download Template"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"file",accept:".csv",onChange:j,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:f}),(0,t.jsx)(o.Button,{className:"rounded-xl",disabled:f,children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eN.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eb.Upload,{className:"h-4 w-4 mr-2"}),"Upload CSV"]})})]})]})]})]}),(0,t.jsxs)(i.Card,{className:"rounded-2xl max-w-3xl",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Customer Information"})}),(0,t.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3 p-4 border rounded-xl bg-muted/30",children:[(0,t.jsx)(l.Label,{children:"Register Customer For"}),(0,t.jsxs)(ex,{value:g.branchScope,onValueChange:e=>b({...g,branchScope:e}),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ey,{value:"current",id:"current"}),(0,t.jsxs)(l.Label,{htmlFor:"current",className:"font-normal cursor-pointer",children:["Current Branch Only (",v?.name||"No branch selected",")"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ey,{value:"all",id:"all"}),(0,t.jsxs)(l.Label,{htmlFor:"all",className:"font-normal cursor-pointer",children:["All Branches (",m.length," branches)"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"pin",children:"Tax Authority PIN *"}),(0,t.jsx)(a.Input,{id:"pin",placeholder:"Enter PIN",className:"rounded-xl",value:g.pin,onChange:e=>b({...g,pin:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"customerName",children:"Customer Name *"}),(0,t.jsx)(a.Input,{id:"customerName",placeholder:"Enter customer name",className:"rounded-xl",value:g.customerName,onChange:e=>b({...g,customerName:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"email",children:"Email Address"}),(0,t.jsx)(a.Input,{id:"email",type:"email",placeholder:"customer@example.com",className:"rounded-xl",value:g.email,onChange:e=>b({...g,email:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"phone",children:"Phone Number"}),(0,t.jsx)(a.Input,{id:"phone",placeholder:"+254 700 000000",className:"rounded-xl",value:g.phone,onChange:e=>b({...g,phone:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"address",children:"Physical Address"}),(0,t.jsx)(a.Input,{id:"address",placeholder:"Enter address",className:"rounded-xl",value:g.address,onChange:e=>b({...g,address:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"city",children:"City"}),(0,t.jsx)(a.Input,{id:"city",placeholder:"Enter city",className:"rounded-xl",value:g.city,onChange:e=>b({...g,city:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"postalCode",children:"Postal Code"}),(0,t.jsx)(a.Input,{id:"postalCode",placeholder:"Enter postal code",className:"rounded-xl",value:g.postalCode,onChange:e=>b({...g,postalCode:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"notes",children:"Additional Notes"}),(0,t.jsx)(a.Input,{id:"notes",placeholder:"Any additional information",className:"rounded-xl",value:g.notes,onChange:e=>b({...g,notes:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(o.Button,{className:"rounded-xl",onClick:C,disabled:u,children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eN.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Registering..."]}):"Register Customer"}),(0,t.jsx)(o.Button,{variant:"outline",className:"rounded-xl bg-transparent",onClick:()=>{b({pin:"",customerName:"",email:"",phone:"",address:"",city:"",postalCode:"",notes:"",branchScope:"current"})},children:"Clear Form"})]})]})]})]}),(0,t.jsx)("footer",{className:"border-t px-8 py-4 text-center text-sm text-muted-foreground",children:"Powered by Sensile Technologies East Africa Ltd"})]})})]})}e.s(["default",()=>eC],30811)}]);