(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},70065,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>r,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},94179,e=>{"use strict";var t=e.i(43476),s=e.i(91918),a=e.i(25913),i=e.i(47163);let n=(0,a.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,asChild:l=!1,...r}){let d=l?s.Slot:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(n({variant:a}),e),...r})}e.s(["Badge",()=>l])},83986,e=>{"use strict";var t=e.i(34620),s=e.i(71645),a=s[" useEffectEvent ".trim().toString()],i=s[" useInsertionEffect ".trim().toString()];function n(e){if("function"==typeof a)return a(e);let n=s.useRef(()=>{throw Error("Cannot call an event handler while rendering.")});return"function"==typeof i?i(()=>{n.current=e}):(0,t.useLayoutEffect)(()=>{n.current=e}),s.useMemo(()=>(...e)=>n.current?.(...e),[])}e.s(["useEffectEvent",()=>n])},67881,e=>{"use strict";var t=e.i(43476),s=e.i(91918),a=e.i(25913),i=e.i(47163);let n=(0,a.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:a,size:l,asChild:r=!1,...d}){let o=r?s.Slot:"button";return(0,t.jsx)(o,{"data-slot":"button",className:(0,i.cn)(n({variant:a,size:l,className:e})),...d})}e.s(["Button",()=>l])},75254,e=>{"use strict";var t=e.i(71645);let s=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:r="",children:d,iconNode:o,...c},m)=>(0,t.createElement)("svg",{ref:m,...a,width:i,height:i,stroke:e,strokeWidth:l?24*Number(n)/Number(i):n,className:s("lucide",r),...c},[...o.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(d)?d:[d]])),n=(e,a)=>{let n=(0,t.forwardRef)(({className:n,...l},r)=>(0,t.createElement)(i,{ref:r,iconNode:a,className:s(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...l}));return n.displayName=`${e}`,n};e.s(["default",()=>n],75254)},34620,e=>{"use strict";var t=e.i(71645),s=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>s])},30207,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef(e);return t.useEffect(()=>{s.current=e}),t.useMemo(()=>(...e)=>s.current?.(...e),[])}e.s(["useCallbackRef",()=>s])},70152,e=>{"use strict";function t(e,[t,s]){return Math.min(s,Math.max(t,e))}e.s(["clamp",()=>t])},23750,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,type:a,...i}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>a])},10708,e=>{"use strict";var t=e.i(43476),s=e.i(71645);e.i(74080);var a=e.i(91918),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let n=(0,a.createSlot)(`Primitive.${i}`),l=s.forwardRef((e,s)=>{let{asChild:a,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?n:i,{...l,ref:s})});return l.displayName=`Primitive.${i}`,{...e,[i]:l}},{}),n=s.forwardRef((e,s)=>(0,t.jsx)(i.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=e.i(47163);function r({className:e,...s}){return(0,t.jsx)(n,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}e.s(["Label",()=>r],10708)},33541,e=>{"use strict";var t=e.i(71645);function s(){let[e]=(0,t.useState)("en-KE"),[s]=(0,t.useState)("KES");return{userLocale:e,currency:s,formatCurrency:t=>new Intl.NumberFormat(e,{style:"currency",currency:s,currencyDisplay:"code"}).format(t).replace("KES","KES ")}}e.s(["useCurrency",()=>s])},40160,e=>{"use strict";let t=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],40160)},3281,e=>{"use strict";let t=(0,e.i(75254).default)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],3281)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},22858,e=>{"use strict";let t=(0,e.i(75254).default)("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);e.s(["Fuel",()=>t],22858)},70587,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(32219),i=e.i(22623),n=e.i(70065),l=e.i(67881),r=e.i(23750),d=e.i(40160),o=e.i(3281),c=e.i(31278),m=e.i(17923),x=e.i(22858),u=e.i(63209),h=e.i(3116),p=e.i(84614),g=e.i(87316),f=e.i(73375),j=e.i(63059),y=e.i(94179),v=e.i(33541),b=e.i(10708);function N(){let[e,N]=(0,s.useState)(!1),[w,_]=(0,s.useState)(!1),C=new Date().toISOString().split("T")[0],[S,L]=(0,s.useState)(C),[D,k]=(0,s.useState)(C),[F,T]=(0,s.useState)(!0),[z,q]=(0,s.useState)([]),[M,E]=(0,s.useState)([]),[A,U]=(0,s.useState)({claimed_quantity:0,claimed_amount:0,unclaimed_quantity:0,unclaimed_amount:0}),{formatCurrency:B}=(0,v.useCurrency)(),[O,R]=(0,s.useState)(1),[P,$]=(0,s.useState)([]),[I,V]=(0,s.useState)(null),[H,K]=(0,s.useState)(!1),J=(0,s.useCallback)(async()=>{try{T(!0);let e=localStorage.getItem("selectedBranch"),t="";if(e&&(t=JSON.parse(e).id),!t){q([]),E([]),U({claimed_quantity:0,claimed_amount:0,unclaimed_quantity:0,unclaimed_amount:0});return}let s=new URLSearchParams;s.append("branch_id",t),s.append("start_date",S),s.append("end_date",D);let a=await fetch(`/api/shifts/daily-summary?${s.toString()}`),i=await a.json();i.success&&i.data?(q(i.data.shifts||[]),E(i.data.productTotals||[]),U(i.data.grandTotals||{claimed_quantity:0,claimed_amount:0,unclaimed_quantity:0,unclaimed_amount:0})):(q([]),E([]),U({claimed_quantity:0,claimed_amount:0,unclaimed_quantity:0,unclaimed_amount:0}))}catch(e){console.error("Error fetching daily sales:",e),q([]),E([]),U({claimed_quantity:0,claimed_amount:0,unclaimed_quantity:0,unclaimed_amount:0})}finally{T(!1)}},[S,D]);(0,s.useEffect)(()=>{R(1),J()},[J]);let W=(0,s.useCallback)(async()=>{try{K(!0);let e=localStorage.getItem("selectedBranch"),t=localStorage.getItem("user"),s="",a="";if(e&&(s=JSON.parse(e).id),t&&(a=JSON.parse(t).id),!s){$([]),V(null);return}let i=new URLSearchParams;i.append("branch_id",s),i.append("date",S),a&&i.append("user_id",a);let n=await fetch(`/api/shifts/nozzle-report?${i.toString()}`),l=await n.json();l.success&&l.data?($(l.data.nozzles||[]),V(l.data.totals||null)):($([]),V(null))}catch(e){console.error("Error fetching nozzle report:",e),$([]),V(null)}finally{K(!1)}},[S]);(0,s.useEffect)(()=>{W()},[W]);let G=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),Z=A.claimed_amount+A.unclaimed_amount,Q=A.claimed_quantity+A.unclaimed_quantity;return(0,t.jsxs)("div",{className:"flex min-h-screen w-full overflow-x-hidden bg-gradient-to-b from-slate-900 via-blue-900 to-white",children:[(0,t.jsx)(a.default,{collapsed:e,onToggle:()=>N(!e),mobileOpen:w,onMobileClose:()=>_(!1)}),(0,t.jsx)("div",{className:"flex-1 flex flex-col min-w-0 lg:ml-8 my-2 lg:my-6 mx-2 lg:mr-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl lg:rounded-tl-3xl shadow-2xl flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(i.default,{onMobileMenuToggle:()=>_(!w)}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-slate-50 p-3 md:p-6",children:(0,t.jsxs)("div",{className:"w-full max-w-7xl mx-auto space-y-4 md:space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 md:mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Daily Sales Report"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Comprehensive daily sales breakdown by shift"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{window.print()},children:[(0,t.jsx)(o.Printer,{className:"h-4 w-4 mr-1 sm:mr-2"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Print"})]}),(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{let e=[["Shift","Cashier","Fuel Type","Claimed (L)","Claimed Amount","Unclaimed (L)","Unclaimed Amount"]];z.forEach(t=>{let s=new Date(t.start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});t.items.forEach(a=>{e.push([s,t.cashier_name,a.fuel_type,a.claimed_quantity.toFixed(2),a.claimed_amount.toFixed(2),a.unclaimed_quantity.toFixed(2),a.unclaimed_amount.toFixed(2)])})}),e.push(["TOTAL","","",A.claimed_quantity.toFixed(2),A.claimed_amount.toFixed(2),A.unclaimed_quantity.toFixed(2),A.unclaimed_amount.toFixed(2)]);let t=new Blob([e.map(e=>e.join(",")).join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`sales-report-${S}-to-${D}.csv`,a.click(),window.URL.revokeObjectURL(s)},children:[(0,t.jsx)(d.Download,{className:"h-4 w-4 mr-1 sm:mr-2"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-4 md:mb-6",children:[(0,t.jsx)(n.Card,{className:"rounded-2xl",children:(0,t.jsxs)(n.CardContent,{className:"pt-4 md:pt-6",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm text-slate-600",children:"Total Sales"}),(0,t.jsx)("p",{className:"text-lg md:text-2xl font-bold mt-1 md:mt-2",children:F?(0,t.jsx)(c.Loader2,{className:"h-5 w-5 animate-spin"}):B(Z)})]})}),(0,t.jsx)(n.Card,{className:"rounded-2xl",children:(0,t.jsxs)(n.CardContent,{className:"pt-4 md:pt-6",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm text-slate-600",children:"Claimed Sales"}),(0,t.jsx)("p",{className:"text-lg md:text-2xl font-bold mt-1 md:mt-2 text-green-600",children:F?(0,t.jsx)(c.Loader2,{className:"h-5 w-5 animate-spin"}):B(A.claimed_amount)})]})}),(0,t.jsx)(n.Card,{className:"rounded-2xl",children:(0,t.jsxs)(n.CardContent,{className:"pt-4 md:pt-6",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm text-slate-600",children:"Unclaimed Sales"}),(0,t.jsx)("p",{className:"text-lg md:text-2xl font-bold mt-1 md:mt-2 text-amber-600",children:F?(0,t.jsx)(c.Loader2,{className:"h-5 w-5 animate-spin"}):B(A.unclaimed_amount)})]})}),(0,t.jsx)(n.Card,{className:"rounded-2xl",children:(0,t.jsxs)(n.CardContent,{className:"pt-4 md:pt-6",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm text-slate-600",children:"Total Volume (L)"}),(0,t.jsx)("p",{className:"text-lg md:text-2xl font-bold mt-1 md:mt-2",children:F?(0,t.jsx)(c.Loader2,{className:"h-5 w-5 animate-spin"}):Q.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]})})]}),(0,t.jsx)(n.Card,{className:"rounded-2xl",children:(0,t.jsx)(n.CardHeader,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:(0,t.jsxs)(n.CardTitle,{className:"text-lg md:text-xl flex items-center gap-2",children:[(0,t.jsx)(g.Calendar,{className:"h-5 w-5 text-blue-500"}),"Date Range Filter"]})}),(0,t.jsxs)("div",{className:"flex flex-wrap items-end gap-3",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(b.Label,{className:"text-xs text-slate-600",children:"From"}),(0,t.jsx)(r.Input,{type:"date",value:S,onChange:e=>L(e.target.value),className:"w-36 rounded-xl"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(b.Label,{className:"text-xs text-slate-600",children:"To"}),(0,t.jsx)(r.Input,{type:"date",value:D,onChange:e=>k(e.target.value),className:"w-36 rounded-xl"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>{L(C),k(C)},children:"Today"}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>{let e=new Date;e.setDate(e.getDate()-7),L(e.toISOString().split("T")[0]),k(C)},children:"Last 7 Days"}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>{let e=new Date;e.setDate(e.getDate()-30),L(e.toISOString().split("T")[0]),k(C)},children:"Last 30 Days"})]})]})]})})}),M.length>0&&(0,t.jsxs)(n.Card,{className:"rounded-2xl",children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)(n.CardTitle,{className:"text-lg md:text-xl flex items-center gap-2",children:[(0,t.jsx)(x.Fuel,{className:"h-5 w-5 text-blue-500"}),"Product Summary"]}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["Cumulative sales by product for the selected period",S!==D&&` (${S} to ${D})`]})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-xs md:text-sm bg-slate-50",children:[(0,t.jsx)("th",{className:"text-left py-2 px-4 font-semibold text-slate-700",children:"Product"}),(0,t.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-green-700",children:"Claimed (L)"}),(0,t.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-green-700",children:"Claimed Amount"}),(0,t.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-amber-700",children:"Unclaimed (L)"}),(0,t.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-amber-700",children:"Unclaimed Amount"}),(0,t.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-slate-700",children:"Total (L)"}),(0,t.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-slate-700",children:"Total Amount"})]})}),(0,t.jsxs)("tbody",{children:[M.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b hover:bg-slate-50 text-xs md:text-sm",children:[(0,t.jsx)("td",{className:"py-2 px-4 font-medium",children:e.fuel_type}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:e.claimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:B(e.claimed_amount)}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:e.unclaimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:B(e.unclaimed_amount)}),(0,t.jsx)("td",{className:"py-2 px-4 text-right font-mono font-semibold",children:(e.claimed_quantity+e.unclaimed_quantity).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right font-mono font-semibold",children:B(e.claimed_amount+e.unclaimed_amount)})]},s)),(0,t.jsxs)("tr",{className:"font-bold bg-slate-100 text-xs md:text-sm",children:[(0,t.jsx)("td",{className:"py-2 px-4",children:"TOTAL"}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:A.claimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:B(A.claimed_amount)}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:A.unclaimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:B(A.unclaimed_amount)}),(0,t.jsx)("td",{className:"py-2 px-4 text-right font-mono",children:Q.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right font-mono",children:B(Z)})]})]})]})})})]}),(0,t.jsxs)(n.Card,{className:"rounded-2xl",children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)(n.CardTitle,{className:"text-lg md:text-xl",children:"Shift Details"}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:[z.length," shift",1!==z.length?"s":""," in selected period",z.length>20&&` (showing ${(O-1)*20+1}-${Math.min(20*O,z.length)})`]})]}),(0,t.jsx)(n.CardContent,{children:F?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,t.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading sales data..."})]}):0===z.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(m.BarChart3,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No shifts recorded for this period"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Try selecting a different date range"})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[z.slice((O-1)*20,20*O).map(e=>(0,t.jsxs)("div",{className:"border rounded-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-slate-100 px-4 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[S!==D&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-sm",children:[(0,t.jsx)(g.Calendar,{className:"h-4 w-4 text-slate-500"}),(0,t.jsx)("span",{className:"font-medium",children:new Date(e.start_time).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-sm",children:[(0,t.jsx)(h.Clock,{className:"h-4 w-4 text-slate-500"}),(0,t.jsx)("span",{className:"font-medium",children:G(e.start_time)}),e.end_time&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"-"}),(0,t.jsx)("span",{className:"font-medium",children:G(e.end_time)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-sm",children:[(0,t.jsx)(p.User,{className:"h-4 w-4 text-slate-500"}),(0,t.jsx)("span",{children:e.cashier_name})]})]}),(0,t.jsx)(y.Badge,{variant:"closed"===e.status?"secondary":"default",children:"closed"===e.status?"Closed":"Open"})]}),0===e.items.length?(0,t.jsx)("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"No fuel sales recorded in this shift"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-xs md:text-sm bg-slate-50",children:[(0,t.jsx)("th",{className:"text-left py-2 px-4 font-semibold text-slate-700",children:"Fuel Type"}),(0,t.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-green-700",children:"Claimed (L)"}),(0,t.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-green-700",children:"Claimed Amount"}),(0,t.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-amber-700",children:"Unclaimed (L)"}),(0,t.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-amber-700",children:"Unclaimed Amount"})]})}),(0,t.jsxs)("tbody",{children:[e.items.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b hover:bg-slate-50 text-xs md:text-sm",children:[(0,t.jsx)("td",{className:"py-2 px-4 font-medium",children:e.fuel_type}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:e.claimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:B(e.claimed_amount)}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:e.unclaimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:B(e.unclaimed_amount)})]},s)),(0,t.jsxs)("tr",{className:"font-bold bg-slate-50 text-xs md:text-sm",children:[(0,t.jsx)("td",{className:"py-2 px-4",children:"Shift Total"}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:e.totals.claimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:B(e.totals.claimed_amount)}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:e.totals.unclaimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:B(e.totals.unclaimed_amount)})]})]})]})})]},e.shift_id)),(0,t.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mt-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-900 mb-3",children:"Daily Grand Total"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-blue-700",children:"Claimed Volume"}),(0,t.jsxs)("p",{className:"font-bold text-green-700",children:[A.claimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," L"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-blue-700",children:"Claimed Amount"}),(0,t.jsx)("p",{className:"font-bold text-green-700",children:B(A.claimed_amount)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-blue-700",children:"Unclaimed Volume"}),(0,t.jsxs)("p",{className:"font-bold text-amber-700",children:[A.unclaimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," L"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-blue-700",children:"Unclaimed Amount"}),(0,t.jsx)("p",{className:"font-bold text-amber-700",children:B(A.unclaimed_amount)})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-100 rounded-lg p-3 md:p-4 text-xs",children:[(0,t.jsx)("h4",{className:"font-semibold text-slate-800 mb-2",children:"Understanding this report:"}),(0,t.jsxs)("ul",{className:"text-slate-600 space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"text-green-700 font-semibold",children:"Claimed"})," = Sales invoiced through the APK (with receipt)"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"text-amber-700 font-semibold",children:"Unclaimed"})," = Bulk sales from meter difference (dispensed but no invoice)"]})]})]}),z.length>20&&(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["Showing ",(O-1)*20+1," to ",Math.min(20*O,z.length)," of ",z.length," shifts"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>R(Math.max(1,O-1)),disabled:1===O,children:(0,t.jsx)(f.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsxs)("span",{className:"text-sm text-slate-600",children:["Page ",O," of ",Math.ceil(z.length/20)]}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>R(Math.min(Math.ceil(z.length/20),O+1)),disabled:O===Math.ceil(z.length/20),children:(0,t.jsx)(j.ChevronRight,{className:"h-4 w-4"})})]})]})]})})]}),(0,t.jsxs)(n.Card,{className:"rounded-2xl",children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:(0,t.jsxs)(n.CardTitle,{className:"text-lg md:text-xl flex items-center gap-2",children:[(0,t.jsx)(x.Fuel,{className:"h-5 w-5 text-blue-500"}),"Nozzle Sales Report"]})}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Station sales breakdown by nozzle with variance analysis"})]}),(0,t.jsx)(n.CardContent,{children:H?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,t.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading nozzle data..."})]}):0===P.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(x.Fuel,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No nozzle readings for this date"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Nozzle data is recorded when shifts are completed"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"overflow-x-auto -mx-3 md:mx-0",children:(0,t.jsxs)("table",{className:"w-full min-w-[700px]",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b bg-slate-50 text-xs md:text-sm",children:[(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Nozzle"}),(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Fuel Type"}),(0,t.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Opening"}),(0,t.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Closing"}),(0,t.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Meter Diff (L)"}),(0,t.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Invoiced (L)"}),(0,t.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Variance (L)"})]})}),(0,t.jsx)("tbody",{children:P.map(e=>(0,t.jsxs)("tr",{className:"border-b hover:bg-slate-50 text-xs md:text-sm",children:[(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 font-medium",children:e.nozzle_name}),(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4",children:(0,t.jsx)(y.Badge,{variant:"outline",children:e.fuel_type})}),(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono",children:e.opening_reading.toLocaleString()}),(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono",children:e.closing_reading.toLocaleString()}),(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono font-semibold",children:e.meter_difference.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono",children:e.invoiced_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right",children:(0,t.jsxs)("span",{className:`font-mono font-semibold ${0===e.variance?"text-green-600":e.variance>0?"text-amber-600":"text-red-600"}`,children:[e.variance>0?"+":"",e.variance.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),0!==e.variance&&(0,t.jsx)(u.AlertCircle,{className:"h-3 w-3 inline ml-1"})]})})]},e.nozzle_id))}),I&&(0,t.jsx)("tfoot",{className:"bg-slate-100",children:(0,t.jsxs)("tr",{className:"font-bold text-xs md:text-sm",children:[(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4",colSpan:4,children:"TOTAL STATION SALES"}),(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono",children:I.total_meter_difference.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono",children:I.total_invoiced_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,t.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right",children:(0,t.jsxs)("span",{className:`font-mono ${0===I.total_variance?"text-green-600":I.total_variance>0?"text-amber-600":"text-red-600"}`,children:[I.total_variance>0?"+":"",I.total_variance.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]})})]})}),(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 md:p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-900 mb-2 text-sm",children:"How to read this report:"}),(0,t.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Meter Difference"})," = Closing - Opening (actual fuel dispensed)"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Invoiced"})," = Total quantity from invoices issued"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Variance"})," = Meter Difference - Invoiced"]}),(0,t.jsxs)("li",{className:"text-amber-700",children:[(0,t.jsx)("strong",{children:"Positive"})," = More dispensed than invoiced (loss)"]}),(0,t.jsxs)("li",{className:"text-red-700",children:[(0,t.jsx)("strong",{children:"Negative"})," = Less dispensed than invoiced (error)"]})]})]})]})})]}),(0,t.jsxs)("footer",{className:"mt-12 border-t pt-6 pb-4 text-center text-sm text-muted-foreground",children:["Powered by ",(0,t.jsx)("span",{className:"font-semibold text-navy-900",children:"Sensile Technologies East Africa Ltd"})]})]})})]})})]})}e.s(["default",()=>N])}]);