module.exports=[43616,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(344),e=a.i(69265),f=a.i(40695),g=a.i(3130),h=a.i(21958),i=a.i(88237),j=a.i(54161),k=a.i(65733),l=a.i(17171),m=a.i(5522),n=a.i(7379),o=a.i(69520),p=a.i(87532),q=a.i(96221),r=a.i(83497),s=a.i(70106);let t=(0,s.default)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);var u=a.i(13655);let v=(0,s.default)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),w=(0,s.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var x=a.i(67453),y=a.i(74575),z=a.i(23292);function A(){let[a,d]=(0,c.useState)("all"),{formatCurrency:e}=(0,y.useCurrency)(),[s,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)(!0),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(null),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)({acceptanceTimestamp:new Date().toISOString().slice(0,16),remarks:""}),[ab,ac]=(0,c.useState)([]),[ad,ae]=(0,c.useState)([]),[af,ag]=(0,c.useState)([]),[ah,ai]=(0,c.useState)([]),aj=(0,c.useCallback)(async()=>{try{S(!0);let a=localStorage.getItem("selectedBranch"),b="";if(a){let c=JSON.parse(a);b=c.id,Y(c)}let c=new URLSearchParams;b&&c.append("branch_id",b),D&&c.append("search",D),F&&c.append("date_from",F),H&&c.append("date_to",H);let d=await fetch(`/api/purchases?${c.toString()}`),e=await d.json();e.success?K(e.purchases||[]):console.error("Failed to fetch purchases:",e.error)}catch(a){console.error("Error fetching purchases:",a)}finally{S(!1)}},[D,F,H]),ak=(0,c.useCallback)(async()=>{if(X?.id)try{U(!0);let a=await fetch(`/api/purchases/accept?branch_id=${X.id}`),b=await a.json();b.success&&M(b.data||[])}catch(a){console.error("Error fetching pending POs:",a)}finally{U(!1)}},[X]);(0,c.useCallback)(async()=>{if(X?.id)try{let[a,b]=await Promise.all([fetch(`/api/tanks?branch_id=${X.id}`),fetch(`/api/dispensers?branch_id=${X.id}`)]),c=await a.json(),d=await b.json();c.success&&(O(c.data||[]),ae((c.data||[]).map(a=>({tank_id:a.id,tank_name:a.tank_name,capacity:a.capacity||0,volume_before:a.current_stock||0,volume_after:0})))),d.success&&(Q(d.data||[]),ag((d.data||[]).map(a=>({dispenser_id:a.id,dispenser_name:`Dispenser ${a.dispenser_number}`,meter_reading_before:a.meter_reading||0,meter_reading_after:0}))))}catch(a){console.error("Error fetching tanks/dispensers:",a)}},[X]),(0,c.useEffect)(()=>{aj()},[aj]),(0,c.useEffect)(()=>{X?.id&&ak()},[X,ak]);let al=J.filter(a=>"purchase_order"===a.source),am=J.filter(a=>"transaction"===a.source);J.filter(a=>"approved"===a.status),J.filter(a=>"rejected"===a.status);let an=(0,c.useMemo)(()=>ab.reduce((a,b)=>a+(parseFloat(b.bowser_volume)||0),0),[ab]),ao=(0,c.useMemo)(()=>ad.reduce((a,b)=>a+((parseFloat(String(b.volume_after))||0)-(parseFloat(String(b.volume_before))||0)),0)+ah.reduce((a,b)=>a+((parseFloat(String(b.meter_reading_after))||0)-(parseFloat(String(b.meter_reading_before))||0)),0)-an,[an,ad,ah]),ap=async a=>{$(a),C(!1),A(!0),aa({acceptanceTimestamp:new Date().toISOString().slice(0,16),remarks:""}),ac([]);try{let b=await fetch(`/api/purchases/accept?purchase_order_id=${a.id}`),c=await b.json();c.success&&(O(c.tanks||[]),ae((c.tanks||[]).map(a=>({tank_id:a.id,tank_name:a.tank_name,capacity:parseFloat(a.capacity)||0,volume_before:a.current_stock||0,volume_after:0}))),Q(c.dispensers||[]),ag((c.dispensers||[]).map(a=>({dispenser_id:a.id,dispenser_name:`Dispenser ${a.dispenser_number}`,meter_reading_before:parseFloat(a.last_meter_reading)||0,meter_reading_after:0}))),ai((c.nozzles||[]).map(a=>({nozzle_id:a.id,nozzle_name:`P${a.dispenser_number||"?"} - N${a.nozzle_number}`,fuel_type:a.fuel_name||a.fuel_type||"Unknown",dispenser_number:a.dispenser_number||0,meter_reading_before:parseFloat(a.last_meter_reading)||0,meter_reading_after:0}))),ac((c.items||[]).map(a=>({item_id:a.item_id,item_name:a.item_name,ordered_quantity:parseFloat(a.quantity)||0,unit_price:parseFloat(a.unit_price)||0,bowser_volume:""}))))}catch(a){console.error("Error fetching PO-specific tanks/dispensers:",a)}},aq=async()=>{if(Z){if(!ab.some(a=>parseFloat(a.bowser_volume)>0))return void z.toast.error("Please enter bowser volume for at least one product");for(let a of ad){let b=parseFloat(String(a.volume_after))||0;if(a.capacity>0&&b>a.capacity)return void z.toast.error(`${a.tank_name}: Volume after (${b}L) exceeds capacity (${a.capacity}L)`)}try{W(!0);let a=await fetch("/api/purchases/accept",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({purchase_order_id:Z.id,bowser_volume:an,item_bowser_volumes:ab.map(a=>({item_id:a.item_id,bowser_volume:parseFloat(a.bowser_volume)||0})),acceptance_timestamp:_.acceptanceTimestamp,remarks:_.remarks,tank_readings:ad.map(a=>({tank_id:a.tank_id,volume_before:parseFloat(String(a.volume_before))||0,volume_after:parseFloat(String(a.volume_after))||0})),dispenser_readings:af.map(a=>({dispenser_id:a.dispenser_id,meter_reading_before:parseFloat(String(a.meter_reading_before))||0,meter_reading_after:parseFloat(String(a.meter_reading_after))||0})),nozzle_readings:ah.map(a=>({nozzle_id:a.nozzle_id,meter_reading_before:parseFloat(String(a.meter_reading_before))||0,meter_reading_after:parseFloat(String(a.meter_reading_after))||0}))})}),b=await a.json();b.success?(z.toast.success(`Purchase order ${Z.po_number} accepted successfully!`),A(!1),$(null),aj(),ak()):z.toast.error(b.error||"Failed to accept purchase order")}catch(a){console.error("Error accepting purchase order:",a),z.toast.error("Failed to accept purchase order")}finally{W(!1)}}},ar=(a,b,c)=>{let d=[...ad];d[a]={...d[a],[b]:c},ae(d)},as=(a,b,c)=>{let d=[...ah];d[a]={...d[a],[b]:c},ai(d)},at=a=>(0,b.jsx)("div",{className:"rounded-xl border overflow-hidden overflow-x-auto",children:(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{className:"text-xs md:text-sm",children:[(0,b.jsx)(i.TableHead,{children:"Purchase Order ID"}),(0,b.jsx)(i.TableHead,{children:"Supplier"}),(0,b.jsx)(i.TableHead,{className:"hidden md:table-cell",children:"Date"}),(0,b.jsx)(i.TableHead,{className:"hidden sm:table-cell",children:"Items"}),(0,b.jsx)(i.TableHead,{className:"hidden sm:table-cell",children:"Volume (L)"}),(0,b.jsx)(i.TableHead,{children:"Amount"}),(0,b.jsx)(i.TableHead,{children:"Status"})]})}),(0,b.jsx)(i.TableBody,{children:0===a.length?(0,b.jsx)(i.TableRow,{children:(0,b.jsxs)(i.TableCell,{colSpan:7,className:"text-center py-12",children:[(0,b.jsx)(r.Package,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No purchases found"})]})}):a.map(a=>(0,b.jsxs)(i.TableRow,{className:"text-xs md:text-sm",children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:a.po_number}),(0,b.jsx)(i.TableCell,{children:a.supplier}),(0,b.jsx)(i.TableCell,{className:"hidden md:table-cell",children:a.date||"N/A"}),(0,b.jsx)(i.TableCell,{className:"hidden sm:table-cell",children:a.items}),(0,b.jsx)(i.TableCell,{className:"hidden sm:table-cell",children:a.volume?a.volume.toLocaleString():"-"}),(0,b.jsx)(i.TableCell,{children:e(a.amount)}),(0,b.jsx)(i.TableCell,{children:(0,b.jsx)(j.Badge,{variant:"approved"===a.status?"default":"rejected"===a.status?"destructive":"secondary",className:"rounded-lg text-xs",children:a.status})})]},a.id))})]})});return(0,b.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-balance",children:"Purchases"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground text-pretty",children:"Accept purchase orders from headquarters"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsxs)(f.Button,{onClick:()=>{ak(),C(!0)},className:"rounded-xl gap-2 bg-green-600 hover:bg-green-700 text-sm relative",size:"sm",children:[(0,b.jsx)(t,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Accept Purchase"}),L.length>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:L.length})]}),(0,b.jsxs)(f.Button,{onClick:aj,className:"rounded-xl gap-2 bg-blue-600 hover:bg-blue-700 text-white text-sm",size:"sm",disabled:R,children:[(0,b.jsx)(o.RefreshCw,{className:`h-4 w-4 ${R?"animate-spin":""}`}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),(0,b.jsx)(g.Card,{className:"rounded-2xl",children:(0,b.jsxs)(g.CardContent,{className:"p-3 md:p-6",children:[(0,b.jsxs)("div",{className:"mb-4 md:mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(p.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)(m.Input,{placeholder:"Search purchases...",value:D,onChange:a=>E(a.target.value),className:"pl-10 rounded-xl"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Input,{type:"date",value:F,onChange:a=>G(a.target.value),placeholder:"From",className:"rounded-xl w-32 md:w-40 text-sm"}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"to"}),(0,b.jsx)(m.Input,{type:"date",value:H,onChange:a=>I(a.target.value),placeholder:"To",className:"rounded-xl w-32 md:w-40 text-sm"})]})]}),R?(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)(q.Loader2,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,b.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading purchases..."})]}):(0,b.jsxs)(h.Tabs,{value:a,onValueChange:d,children:[(0,b.jsxs)(h.TabsList,{className:"rounded-xl bg-transparent gap-1 md:gap-2 flex-wrap",children:[(0,b.jsxs)(h.TabsTrigger,{value:"all",className:"rounded-lg data-[state=active]:bg-muted text-xs md:text-sm",children:["All (",J.length,")"]}),(0,b.jsxs)(h.TabsTrigger,{value:"deliveries",className:"rounded-lg data-[state=active]:bg-muted text-xs md:text-sm",children:["Deliveries (",al.length,")"]}),(0,b.jsxs)(h.TabsTrigger,{value:"kra",className:"rounded-lg data-[state=active]:bg-muted text-xs md:text-sm",children:["KRA Purchases (",am.length,")"]})]}),(0,b.jsx)(h.TabsContent,{value:"all",className:"mt-4 md:mt-6",children:at(J)}),(0,b.jsx)(h.TabsContent,{value:"deliveries",className:"mt-4 md:mt-6",children:at(al)}),(0,b.jsx)(h.TabsContent,{value:"kra",className:"mt-4 md:mt-6",children:at(am)})]})]})}),(0,b.jsx)(k.Dialog,{open:B,onOpenChange:C,children:(0,b.jsxs)(k.DialogContent,{className:"max-w-2xl rounded-2xl",children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsxs)(k.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(t,{className:"h-5 w-5"}),"Pending Purchase Orders"]}),(0,b.jsx)(k.DialogDescription,{children:"Select a purchase order from headquarters to accept"})]}),T?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(q.Loader2,{className:"h-8 w-8 animate-spin text-blue-600"})}):0===L.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(x.CheckCircle2,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-lg font-medium",children:"All caught up!"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No pending purchase orders to accept"})]}):(0,b.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:L.map(a=>(0,b.jsxs)("div",{onClick:()=>ap(a),className:"p-4 border rounded-xl hover:bg-accent cursor-pointer transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.po_number}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.supplier_name||"No supplier specified"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"font-medium",children:e(parseFloat(String(a.total_amount))||0)}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.item_count," items"]})]})]}),a.notes&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2 truncate",children:a.notes})]},a.id))})]})}),(0,b.jsx)(k.Dialog,{open:s,onOpenChange:A,children:(0,b.jsxs)(k.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl",children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsxs)(k.DialogTitle,{className:"text-xl",children:["Accept Purchase Order: ",Z?.po_number]}),(0,b.jsx)(k.DialogDescription,{children:"Record delivery details, tank volumes, and dispenser readings"})]}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[(0,b.jsx)(r.Package,{className:"h-5 w-5"}),"Bowser Volume by Product *"]}),0===ab.length?(0,b.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"Loading products..."}):(0,b.jsxs)("div",{className:"space-y-3",children:[ab.map((a,c)=>(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3 p-3 border rounded-xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{className:"text-xs text-muted-foreground",children:"Product"}),(0,b.jsx)("p",{className:"font-medium",children:a.item_name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Ordered: ",a.ordered_quantity?.toLocaleString(),"L"]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(l.Label,{className:"text-xs",children:"Bowser Volume (L) *"}),(0,b.jsx)(m.Input,{type:"number",placeholder:"e.g., 15000",value:a.bowser_volume,onChange:a=>{var b;let d;return b=a.target.value,void((d=[...ab])[c].bowser_volume=b,ac(d))},className:"rounded-xl h-9"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(l.Label,{className:"text-xs",children:"Variance from Order"}),(0,b.jsxs)("p",{className:`font-medium text-sm pt-2 ${(parseFloat(a.bowser_volume)||0)-a.ordered_quantity<0?"text-red-600":"text-green-600"}`,children:[((parseFloat(a.bowser_volume)||0)-a.ordered_quantity).toFixed(0)," L"]})]})]},a.item_id)),(0,b.jsx)("div",{className:"flex justify-end p-2 bg-muted rounded-xl",children:(0,b.jsxs)("p",{className:"font-semibold",children:["Total Bowser Volume: ",an.toLocaleString()," L"]})})]})]}),(0,b.jsx)(n.Separator,{}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Acceptance Timestamp *"}),(0,b.jsx)(m.Input,{type:"datetime-local",value:_.acceptanceTimestamp,onChange:a=>aa({..._,acceptanceTimestamp:a.target.value}),className:"rounded-xl"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Remarks"}),(0,b.jsx)(m.Input,{placeholder:"Any notes about this delivery",value:_.remarks,onChange:a=>aa({..._,remarks:a.target.value}),className:"rounded-xl"})]})]}),(0,b.jsx)(n.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[(0,b.jsx)(u.Fuel,{className:"h-5 w-5"}),"Tank Volume Readings"]}),0===ad.length?(0,b.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No tanks configured for this branch"}):(0,b.jsx)("div",{className:"space-y-3",children:ad.map((a,c)=>{let d=a.capacity>0&&(parseFloat(String(a.volume_after))||0)>a.capacity;return(0,b.jsxs)("div",{className:`grid grid-cols-3 gap-3 p-3 border rounded-xl ${d?"border-red-500 bg-red-50":""}`,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{className:"text-xs text-muted-foreground",children:"Tank"}),(0,b.jsx)("p",{className:"font-medium",children:a.tank_name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Capacity: ",a.capacity?.toLocaleString(),"L"]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(l.Label,{className:"text-xs",children:"Volume Before (L)"}),(0,b.jsx)(m.Input,{type:"number",value:a.volume_before||"",onChange:a=>ar(c,"volume_before",parseFloat(a.target.value)||0),className:"rounded-xl h-9"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(l.Label,{className:"text-xs",children:"Volume After (L)"}),(0,b.jsx)(m.Input,{type:"number",value:a.volume_after||"",onChange:a=>ar(c,"volume_after",parseFloat(a.target.value)||0),className:`rounded-xl h-9 ${d?"border-red-500":""}`}),d&&(0,b.jsxs)("p",{className:"text-xs text-red-600 font-medium",children:["Exceeds capacity (",a.capacity?.toLocaleString(),"L)"]})]})]},a.tank_id)})})]}),(0,b.jsx)(n.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[(0,b.jsx)(v,{className:"h-5 w-5"}),"Nozzle Meter Readings"]}),0===ah.length?(0,b.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No nozzles configured for this branch"}):(0,b.jsx)("div",{className:"space-y-3",children:ah.map((a,c)=>(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-3 p-3 border rounded-xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Label,{className:"text-xs text-muted-foreground",children:"Nozzle"}),(0,b.jsx)("p",{className:"font-medium",children:a.nozzle_name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.fuel_type})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(l.Label,{className:"text-xs",children:"Meter Before"}),(0,b.jsx)(m.Input,{type:"number",value:a.meter_reading_before||"",onChange:a=>as(c,"meter_reading_before",parseFloat(a.target.value)||0),className:"rounded-xl h-9"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(l.Label,{className:"text-xs",children:"Meter After"}),(0,b.jsx)(m.Input,{type:"number",value:a.meter_reading_after||"",onChange:a=>as(c,"meter_reading_after",parseFloat(a.target.value)||0),className:"rounded-xl h-9"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(l.Label,{className:"text-xs",children:"Difference"}),(0,b.jsxs)("p",{className:"font-medium text-sm pt-2",children:[((parseFloat(String(a.meter_reading_after))||0)-(parseFloat(String(a.meter_reading_before))||0)).toFixed(2)," L"]})]})]},a.nozzle_id))})]}),(0,b.jsx)(n.Separator,{}),(0,b.jsxs)("div",{className:`p-4 rounded-xl ${Math.abs(ao)>100?"bg-red-50 border-red-200":0===ao?"bg-gray-50":"bg-yellow-50 border-yellow-200"} border`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[Math.abs(ao)>100?(0,b.jsx)(w,{className:"h-5 w-5 text-red-600"}):(0,b.jsx)(x.CheckCircle2,{className:"h-5 w-5 text-green-600"}),(0,b.jsx)("span",{className:"font-semibold",children:"Calculated Variance"})]}),(0,b.jsxs)("span",{className:`text-2xl font-bold ${ao>0?"text-green-600":ao<0?"text-red-600":""}`,children:[ao>0?"+":"",ao.toFixed(2)," L"]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Formula: (Tank After - Tank Before) + (Nozzle/Dispenser After - Before) - Bowser Volume"})]})]}),(0,b.jsxs)(k.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>A(!1),className:"rounded-xl",children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:aq,disabled:V||an<=0,className:"rounded-xl bg-green-600 hover:bg-green-700",children:V?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Accepting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t,{className:"h-4 w-4 mr-2"}),"Accept Delivery"]})})]})]})})]})}function B(){let[a,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"flex min-h-screen w-full overflow-x-hidden bg-gradient-to-b from-slate-900 via-blue-900 to-white",children:[(0,b.jsx)(d.DashboardSidebar,{collapsed:a,onToggle:()=>f(!a),mobileOpen:g,onMobileClose:()=>h(!1)}),(0,b.jsx)("div",{className:"flex-1 flex flex-col min-w-0 lg:ml-8 my-2 lg:my-6 mx-2 lg:mr-6",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl lg:rounded-tl-3xl shadow-2xl flex-1 flex flex-col overflow-hidden",children:[(0,b.jsx)(e.DashboardHeader,{onMobileMenuToggle:()=>h(!g)}),(0,b.jsx)("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-slate-50 p-3 md:p-6",children:(0,b.jsxs)("div",{className:"w-full max-w-7xl mx-auto space-y-4 md:space-y-6",children:[(0,b.jsx)(A,{}),(0,b.jsxs)("footer",{className:"mt-12 border-t pt-6 pb-4 text-center text-sm text-muted-foreground",children:["Powered by ",(0,b.jsx)("span",{className:"font-semibold text-foreground",children:"Sensile Technologies East Africa Ltd"})]})]})})]})})]})}a.s(["default",()=>B],43616)}];

//# sourceMappingURL=app_purchases_page_tsx_cc8ec0aa._.js.map