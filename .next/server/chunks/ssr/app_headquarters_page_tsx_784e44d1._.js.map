{"version":3,"sources":["../../../../app/headquarters/page.tsx"],"sourcesContent":["\"use client\"\nimport { DashboardHeader } from \"@/components/dashboard-header\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport {\n  Edit,\n  Shield,\n  CheckCircle2,\n  Building2,\n  TrendingUp,\n  Users,\n  ShoppingCart,\n  Plus,\n  ChevronDown,\n  Package,\n  Upload,\n  DollarSign,\n  Clock,\n  FileText,\n  Loader2,\n  StopCircle,\n  AlertCircle,\n  Truck,\n  ClipboardList,\n} from \"lucide-react\"\n\nimport { useState, useEffect } from \"react\"\nimport { BarChart, Bar, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend } from \"recharts\"\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n  DialogTrigger,\n} from \"@/components/ui/dialog\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n} from \"@/components/ui/dropdown-menu\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\"\nimport { useRouter } from \"next/navigation\"\n\nimport { useCurrency } from \"@/lib/currency-utils\"\nimport { getCurrentUser } from \"@/lib/auth/client\"\n\ninterface HQStats {\n  totalRevenue: number\n  revenueGrowth: number\n  totalTransactions: number\n  totalEmployees: number\n  totalInventory: number\n  dieselStock: number\n  petrolStock: number\n  inventoryGrowth: number\n  branchPerformance: { branch: string; sales: number; purchases: number }[]\n  monthlyRevenue: { month: string; revenue: number }[]\n}\n\nexport default function HeadquartersPage() {\n  const router = useRouter()\n  const [createBranchOpen, setCreateBranchOpen] = useState(false)\n  const [editBranchOpen, setEditBranchOpen] = useState(false)\n  const [inventoryOpen, setInventoryOpen] = useState(false)\n  const [editingBranch, setEditingBranch] = useState<any>(null)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [accessDenied, setAccessDenied] = useState(false)\n  const [isCheckingAccess, setIsCheckingAccess] = useState(true)\n  const [globalUploadsOpen, setGlobalUploadsOpen] = useState(false)\n  const [uploadFile, setUploadFile] = useState<File | null>(null)\n  const [branches, setBranches] = useState<any[]>([])\n  const [isLoadingBranches, setIsLoadingBranches] = useState(true)\n  const [hqStats, setHqStats] = useState<HQStats | null>(null)\n  const [isLoadingStats, setIsLoadingStats] = useState(true)\n\n  const { formatCurrency } = useCurrency()\n\n  useEffect(() => {\n    const checkAccess = async () => {\n      // First check localStorage for immediate feedback\n      const currentUser = getCurrentUser()\n      if (currentUser) {\n        const localRole = (currentUser.role || '').toLowerCase()\n        const restrictedRoles = ['supervisor', 'manager', 'cashier']\n        if (restrictedRoles.includes(localRole)) {\n          setAccessDenied(true)\n          const branchId = currentUser.branch_id\n          router.replace(branchId ? `/sales/summary?branch=${branchId}` : '/sales/summary')\n          return\n        }\n      }\n      \n      // Always verify role from server (don't trust localStorage alone)\n      try {\n        const response = await fetch('/api/headquarters/stats', { \n          credentials: 'include',\n          method: 'GET'\n        })\n        if (response.status === 401 || response.status === 403) {\n          setAccessDenied(true)\n          const branchId = currentUser?.branch_id\n          router.replace(branchId ? `/sales/summary?branch=${branchId}` : '/sales/summary')\n          return\n        }\n        if (response.ok) {\n          const data = await response.json()\n          setHqStats(data)\n          setIsLoadingStats(false)\n        }\n      } catch (error) {\n        console.error('Error checking HQ access:', error)\n      }\n      setIsCheckingAccess(false)\n    }\n    checkAccess()\n  }, [router])\n\n  useEffect(() => {\n    if (!isCheckingAccess && !accessDenied) {\n      fetchBranches()\n      // Stats already fetched during access check\n    }\n  }, [isCheckingAccess, accessDenied])\n\n  const fetchHQStats = async () => {\n    try {\n      setIsLoadingStats(true)\n      const response = await fetch('/api/headquarters/stats', { credentials: 'include' })\n      if (response.ok) {\n        const data = await response.json()\n        setHqStats(data)\n      } else if (response.status === 403) {\n        setAccessDenied(true)\n        router.replace('/sales/summary')\n      }\n    } catch (error) {\n      console.error('Error fetching HQ stats:', error)\n    } finally {\n      setIsLoadingStats(false)\n    }\n  }\n\n  const fetchBranches = async () => {\n    try {\n      setIsLoadingBranches(true)\n      const currentUser = getCurrentUser()\n      const userId = currentUser?.id\n      const url = userId ? `/api/branches/list?user_id=${userId}` : \"/api/branches/list\"\n      const response = await fetch(url)\n\n      if (response.ok) {\n        const data = await response.json()\n        const formattedBranches = data.map((branch: any) => ({\n          id: branch.id,\n          name: branch.name,\n          location: branch.location,\n          status: branch.status.charAt(0).toUpperCase() + branch.status.slice(1),\n          revenue: branch.monthly_revenue || 0,\n          monthToDateRevenue: branch.monthToDateRevenue || 0,\n          currentShiftRevenue: branch.currentShiftRevenue || 0,\n          transactions: branch.transactions || 0,\n          inventory: branch.inventory || 0,\n          performance: branch.performance || \"+0%\",\n          gradient: \"from-blue-600 via-blue-500 to-cyan-400\",\n          manager: branch.manager,\n          phone: branch.phone,\n          email: branch.email,\n          bhfId: branch.bhf_id,\n          tankConfig: branch.tank_config || {},\n          storageIndices: branch.storage_indices || [],\n          device_token: branch.device_token,\n          vendor_id: branch.vendor_id,\n        }))\n        setBranches(formattedBranches)\n      } else {\n        console.error(\"Failed to fetch branches:\", response.status)\n      }\n    } catch (error) {\n      console.error(\"Error fetching branches:\", error)\n    } finally {\n      setIsLoadingBranches(false)\n    }\n  }\n\n  const formatDateTime = (dateString: string | null) => {\n    if (!dateString) return '-'\n    return new Date(dateString).toLocaleString('en-KE', {\n      day: 'numeric',\n      month: 'short',\n      hour: '2-digit',\n      minute: '2-digit'\n    })\n  }\n\n  const handleGlobalUpload = async () => {\n    if (!uploadFile) return\n\n    try {\n      const formData = new FormData()\n      formData.append(\"file\", uploadFile)\n\n      const response = await fetch(\"/api/global-uploads\", {\n        method: \"POST\",\n        body: formData,\n      })\n\n      if (response.ok) {\n        alert(\"File uploaded successfully!\")\n        setGlobalUploadsOpen(false)\n        setUploadFile(null)\n      } else {\n        alert(\"Failed to upload file\")\n      }\n    } catch (error) {\n      console.error(\"Upload error:\", error)\n      alert(\"Error uploading file\")\n    }\n  }\n\n  const [branchForm, setBranchForm] = useState({\n    name: \"\",\n    location: \"\",\n    manager: \"\",\n    phone: \"\",\n    email: \"\",\n    address: \"\",\n    county: \"\",\n    localTaxOffice: \"\",\n    hardwareType: \"\",\n    serialNumber: \"\",\n    storageIndices: [] as string[],\n    newStorageIndex: \"\",\n    vendorId: \"\",\n    kraPin: \"\",\n    controllerId: \"\",\n    tankConfig: {} as Record<\n      string,\n      { dispensers: string[]; initialStock: string; fuelType?: string; tankCapacity?: string }\n    >,\n  })\n\n  const totalRevenue = hqStats?.totalRevenue || 0\n  const totalTransactions = hqStats?.totalTransactions || 0\n  const totalInventory = hqStats?.totalInventory || 0\n  const totalEmployees = hqStats?.totalEmployees || 0\n  const revenueGrowth = hqStats?.revenueGrowth || 0\n  const inventoryGrowth = hqStats?.inventoryGrowth || 0\n\n  const handleBranchClick = (branchId: string) => {\n    if (branchId === \"hq\") {\n      router.push(\"/headquarters\")\n    } else {\n      // Navigate to sales page with branch context (can be expanded to dedicated branch pages)\n      router.push(`/sales?branch=${branchId}`)\n    }\n  }\n\n  const handleOpenCreateDialog = () => {\n    const existingVendorId = branches.find(b => b.vendor_id)?.vendor_id || \"\"\n    setBranchForm({\n      name: \"\",\n      location: \"\",\n      manager: \"\",\n      email: \"\",\n      phone: \"\",\n      address: \"\",\n      county: \"\",\n      localTaxOffice: \"\",\n      hardwareType: \"\",\n      serialNumber: \"\",\n      storageIndices: [],\n      newStorageIndex: \"\",\n      vendorId: existingVendorId,\n      kraPin: \"\",\n      controllerId: \"\",\n      tankConfig: {},\n    })\n    setCreateBranchOpen(true)\n  }\n\n  const handleCreateBranch = async () => {\n    if (\n      !branchForm.name ||\n      !branchForm.location ||\n      !branchForm.county ||\n      !branchForm.localTaxOffice\n    ) {\n      alert(\"Please fill in all required fields (Branch Name, Location, County, Local Tax Office)\")\n      return\n    }\n\n    setIsSubmitting(true)\n    try {\n      const currentUser = getCurrentUser()\n      const branchRes = await fetch('/api/branches', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          user_id: currentUser?.id,\n          vendor_id: branchForm.vendorId || undefined,\n          name: branchForm.name,\n          location: branchForm.location,\n          manager: branchForm.manager,\n          email: branchForm.email,\n          phone: branchForm.phone,\n          storage_indices: branchForm.storageIndices,\n          county: branchForm.county,\n          address: branchForm.address,\n          local_tax_office: branchForm.localTaxOffice,\n          controller_id: branchForm.controllerId || undefined,\n        })\n      })\n      \n      if (!branchRes.ok) {\n        const errorText = await branchRes.text()\n        console.error(\"[v0] Branch API error:\", branchRes.status, errorText)\n        alert(`Branch creation failed: Server returned ${branchRes.status}. ${errorText || 'Please try again.'}`)\n        setIsSubmitting(false)\n        return\n      }\n\n      const responseText = await branchRes.text()\n      if (!responseText) {\n        console.error(\"[v0] Empty response from branch API\")\n        alert(\"Branch creation failed: Empty response from server. Please try again.\")\n        setIsSubmitting(false)\n        return\n      }\n\n      let branchResult\n      try {\n        branchResult = JSON.parse(responseText)\n      } catch (parseError) {\n        console.error(\"[v0] Failed to parse branch response:\", responseText)\n        alert(`Branch creation failed: Invalid response from server. Please try again.`)\n        setIsSubmitting(false)\n        return\n      }\n\n      if (!branchResult.success) {\n        console.error(\"[v0] Branch creation error:\", branchResult.error)\n        alert(`Branch creation failed: ${branchResult.error}`)\n        setIsSubmitting(false)\n        return\n      }\n\n      console.log(\"[v0] Branch created:\", branchResult.data)\n      const createdBranch = branchResult.data\n\n      const dispenserFuelTypes = new Map<number, Set<string>>()\n      const tanksToCreate: any[] = []\n\n      Object.entries(branchForm.tankConfig).forEach(([storageIndex, config]) => {\n        const tankConfig = config as {\n          dispensers: string[]\n          initialStock: string\n          fuelType?: string\n          tankCapacity?: string\n        }\n\n        const fuelType = tankConfig.fuelType || \"Petrol\"\n\n        tanksToCreate.push({\n          branch_id: createdBranch.id,\n          tank_name: storageIndex,\n          fuel_type: fuelType,\n          capacity: Number.parseFloat(tankConfig.tankCapacity || \"0\"),\n          current_stock: Number.parseFloat(tankConfig.initialStock || \"0\"),\n          status: \"active\",\n        })\n\n        tankConfig.dispensers.forEach((dispenserName) => {\n          const dispenserNumber = Number.parseInt(dispenserName.replace(/\\D/g, \"\")) || dispenserFuelTypes.size + 1\n          if (!dispenserFuelTypes.has(dispenserNumber)) {\n            dispenserFuelTypes.set(dispenserNumber, new Set())\n          }\n          dispenserFuelTypes.get(dispenserNumber)!.add(fuelType)\n        })\n      })\n\n      const dispensersToCreate = Array.from(dispenserFuelTypes.entries()).map(([dispenserNumber, fuelTypes]) => ({\n        branch_id: createdBranch.id,\n        dispenser_number: dispenserNumber,\n        fuel_type: Array.from(fuelTypes)[0],\n        status: \"active\",\n      }))\n\n      if (tanksToCreate.length > 0) {\n        for (const tank of tanksToCreate) {\n          await fetch('/api/tanks', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(tank)\n          })\n        }\n        console.log(\"[v0] Tanks created:\", tanksToCreate)\n      }\n\n      let nozzlesCreatedCount = 0\n      if (dispensersToCreate.length > 0) {\n        console.log(\"[v0] Creating dispensers:\", { dispensersToCreate })\n        const createdDispensers: any[] = []\n        \n        for (const dispenser of dispensersToCreate) {\n          const dispRes = await fetch('/api/dispensers', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(dispenser)\n          })\n          const dispResult = await dispRes.json()\n          if (dispResult.success) {\n            createdDispensers.push(dispResult.data)\n          }\n        }\n\n        console.log(\"[v0] Dispensers created:\", createdDispensers)\n\n        const nozzlesToCreate: any[] = []\n        createdDispensers.forEach((dispenser: any) => {\n          const fuelTypes = dispenserFuelTypes.get(dispenser.dispenser_number)\n          if (fuelTypes) {\n            let nozzleNumber = 1\n            fuelTypes.forEach((fuelType) => {\n              nozzlesToCreate.push({\n                branch_id: createdBranch.id,\n                dispenser_id: dispenser.id,\n                nozzle_number: nozzleNumber++,\n                fuel_type: fuelType,\n                initial_meter_reading: 0,\n                status: \"active\",\n              })\n            })\n          }\n        })\n\n        if (nozzlesToCreate.length > 0) {\n          console.log(\"[v0] Creating nozzles:\", { nozzlesToCreate })\n          for (const nozzle of nozzlesToCreate) {\n            await fetch('/api/nozzles', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(nozzle)\n            })\n          }\n          nozzlesCreatedCount = nozzlesToCreate.length\n        }\n      }\n\n      try {\n        const backendResponse = await fetch(\"/api/branches/register-backend\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            branchId: createdBranch.id,\n            name: branchForm.name,\n            location: branchForm.location,\n            county: branchForm.county,\n            address: branchForm.address,\n            organization: process.env.NEXT_PUBLIC_ORGANIZATION_ID,\n          }),\n        })\n\n        const backendData = await backendResponse.json()\n\n        if (backendResponse.ok && backendData.success) {\n          alert(\n            `Branch \"${branchForm.name}\" created successfully!\\n` +\n              `Local database entry created\\n` +\n              `${tanksToCreate.length} tank(s) created\\n` +\n              `${dispensersToCreate.length} dispenser(s) created\\n` +\n              `${nozzlesCreatedCount} nozzle(s) created\\n` +\n              `Backend registration completed`,\n          )\n        } else {\n          alert(\n            `Branch \"${branchForm.name}\" created successfully!\\n` +\n              `Local database entry created\\n` +\n              `${tanksToCreate.length} tank(s) created\\n` +\n              `${dispensersToCreate.length} dispenser(s) created\\n` +\n              `${nozzlesCreatedCount} nozzle(s) created\\n` +\n              `Backend registration failed (can be retried later)`,\n          )\n        }\n      } catch (backendError) {\n        console.log(\"[v0] Backend registration failed:\", backendError)\n        alert(\n          `Branch \"${branchForm.name}\" created successfully!\\n` +\n            `Local database entry created\\n` +\n            `${tanksToCreate.length} tank(s) created\\n` +\n            `${dispensersToCreate.length} dispenser(s) created\\n` +\n            `${nozzlesCreatedCount} nozzle(s) created\\n` +\n            `Backend registration unavailable (can be retried later)`,\n        )\n      }\n\n      setCreateBranchOpen(false)\n      setBranchForm({\n        name: \"\",\n        location: \"\",\n        manager: \"\",\n        email: \"\",\n        phone: \"\",\n        address: \"\",\n        county: \"\",\n        localTaxOffice: \"\",\n        hardwareType: \"\",\n        serialNumber: \"\",\n        storageIndices: [],\n        newStorageIndex: \"\",\n        vendorId: \"\",\n        kraPin: \"\",\n        controllerId: \"\",\n        tankConfig: {},\n      })\n      await fetchBranches()\n    } catch (error: any) {\n      console.error(\"Error creating branch:\", error)\n      alert(`Branch creation failed: ${error.message || \"Unknown error\"}`)\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleEditBranch = (branch: any) => {\n    console.log(\"[v0] Opening edit dialog for branch:\", branch)\n    const latestBranch = branches.find((b) => b.id === branch.id) || branch\n    setEditingBranch(latestBranch)\n    setBranchForm({\n      name: latestBranch.name || \"\",\n      location: latestBranch.location || \"\",\n      manager: latestBranch.manager || \"\",\n      email: latestBranch.email || \"\",\n      phone: latestBranch.phone || \"\",\n      address: latestBranch.address || \"\",\n      county: latestBranch.county || \"\",\n      localTaxOffice: latestBranch.local_tax_office || \"\",\n      hardwareType: \"\",\n      serialNumber: \"\",\n      storageIndices: latestBranch.storage_indices || [],\n      newStorageIndex: \"\",\n      vendorId: latestBranch.vendor_id || \"\",\n      kraPin: latestBranch.kra_pin || \"\",\n      controllerId: latestBranch.controller_id || \"\",\n      tankConfig: latestBranch.tank_config || {},\n    })\n    setEditBranchOpen(true)\n  }\n\n  const handleUpdateBranch = async () => {\n    if (!editingBranch) return\n    console.log(\"[v0] Updating branch:\", editingBranch.id, branchForm)\n\n    // Basic validation for essential fields\n    if (\n      !branchForm.name ||\n      !branchForm.location ||\n      !branchForm.county ||\n      !branchForm.localTaxOffice\n    ) {\n      alert(\"Please fill in all required fields (Branch Name, Location, County, Local Tax Office)\")\n      return\n    }\n\n    try {\n      const response = await fetch(`/api/branches/${editingBranch.id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: branchForm.name,\n          location: branchForm.location,\n          manager: branchForm.manager,\n          email: branchForm.email,\n          phone: branchForm.phone,\n          address: branchForm.address,\n          county: branchForm.county,\n          localTaxOffice: branchForm.localTaxOffice,\n          storageIndices: branchForm.storageIndices,\n          tankConfig: branchForm.tankConfig,\n          kraPin: branchForm.kraPin,\n          controllerId: branchForm.controllerId,\n        }),\n      })\n\n      if (response.ok) {\n        alert(\"Branch updated successfully!\")\n        setEditBranchOpen(false)\n        setEditingBranch(null)\n        await fetchBranches() // Refresh the list of branches\n      } else {\n        const errorData = await response.json()\n        console.error(\"Update error:\", errorData)\n        alert(`Failed to update branch: ${errorData.error || \"Unknown error\"}`)\n      }\n    } catch (error) {\n      console.error(\"Error updating branch:\", error)\n      alert(\"Error updating branch. Please try again.\")\n    }\n  }\n\n  const handleDeleteBranch = async (branchId: string, branchName: string) => {\n    if (!confirm(`Are you sure you want to delete the branch \"${branchName}\"? This action cannot be undone.`)) {\n      return\n    }\n\n    try {\n      const response = await fetch(`/api/branches/${branchId}`, {\n        method: \"DELETE\",\n      })\n\n      if (response.ok) {\n        alert(`Branch \"${branchName}\" deleted successfully!`)\n        await fetchBranches() // Refresh the list of branches\n      } else {\n        const errorData = await response.json()\n        console.error(\"Delete error:\", errorData)\n        alert(`Failed to delete branch: ${errorData.error || \"Unknown error\"}`)\n      }\n    } catch (error) {\n      console.error(\"Error deleting branch:\", error)\n      alert(\"Error deleting branch. Please try again.\")\n    }\n  }\n\n  const handleDeactivateBranch = async (branchId: string, branchName: string) => {\n    const currentBranch = branches.find((b) => b.id === branchId)\n    const currentStatus = currentBranch?.status || \"active\"\n    const newStatus = currentStatus === \"active\" ? \"inactive\" : \"active\"\n    const confirmationMessage =\n      newStatus === \"inactive\"\n        ? `Are you sure you want to deactivate the branch \"${branchName}\"?`\n        : `Are you sure you want to activate the branch \"${branchName}\"?`\n\n    if (!confirm(confirmationMessage)) {\n      return\n    }\n\n    try {\n      const response = await fetch(`/api/branches/${branchId}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ status: newStatus }),\n      })\n\n      if (response.ok) {\n        const message = newStatus === \"inactive\" ? \"deactivated\" : \"activated\"\n        alert(`Branch \"${branchName}\" ${message} successfully!`)\n        await fetchBranches()\n        const updatedBranch = branches.find((b) => b.id === branchId)\n        if (updatedBranch) {\n          setEditingBranch({ ...updatedBranch, status: newStatus })\n        }\n      } else {\n        const errorData = await response.json()\n        console.error(\"Status update error:\", errorData)\n        alert(\n          `Failed to ${newStatus === \"inactive\" ? \"deactivate\" : \"activate\"} branch: ${errorData.error || \"Unknown error\"}`,\n        )\n      }\n    } catch (error) {\n      console.error(\"Error updating branch status:\", error)\n      alert(`Error updating branch status. Please try again.`)\n    }\n  }\n\n  if (isCheckingAccess || accessDenied) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800\">\n        <div className=\"text-center text-white\">\n          <Loader2 className=\"h-8 w-8 animate-spin mx-auto mb-4\" />\n          <p>{accessDenied ? \"Redirecting to your branch...\" : \"Checking access...\"}</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex h-screen flex-col overflow-hidden bg-gradient-to-b from-slate-900 via-blue-900 to-white\">\n      <DashboardHeader currentBranch=\"hq\" />\n\n      <main className=\"flex-1 overflow-y-auto p-8\">\n        {/* Header Section */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h1 className=\"text-3xl font-bold tracking-tight text-balance text-white\">Headquarters Overview</h1>\n            <p className=\"mt-1 text-white/80 text-pretty\">Monitor all branches and organization performance</p>\n          </div>\n          <div className=\"flex gap-3\">\n            {/* Branches Dropdown */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" className=\"rounded-xl bg-transparent text-white hover:bg-white/10\">\n                  <Building2 className=\"mr-2 h-4 w-4\" />\n                  Branches\n                  <ChevronDown className=\"ml-2 h-4 w-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-56 rounded-xl\">\n                <DropdownMenuItem onSelect={() => setCreateBranchOpen(true)} className=\"cursor-pointer rounded-lg\">\n                  <Plus className=\"mr-2 h-4 w-4\" />\n                  Create Branch\n                </DropdownMenuItem>\n                <DropdownMenuSub>\n                  <DropdownMenuSubTrigger className=\"cursor-pointer rounded-lg\">\n                    <Edit className=\"mr-2 h-4 w-4\" />\n                    Edit Branch Details\n                  </DropdownMenuSubTrigger>\n                  <DropdownMenuSubContent className=\"rounded-xl\">\n                    {branches.map((branch) => (\n                      <DropdownMenuItem\n                        key={branch.id}\n                        onSelect={() => handleEditBranch(branch)}\n                        className=\"cursor-pointer rounded-lg\"\n                      >\n                        {branch.name}\n                      </DropdownMenuItem>\n                    ))}\n                  </DropdownMenuSubContent>\n                </DropdownMenuSub>\n                <DropdownMenuItem\n                  onSelect={() => router.push(\"/headquarters/inventory\")}\n                  className=\"cursor-pointer rounded-lg\"\n                >\n                  <Package className=\"mr-2 h-4 w-4\" />\n                  Inventory\n                </DropdownMenuItem>\n                <DropdownMenuItem onSelect={() => setGlobalUploadsOpen(true)} className=\"cursor-pointer rounded-lg\">\n                  <Upload className=\"mr-2 h-4 w-4\" />\n                  Global Uploads\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            {/* Users Dropdown */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" className=\"gap-2 rounded-xl bg-transparent text-white hover:bg-white/10\">\n                  <Users className=\"h-4 w-4\" />\n                  Users\n                  <ChevronDown className=\"h-4 w-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-56 rounded-xl\">\n                <DropdownMenuItem asChild className=\"cursor-pointer rounded-lg\">\n                  <a href=\"/headquarters/staff-management\" className=\"flex items-center gap-2\">\n                    <Users className=\"h-4 w-4\" />\n                    Staff Management\n                  </a>\n                </DropdownMenuItem>\n                <DropdownMenuItem asChild className=\"cursor-pointer rounded-lg\">\n                  <a href=\"/headquarters/roles\" className=\"flex items-center gap-2\">\n                    <Shield className=\"h-4 w-4\" />\n                    Roles & Permissions\n                  </a>\n                </DropdownMenuItem>\n                <DropdownMenuItem asChild className=\"cursor-pointer rounded-lg\">\n                  <a href=\"/headquarters/approvals\" className=\"flex items-center gap-2\">\n                    <CheckCircle2 className=\"h-4 w-4\" />\n                    Approval Workflows\n                  </a>\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            {/* Item Management Button */}\n            <Button\n              variant=\"ghost\"\n              className=\"rounded-xl bg-transparent text-white hover:bg-white/10\"\n              onClick={() => router.push(\"/headquarters/items\")}\n            >\n              <Package className=\"mr-2 h-4 w-4\" />\n              Items\n            </Button>\n\n            {/* Suppliers Dropdown */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" className=\"rounded-xl bg-transparent text-white hover:bg-white/10\">\n                  <Truck className=\"mr-2 h-4 w-4\" />\n                  Suppliers\n                  <ChevronDown className=\"ml-2 h-4 w-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-56 rounded-xl\">\n                <DropdownMenuItem asChild className=\"cursor-pointer rounded-lg\">\n                  <a href=\"/headquarters/suppliers\" className=\"flex items-center gap-2\">\n                    <Package className=\"h-4 w-4\" />\n                    Suppliers\n                  </a>\n                </DropdownMenuItem>\n                <DropdownMenuItem asChild className=\"cursor-pointer rounded-lg\">\n                  <a href=\"/headquarters/transporters\" className=\"flex items-center gap-2\">\n                    <Truck className=\"h-4 w-4\" />\n                    Transporters\n                  </a>\n                </DropdownMenuItem>\n                <DropdownMenuItem asChild className=\"cursor-pointer rounded-lg\">\n                  <a href=\"/headquarters/purchase-orders\" className=\"flex items-center gap-2\">\n                    <ClipboardList className=\"h-4 w-4\" />\n                    Purchase Orders\n                  </a>\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n        </div>\n\n        {/* Organization Summary */}\n        <div className=\"mb-8\">\n          <h2 className=\"text-xl font-semibold mb-4 text-white\">Organization Summary</h2>\n          {isLoadingStats ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-white\" />\n            </div>\n          ) : (\n            <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\">\n              <Card className=\"rounded-2xl\">\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <CardTitle className=\"text-sm font-medium text-gray-600\">MTD Revenue</CardTitle>\n                    <div className=\"flex h-9 w-9 items-center justify-center rounded-xl bg-blue-100\">\n                      <DollarSign className=\"h-5 w-5 text-blue-600\" />\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{formatCurrency(totalRevenue)}</div>\n                  <p className={`text-xs mt-1 ${revenueGrowth >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                    {revenueGrowth >= 0 ? '+' : ''}{revenueGrowth}% from last month\n                  </p>\n                </CardContent>\n              </Card>\n              <Card className=\"rounded-2xl\">\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <CardTitle className=\"text-sm font-medium text-gray-600\">MTD Transactions</CardTitle>\n                    <div className=\"flex h-9 w-9 items-center justify-center rounded-xl bg-purple-100\">\n                      <ShoppingCart className=\"h-5 w-5 text-purple-600\" />\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{totalTransactions.toLocaleString()}</div>\n                  <p className=\"text-xs text-gray-600 mt-1\">Across all branches</p>\n                </CardContent>\n              </Card>\n              <Card className=\"rounded-2xl\">\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <CardTitle className=\"text-sm font-medium text-gray-600\">Total Staff</CardTitle>\n                    <div className=\"flex h-9 w-9 items-center justify-center rounded-xl bg-orange-100\">\n                      <Users className=\"h-5 w-5 text-orange-600\" />\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{totalEmployees}</div>\n                  <p className=\"text-xs text-gray-600 mt-1\">In {branches.length} branch{branches.length !== 1 ? 'es' : ''}</p>\n                </CardContent>\n              </Card>\n              <Card className=\"rounded-2xl\">\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <CardTitle className=\"text-sm font-medium text-gray-600\">Tank Stock (L)</CardTitle>\n                    <div className=\"flex h-9 w-9 items-center justify-center rounded-xl bg-green-100\">\n                      <Package className=\"h-5 w-5 text-green-600\" />\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{totalInventory.toLocaleString()}</div>\n                  <div className=\"flex gap-4 mt-2\">\n                    <div className=\"flex items-center gap-1\">\n                      <div className=\"w-2 h-2 rounded-full bg-amber-500\" />\n                      <span className=\"text-xs text-gray-600\">Diesel: {(hqStats?.dieselStock || 0).toLocaleString()}</span>\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <div className=\"w-2 h-2 rounded-full bg-green-500\" />\n                      <span className=\"text-xs text-gray-600\">Petrol: {(hqStats?.petrolStock || 0).toLocaleString()}</span>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          )}\n        </div>\n\n        {/* Performance Analytics */}\n        <div className=\"mb-8\">\n          <h2 className=\"text-xl font-semibold mb-4 text-white\">Performance Analytics</h2>\n          <div className=\"grid gap-6 lg:grid-cols-2\">\n            <Card className=\"rounded-2xl\">\n              <CardHeader>\n                <CardTitle>Revenue Trend (6 Months)</CardTitle>\n                <CardDescription>Monthly revenue across all branches</CardDescription>\n              </CardHeader>\n              <CardContent className=\"px-2\">\n                <div className=\"h-[300px] w-full\">\n                  {isLoadingStats ? (\n                    <div className=\"flex items-center justify-center h-full\">\n                      <Loader2 className=\"h-8 w-8 animate-spin text-gray-400\" />\n                    </div>\n                  ) : hqStats?.monthlyRevenue && hqStats.monthlyRevenue.length > 0 ? (\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <LineChart data={hqStats.monthlyRevenue}>\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <XAxis dataKey=\"month\" />\n                        <YAxis tickFormatter={(value) => `${(value / 1000000).toFixed(1)}M`} />\n                        <Tooltip formatter={(value: number) => [formatCurrency(value), 'Revenue']} />\n                        <Line type=\"monotone\" dataKey=\"revenue\" stroke=\"#3b82f6\" strokeWidth={2} dot={{ fill: '#3b82f6' }} />\n                      </LineChart>\n                    </ResponsiveContainer>\n                  ) : (\n                    <div className=\"flex items-center justify-center h-full text-gray-400\">\n                      No revenue data available\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"rounded-2xl\">\n              <CardHeader>\n                <CardTitle>Branch Performance (MTD)</CardTitle>\n                <CardDescription>Sales vs Purchases by branch (in thousands)</CardDescription>\n              </CardHeader>\n              <CardContent className=\"px-2\">\n                <div className=\"h-[300px] w-full\">\n                  {isLoadingStats ? (\n                    <div className=\"flex items-center justify-center h-full\">\n                      <Loader2 className=\"h-8 w-8 animate-spin text-gray-400\" />\n                    </div>\n                  ) : hqStats?.branchPerformance && hqStats.branchPerformance.length > 0 ? (\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <BarChart data={hqStats.branchPerformance}>\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <XAxis dataKey=\"branch\" />\n                        <YAxis tickFormatter={(value) => `${value}K`} />\n                        <Tooltip formatter={(value: number) => [`${value.toFixed(1)}K`, '']} />\n                        <Legend />\n                        <Bar dataKey=\"sales\" fill=\"#22c55e\" name=\"Sales\" />\n                        <Bar dataKey=\"purchases\" fill=\"#f97316\" name=\"Purchases\" />\n                      </BarChart>\n                    </ResponsiveContainer>\n                  ) : (\n                    <div className=\"flex items-center justify-center h-full text-gray-400\">\n                      No branch performance data available\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n\n        {/* Branches */}\n        {isLoadingBranches ? (\n          <div className=\"text-center py-12 text-white\">\n            <p>Loading branches...</p>\n          </div>\n        ) : branches.length === 0 ? (\n          <div className=\"text-center py-12 text-white\">\n            <p>No branches found. Create your first branch to get started.</p>\n          </div>\n        ) : (\n          <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n            {branches.map((branch) => (\n              <Card\n                key={branch.id}\n                onClick={() => handleBranchClick(branch.id)}\n                className=\"rounded-2xl hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden group hover:scale-105\"\n              >\n                <div className={`h-3 bg-gradient-to-r ${branch.gradient}`} />\n                <CardHeader className=\"pb-3\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex flex-col gap-2\">\n                      <div\n                        className={`flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br ${branch.gradient} shadow-lg`}\n                      >\n                        <Building2 className=\"h-6 w-6 text-white\" />\n                      </div>\n                      <div>\n                        <CardTitle className=\"group-hover:text-blue-600 transition-colors text-base\">\n                          {branch.name}\n                        </CardTitle>\n                        <CardDescription className=\"text-xs\">{branch.location}</CardDescription>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <div\n                        className={`rounded-full text-xs px-2 py-1 ${branch.status === \"active\" ? \"bg-green-100 text-green-800\" : \"bg-red-100 text-red-800\"}`}\n                      >\n                        {branch.status}\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"h-8 w-8 p-0\"\n                        onClick={(e) => {\n                          e.stopPropagation()\n                          handleEditBranch(branch)\n                        }}\n                      >\n                        <Edit className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-3\">\n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"flex items-center gap-1 text-gray-600 text-xs\">\n                        <Package className=\"h-3 w-3\" />\n                        MTD Revenue\n                      </div>\n                      <div className=\"font-semibold text-sm\">{formatCurrency(branch.monthToDateRevenue)}</div>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"flex items-center gap-1 text-gray-600 text-xs\">\n                        <DollarSign className=\"h-3 w-3\" /> {/* Changed from Users to DollarSign */}\n                        Current Shift\n                      </div>\n                      <div className=\"font-semibold text-sm\">{formatCurrency(branch.currentShiftRevenue)}</div>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"flex items-center gap-1 text-gray-600 text-xs\">\n                        <TrendingUp className=\"h-3 w-3\" />\n                        Growth\n                      </div>\n                      <div className=\"font-semibold text-sm text-green-600\">{branch.performance}</div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        )}\n      </main>\n\n      {/* Create Branch Dialog */}\n      <Dialog open={createBranchOpen} onOpenChange={setCreateBranchOpen}>\n        <DialogTrigger asChild>\n          <Button onClick={handleOpenCreateDialog} size=\"lg\" className=\"rounded-xl shadow-lg\">\n            <Plus className=\"h-5 w-5 mr-2\" />\n            Create New Branch\n          </Button>\n        </DialogTrigger>\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl\">Create New Branch</DialogTitle>\n            <DialogDescription>\n              Fill in the details to create a new branch location with device initialization\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"grid gap-4 py-4\">\n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-semibold\">Branch Information</h3>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"branch-name\">Branch Name *</Label>\n                  <Input\n                    id=\"branch-name\"\n                    placeholder=\"e.g., Mombasa Branch\"\n                    value={branchForm.name}\n                    onChange={(e) => setBranchForm({ ...branchForm, name: e.target.value })}\n                    className=\"rounded-xl\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"location\">Location *</Label>\n                  <Input\n                    id=\"location\"\n                    placeholder=\"e.g., Mombasa, Kenya\"\n                    value={branchForm.location}\n                    onChange={(e) => setBranchForm({ ...branchForm, location: e.target.value })}\n                    className=\"rounded-xl\"\n                  />\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"address\">Physical Address</Label>\n                <Input\n                  id=\"address\"\n                  placeholder=\"Street address, building, floor\"\n                  value={branchForm.address}\n                  onChange={(e) => setBranchForm({ ...branchForm, address: e.target.value })}\n                  className=\"rounded-xl\"\n                />\n              </div>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"county\">County *</Label>\n                  <Input\n                    id=\"county\"\n                    placeholder=\"e.g., Mombasa\"\n                    value={branchForm.county}\n                    onChange={(e) => setBranchForm({ ...branchForm, county: e.target.value })}\n                    className=\"rounded-xl\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"tax-office\">Local Tax Office *</Label>\n                  <Input\n                    id=\"tax-office\"\n                    placeholder=\"e.g., Mombasa Tax Office\"\n                    value={branchForm.localTaxOffice}\n                    onChange={(e) => setBranchForm({ ...branchForm, localTaxOffice: e.target.value })}\n                    className=\"rounded-xl\"\n                  />\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"vendor-id\">Vendor ID (optional - only if auto-detection fails)</Label>\n                <Input\n                  id=\"vendor-id\"\n                  placeholder=\"e.g., a30077a7-1f46-4292-aa21-a79eb38227f0\"\n                  value={branchForm.vendorId}\n                  onChange={(e) => setBranchForm({ ...branchForm, vendorId: e.target.value })}\n                  className=\"rounded-xl font-mono text-sm\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"controller-id\">Controller ID (PTS ID)</Label>\n                <Input\n                  id=\"controller-id\"\n                  placeholder=\"e.g., 003A003A...\"\n                  value={branchForm.controllerId}\n                  onChange={(e) => setBranchForm({ ...branchForm, controllerId: e.target.value })}\n                  className=\"rounded-xl font-mono text-sm\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Unique identifier for the pump controller. Used to match pump callbacks to this branch.</p>\n              </div>\n            </div>\n\n            <div className=\"space-y-4 border-t pt-4\">\n              <h3 className=\"text-lg font-semibold\">Staff Information</h3>\n              <div className=\"grid grid-cols-3 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"manager\">Branch Manager</Label>\n                  <Input\n                    id=\"manager\"\n                    placeholder=\"Manager name\"\n                    value={branchForm.manager}\n                    onChange={(e) => setBranchForm({ ...branchForm, manager: e.target.value })}\n                    className=\"rounded-xl\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder=\"branch@flow360.com\"\n                    value={branchForm.email}\n                    onChange={(e) => setBranchForm({ ...branchForm, email: e.target.value })}\n                    className=\"rounded-xl\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"phone\">Phone Number</Label>\n                  <Input\n                    id=\"phone\"\n                    type=\"tel\"\n                    placeholder=\"+254...\"\n                    value={branchForm.phone}\n                    onChange={(e) => setBranchForm({ ...branchForm, phone: e.target.value })}\n                    className=\"rounded-xl\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"space-y-4 border-t pt-4\">\n              <h3 className=\"text-lg font-semibold\">Hardware Assignment</h3>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"hardware-type\">Hardware Type</Label>\n                  <Select\n                    value={branchForm.hardwareType}\n                    onValueChange={(value) => setBranchForm({ ...branchForm, hardwareType: value })}\n                  >\n                    <SelectTrigger className=\"rounded-xl\">\n                      <SelectValue placeholder=\"Select hardware type\" />\n                    </SelectTrigger>\n                    <SelectContent className=\"rounded-xl\">\n                      <SelectItem value=\"Controller\">Controller</SelectItem>\n                      <SelectItem value=\"MiniPC\">Mini PC</SelectItem>\n                      <SelectItem value=\"POS\">POS</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"serial-number\">Serial Number</Label>\n                  <Input\n                    id=\"serial-number\"\n                    placeholder=\"e.g., SN-12345\"\n                    value={branchForm.serialNumber}\n                    onChange={(e) => setBranchForm({ ...branchForm, serialNumber: e.target.value })}\n                    className=\"rounded-xl\"\n                  />\n                </div>\n              </div>\n            </div>\n\n\n            <div className=\"space-y-4 border-t pt-4\">\n              <h3 className=\"text-lg font-semibold\">Storage Indices</h3>\n              <p className=\"text-sm text-muted-foreground\">\n                Configure unique storage locations for this branch (e.g., Tank, Warehouse, Cold Storage)\n              </p>\n              <div className=\"flex gap-2\">\n                <Select\n                  value={branchForm.newStorageIndex}\n                  onValueChange={(value) => setBranchForm({ ...branchForm, newStorageIndex: value })}\n                >\n                  <SelectTrigger className=\"rounded-xl\">\n                    <SelectValue placeholder=\"Select storage type\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Tank\">Tank</SelectItem>\n                    <SelectItem value=\"Warehouse\">Warehouse</SelectItem>\n                    <SelectItem value=\"Cold Storage\">Cold Storage</SelectItem>\n                    <SelectItem value=\"Dry Storage\">Dry Storage</SelectItem>\n                  </SelectContent>\n                </Select>\n                <Input\n                  placeholder=\"e.g., Tank 1\"\n                  value={branchForm.newStorageIndex ? branchForm.newStorageIndex.split(\" \")[1] || \"\" : \"\"}\n                  onChange={(e) => {\n                    const type = branchForm.newStorageIndex ? branchForm.newStorageIndex.split(\" \")[0] || \"\" : \"\"\n                    setBranchForm({ ...branchForm, newStorageIndex: `${type} ${e.target.value}` })\n                  }}\n                  className=\"rounded-xl\"\n                />\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    if (branchForm.newStorageIndex.trim()) {\n                      const storageName = branchForm.newStorageIndex.trim()\n                      if (storageName.toLowerCase().includes(\"tank\")) {\n                        // Initialize tank configuration\n                        setBranchForm({\n                          ...branchForm,\n                          storageIndices: [...branchForm.storageIndices, storageName],\n                          tankConfig: {\n                            ...branchForm.tankConfig,\n                            [storageName]: { dispensers: [], initialStock: \"\", fuelType: \"Petrol\", tankCapacity: \"\" }, // Default to Petrol and empty capacity\n                          },\n                          newStorageIndex: \"\",\n                        })\n                      } else {\n                        setBranchForm({\n                          ...branchForm,\n                          storageIndices: [...branchForm.storageIndices, storageName],\n                          newStorageIndex: \"\",\n                        })\n                      }\n                    }\n                  }}\n                  className=\"rounded-xl\"\n                >\n                  Add\n                </Button>\n              </div>\n              {branchForm.storageIndices.length > 0 && (\n                <div className=\"space-y-4 mt-4\">\n                  {branchForm.storageIndices.map((index, i) => (\n                    <div key={i} className=\"border rounded-xl p-4 space-y-3\">\n                      <div className=\"flex items-center justify-between\">\n                        <Badge variant=\"secondary\" className=\"rounded-lg\">\n                          {index}\n                        </Badge>\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            const newConfig = { ...branchForm.tankConfig }\n                            delete newConfig[index]\n                            setBranchForm({\n                              ...branchForm,\n                              storageIndices: branchForm.storageIndices.filter((_, idx) => idx !== i),\n                              tankConfig: newConfig,\n                            })\n                          }}\n                          className=\"text-sm text-destructive hover:underline\"\n                        >\n                          Remove\n                        </button>\n                      </div>\n\n                      {index.toLowerCase().includes(\"tank\") && (\n                        <div className=\"space-y-4 bg-muted/50 p-3 rounded-lg\">\n                          <div className=\"space-y-2\">\n                            <Label>Fuel Type</Label>\n                            <Select\n                              value={branchForm.tankConfig[index]?.fuelType || \"Petrol\"}\n                              onValueChange={(value) => {\n                                const currentConfig = branchForm.tankConfig[index] || { dispensers: [], initialStock: \"\", fuelType: \"Petrol\", tankCapacity: \"\" }\n                                setBranchForm({\n                                  ...branchForm,\n                                  tankConfig: {\n                                    ...branchForm.tankConfig,\n                                    [index]: { ...currentConfig, fuelType: value },\n                                  },\n                                })\n                              }}\n                            >\n                              <SelectTrigger>\n                                <SelectValue placeholder=\"Select fuel type\" />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"Petrol\">Petrol</SelectItem>\n                                <SelectItem value=\"Diesel\">Diesel</SelectItem>\n                                <SelectItem value=\"Kerosene\">Kerosene</SelectItem>\n                                <SelectItem value=\"Super\">Super</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </div>\n\n                          {/* Added tank capacity input field in the form */}\n                          <div className=\"space-y-2\">\n                            <Label htmlFor={`tank-capacity-${i}`}>Tank Capacity (Litres) *</Label>\n                            <Input\n                              id={`tank-capacity-${i}`}\n                              type=\"number\"\n                              placeholder=\"e.g., 10000\"\n                              value={branchForm.tankConfig[index]?.tankCapacity || \"\"}\n                              onChange={(e) => {\n                                const currentConfig = branchForm.tankConfig[index] || { dispensers: [], initialStock: \"\", fuelType: \"Petrol\", tankCapacity: \"\" }\n                                setBranchForm({\n                                  ...branchForm,\n                                  tankConfig: {\n                                    ...branchForm.tankConfig,\n                                    [index]: {\n                                      ...currentConfig,\n                                      tankCapacity: e.target.value,\n                                    },\n                                  },\n                                })\n                              }}\n                              className=\"rounded-xl\"\n                            />\n                          </div>\n\n                          <div className=\"space-y-2\">\n                            <Label>Dispensers Served by This Tank *</Label>\n                            <div className=\"flex gap-2\">\n                              <Input\n                                placeholder=\"e.g., Dispenser 01\"\n                                id={`new-dispenser-${index}`}\n                                className=\"rounded-xl\"\n                              />\n                              <Button\n                                type=\"button\"\n                                variant=\"outline\"\n                                onClick={() => {\n                                  const input = document.getElementById(`new-dispenser-${index}`) as HTMLInputElement\n                                  const dispenserName = input?.value?.trim()\n                                  if (dispenserName) {\n                                    const currentConfig = branchForm.tankConfig[index] || { dispensers: [], initialStock: \"\", fuelType: \"Petrol\", tankCapacity: \"\" }\n                                    setBranchForm({\n                                      ...branchForm,\n                                      tankConfig: {\n                                        ...branchForm.tankConfig,\n                                        [index]: {\n                                          ...currentConfig,\n                                          dispensers: [\n                                            ...(currentConfig.dispensers || []),\n                                            dispenserName,\n                                          ],\n                                        },\n                                      },\n                                    })\n                                    input.value = \"\"\n                                  }\n                                }}\n                                className=\"rounded-xl\"\n                              >\n                                Add Dispenser\n                              </Button>\n                            </div>\n\n                            {branchForm.tankConfig[index]?.dispensers?.length > 0 && (\n                              <div className=\"space-y-2 mt-2\">\n                                {branchForm.tankConfig[index].dispensers.map((dispenser, dIdx) => (\n                                  <div\n                                    key={dIdx}\n                                    className=\"flex items-center justify-between bg-background p-2 rounded-lg\"\n                                  >\n                                    <span className=\"text-sm font-medium\">{dispenser}</span>\n                                    <div className=\"flex items-center gap-2\">\n                                      <Input\n                                        type=\"number\"\n                                        placeholder=\"Initial meter reading\"\n                                        className=\"w-48 rounded-lg\"\n                                        id={`meter-${i}-${dIdx}`}\n                                      />\n                                      <button\n                                        type=\"button\"\n                                        onClick={() => {\n                                          const currentConfig = branchForm.tankConfig[index] || { dispensers: [], initialStock: \"\", fuelType: \"Petrol\", tankCapacity: \"\" }\n                                          const dispensers = currentConfig.dispensers.filter(\n                                            (_, idx) => idx !== dIdx,\n                                          )\n                                          setBranchForm({\n                                            ...branchForm,\n                                            tankConfig: {\n                                              ...branchForm.tankConfig,\n                                              [index]: {\n                                                ...currentConfig,\n                                                dispensers,\n                                              },\n                                            },\n                                          })\n                                        }}\n                                        className=\"text-xs text-destructive hover:underline\"\n                                      >\n                                        Remove\n                                      </button>\n                                    </div>\n                                  </div>\n                                ))}\n                              </div>\n                            )}\n                          </div>\n\n                          <div className=\"space-y-2\">\n                            <Label htmlFor={`tank-stock-${index}`}>Initial Stock Position (Litres) *</Label>\n                            <Input\n                              id={`tank-stock-${index}`}\n                              type=\"number\"\n                              placeholder=\"e.g., 5000\"\n                              value={branchForm.tankConfig[index]?.initialStock || \"\"}\n                              onChange={(e) => {\n                                const currentConfig = branchForm.tankConfig[index] || { dispensers: [], initialStock: \"\", fuelType: \"Petrol\", tankCapacity: \"\" }\n                                setBranchForm({\n                                  ...branchForm,\n                                  tankConfig: {\n                                    ...branchForm.tankConfig,\n                                    [index]: {\n                                      ...currentConfig,\n                                      initialStock: e.target.value,\n                                    },\n                                  },\n                                })\n                              }}\n                              className=\"rounded-xl\"\n                              required\n                            />\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n          </div>\n          <div className=\"flex justify-end gap-3\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setCreateBranchOpen(false)}\n              className=\"rounded-xl\"\n              disabled={isSubmitting}\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleCreateBranch}\n              className=\"rounded-xl bg-blue-600 hover:bg-blue-700\"\n              disabled={\n                !branchForm.name ||\n                !branchForm.location ||\n                !branchForm.county ||\n                !branchForm.localTaxOffice ||\n                isSubmitting\n              }\n            >\n              {isSubmitting ? \"Creating...\" : \"Create Branch\"}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Branch Dialog */}\n      <Dialog open={editBranchOpen} onOpenChange={setEditBranchOpen}>\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl\">Edit Branch Details</DialogTitle>\n            <DialogDescription>Update the information for {editingBranch?.name}</DialogDescription>\n          </DialogHeader>\n          <div className=\"grid gap-4 py-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-branch-name\">Branch Name *</Label>\n                <Input\n                  id=\"edit-branch-name\"\n                  placeholder=\"e.g., Nairobi Branch\"\n                  value={branchForm.name}\n                  onChange={(e) => setBranchForm({ ...branchForm, name: e.target.value })}\n                  className=\"rounded-xl\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-location\">Location *</Label>\n                <Input\n                  id=\"edit-location\"\n                  placeholder=\"e.g., Nairobi, Kenya\"\n                  value={branchForm.location}\n                  onChange={(e) => setBranchForm({ ...branchForm, location: e.target.value })}\n                  className=\"rounded-xl\"\n                />\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-address\">Physical Address</Label>\n              <Input\n                id=\"edit-address\"\n                placeholder=\"Street address, building, floor\"\n                value={branchForm.address}\n                onChange={(e) => setBranchForm({ ...branchForm, address: e.target.value })}\n                className=\"rounded-xl\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-county\">County *</Label>\n                <Input\n                  id=\"edit-county\"\n                  placeholder=\"e.g., Nairobi\"\n                  value={branchForm.county}\n                  onChange={(e) => setBranchForm({ ...branchForm, county: e.target.value })}\n                  className=\"rounded-xl\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-local-tax-office\">Local Tax Office *</Label>\n                <Input\n                  id=\"edit-local-tax-office\"\n                  placeholder=\"e.g., Nairobi CBD\"\n                  value={branchForm.localTaxOffice}\n                  onChange={(e) => setBranchForm({ ...branchForm, localTaxOffice: e.target.value })}\n                  className=\"rounded-xl\"\n                />\n              </div>\n            </div>\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-manager\">Branch Manager</Label>\n                <Input\n                  id=\"edit-manager\"\n                  placeholder=\"Manager name\"\n                  value={branchForm.manager}\n                  onChange={(e) => setBranchForm({ ...branchForm, manager: e.target.value })}\n                  className=\"rounded-xl\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-email\">Email</Label>\n                <Input\n                  id=\"edit-email\"\n                  type=\"email\"\n                  placeholder=\"branch@flow360.com\"\n                  value={branchForm.email}\n                  onChange={(e) => setBranchForm({ ...branchForm, email: e.target.value })}\n                  className=\"rounded-xl\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-phone\">Phone Number</Label>\n                <Input\n                  id=\"edit-phone\"\n                  type=\"tel\"\n                  placeholder=\"+254...\"\n                  value={branchForm.phone}\n                  onChange={(e) => setBranchForm({ ...branchForm, phone: e.target.value })}\n                  className=\"rounded-xl\"\n                />\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-kra-pin\">KRA PIN</Label>\n              <Input\n                id=\"edit-kra-pin\"\n                placeholder=\"e.g., P000000000X\"\n                value={branchForm.kraPin}\n                onChange={(e) => setBranchForm({ ...branchForm, kraPin: e.target.value })}\n                className=\"rounded-xl\"\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Required for KRA TIMS integration. Sales will fail without this.\n              </p>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-controller-id\">Controller ID (PTS ID)</Label>\n              <Input\n                id=\"edit-controller-id\"\n                placeholder=\"e.g., 003A003A...\"\n                value={branchForm.controllerId}\n                onChange={(e) => setBranchForm({ ...branchForm, controllerId: e.target.value })}\n                className=\"rounded-xl font-mono text-sm\"\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Unique identifier for the pump controller. Used to match pump callbacks to this branch.\n              </p>\n            </div>\n          </div>\n          <div className=\"space-y-4 border-t pt-4\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-sm font-medium\">Staff Password Reset</h3>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={async () => {\n                  if (!editingBranch) return\n                  const userEmail = prompt(\"Enter the email or username of the staff member:\")\n                  if (!userEmail) return\n                  \n                  try {\n                    const userRes = await fetch(`/api/users?email=${encodeURIComponent(userEmail)}&branch_id=${editingBranch.id}`)\n                    const userData = await userRes.json()\n                    \n                    if (!userData.success || !userData.data || userData.data.length === 0) {\n                      alert(\"User not found in this branch\")\n                      return\n                    }\n                    \n                    const user = userData.data[0]\n                    const currentUser = getCurrentUser()\n                    \n                    const resetRes = await fetch('/api/auth/reset/issue', {\n                      method: 'POST',\n                      headers: { 'Content-Type': 'application/json' },\n                      body: JSON.stringify({\n                        user_id: user.id,\n                        admin_id: currentUser?.id\n                      })\n                    })\n                    \n                    const resetData = await resetRes.json()\n                    \n                    if (resetData.success) {\n                      alert(`Reset code for ${resetData.user.username}: ${resetData.code}\\n\\nThis code expires in ${resetData.expires_in_minutes} minutes.\\n\\nGive this code to the user to reset their password.`)\n                    } else {\n                      alert(resetData.error || \"Failed to generate reset code\")\n                    }\n                  } catch (error) {\n                    console.error(\"Error generating reset code:\", error)\n                    alert(\"Error generating reset code\")\n                  }\n                }}\n                className=\"rounded-xl\"\n              >\n                Generate Reset Code\n              </Button>\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              Generate a password reset code for a staff member in this branch\n            </p>\n          </div>\n\n          <div className=\"flex justify-between items-center pt-4 border-t\">\n            <Button\n              variant=\"destructive\"\n              onClick={() => {\n                if (editingBranch) {\n                  handleDeleteBranch(editingBranch.id, editingBranch.name)\n                  setEditBranchOpen(false)\n                }\n              }}\n              className=\"rounded-xl\"\n            >\n              Delete Branch\n            </Button>\n            <div className=\"flex gap-3\">\n              <Button variant=\"outline\" onClick={() => setEditBranchOpen(false)} className=\"rounded-xl\">\n                Cancel\n              </Button>\n              <Button\n                onClick={handleUpdateBranch}\n                className=\"rounded-xl bg-blue-600 hover:bg-blue-700\"\n                disabled={\n                  !branchForm.name ||\n                  !branchForm.location ||\n                  !branchForm.county ||\n                  !branchForm.localTaxOffice\n                }\n              >\n                Update Branch\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Inventory Dialog */}\n      <Dialog open={inventoryOpen} onOpenChange={setInventoryOpen}>\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl\">Hardware Inventory</DialogTitle>\n            <DialogDescription>View all hardware assigned to branches</DialogDescription>\n          </DialogHeader>\n          <div className=\"py-4\">\n            <p className=\"text-center text-muted-foreground\">\n              Hardware inventory data will be displayed here. Navigate to the Inventory page for full details.\n            </p>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={globalUploadsOpen} onOpenChange={setGlobalUploadsOpen}>\n        <DialogContent className=\"max-w-2xl rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl\">Global Uploads</DialogTitle>\n            <DialogDescription>Upload meter readings and stock positions for all branches</DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-6 py-4\">\n            <div className=\"space-y-3\">\n              <h3 className=\"text-sm font-semibold\">File Requirements</h3>\n              <ul className=\"text-sm text-muted-foreground space-y-1 list-disc list-inside\">\n                <li>Excel or CSV file format</li>\n                <li>Must include: Branch Name, Dispenser ID, Opening Meter Reading, Closing Meter Reading</li>\n                <li>Must include: Tank ID, Opening Stock, Closing Stock</li>\n                <li>One row per dispenser/tank reading</li>\n              </ul>\n            </div>\n\n            <div className=\"space-y-3\">\n              <Label htmlFor=\"upload-file\">Select File *</Label>\n              <Input\n                id=\"upload-file\"\n                type=\"file\"\n                accept=\".xlsx,.xls,.csv\"\n                onChange={(e) => setUploadFile(e.target.files?.[0] || null)}\n                className=\"rounded-xl\"\n              />\n              {uploadFile && <p className=\"text-sm text-muted-foreground\">Selected: {uploadFile.name}</p>}\n            </div>\n\n            <div className=\"bg-muted/50 p-4 rounded-xl\">\n              <h4 className=\"text-sm font-semibold mb-2\">Sample Format</h4>\n              <div className=\"text-xs font-mono bg-background p-3 rounded-lg overflow-x-auto\">\n                <div>Branch,Dispenser,Opening,Closing,Tank,Opening Stock,Closing Stock</div>\n                <div>Nairobi,Dispenser 01,1000,1500,Tank 1,5000,4200</div>\n                <div>Mombasa,Dispenser 02,2000,2300,Tank 2,6000,5800</div>\n              </div>\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setGlobalUploadsOpen(false)} className=\"rounded-xl\">\n              Cancel\n            </Button>\n            <Button onClick={handleGlobalUpload} disabled={!uploadFile} className=\"rounded-xl\">\n              <Upload className=\"mr-2 h-4 w-4\" />\n              Upload\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}