{"version":3,"sources":["../../../../app/sales/automated/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { DashboardSidebar } from \"@/components/dashboard-sidebar\"\nimport { DashboardHeader } from \"@/components/dashboard-header\"\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Button } from \"@/components/ui/button\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Table, TableBody, TableCell, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { useCurrency } from \"@/lib/currency-utils\"\nimport { toast } from \"sonner\"\nimport { ChevronLeft, ChevronRight, RefreshCw, Zap, Check, X, Printer, MoreVertical, FileText } from \"lucide-react\"\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\"\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\nimport { Textarea } from \"@/components/ui/textarea\"\n\nconst PAGE_SIZE = 20\n\nexport default function AutomatedSalesPage() {\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false)\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)\n  const { formatCurrency } = useCurrency()\n  const [sales, setSales] = useState<any[]>([])\n  const [nozzles, setNozzles] = useState<any[]>([])\n  const [dispensers, setDispensers] = useState<any[]>([])\n  const [loading, setLoading] = useState(false)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [totalCount, setTotalCount] = useState(0)\n\n  const [filters, setFilters] = useState({\n    startDate: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0],\n    endDate: new Date().toISOString().split(\"T\")[0],\n    status: \"all\",\n    documentType: \"all\",\n    fuelType: \"all\",\n    invoiceNumber: \"\",\n    nozzle: \"all\",\n    paymentMethod: \"all\",\n    loyalty: \"all\",\n  })\n  \n  const [issuingCreditNote, setIssuingCreditNote] = useState<string | null>(null)\n  const [creditNoteDialogOpen, setCreditNoteDialogOpen] = useState(false)\n  const [selectedSaleForCreditNote, setSelectedSaleForCreditNote] = useState<any>(null)\n  const [creditNoteForm, setCreditNoteForm] = useState({\n    refundType: \"full\" as \"full\" | \"partial\",\n    reasonCode: \"01\",\n    partialAmount: \"\",\n    notes: \"\"\n  })\n\n  const [currentBranchId, setCurrentBranchId] = useState<string | null>(null)\n\n  useEffect(() => {\n    const getBranchId = () => {\n      const currentBranch = localStorage.getItem(\"selectedBranch\")\n      if (currentBranch) {\n        try {\n          const branchData = JSON.parse(currentBranch)\n          return branchData.id\n        } catch {\n          return null\n        }\n      }\n      return null\n    }\n\n    const branchId = getBranchId()\n    setCurrentBranchId(branchId)\n\n    const handleStorageChange = () => {\n      const newBranchId = getBranchId()\n      if (newBranchId !== currentBranchId) {\n        setCurrentBranchId(newBranchId)\n      }\n    }\n\n    window.addEventListener('storage', handleStorageChange)\n    \n    const interval = setInterval(() => {\n      const newBranchId = getBranchId()\n      if (newBranchId && newBranchId !== currentBranchId) {\n        setCurrentBranchId(newBranchId)\n      }\n    }, 1000)\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange)\n      clearInterval(interval)\n    }\n  }, [currentBranchId])\n\n  useEffect(() => {\n    if (currentBranchId) {\n      fetchData()\n    }\n  }, [currentPage, filters, currentBranchId])\n\n  async function fetchData() {\n    try {\n      setLoading(true)\n      const currentBranch = localStorage.getItem(\"selectedBranch\")\n      if (!currentBranch) {\n        toast.error(\"No branch selected. Please select a branch from the header.\")\n        return\n      }\n\n      let branchId: string\n      try {\n        const branchData = JSON.parse(currentBranch)\n        branchId = branchData.id\n      } catch {\n        toast.error(\"Invalid branch selection. Please reselect your branch.\")\n        return\n      }\n\n      if (!branchId || branchId === \"hq\") {\n        toast.error(\"Please select a specific branch to view automated sales.\")\n        return\n      }\n\n      const [nozzlesRes, dispensersRes, salesRes] = await Promise.all([\n        fetch(`/api/nozzles?branch_id=${branchId}&status=active`),\n        fetch(`/api/dispensers?branch_id=${branchId}`),\n        fetch(`/api/sales?branch_id=${branchId}&is_automated=true&start_date=${filters.startDate}&end_date=${filters.endDate}&page=${currentPage}&limit=${PAGE_SIZE}${filters.status !== 'all' ? `&transmission_status=${filters.status}` : ''}${filters.fuelType !== 'all' ? `&fuel_type=${filters.fuelType}` : ''}${filters.nozzle !== 'all' ? `&nozzle_id=${filters.nozzle}` : ''}${filters.paymentMethod !== 'all' ? `&payment_method=${filters.paymentMethod}` : ''}`)\n      ])\n      \n      const [nozzlesResult, dispensersResult, salesResult] = await Promise.all([\n        nozzlesRes.json(),\n        dispensersRes.json(),\n        salesRes.json()\n      ])\n\n      setNozzles(nozzlesResult.success ? nozzlesResult.data || [] : [])\n      setDispensers(dispensersResult.success ? dispensersResult.data || [] : [])\n\n      const salesData = salesResult.success ? salesResult.data || [] : []\n      setTotalCount(salesResult.totalCount || salesData.length)\n\n      const processedSales = salesData.map((sale: any) => ({\n        ...sale,\n        quantity: Number(sale.quantity) || 0,\n        unit_price: Number(sale.unit_price) || 0,\n        total_amount: Number(sale.total_amount) || 0,\n        meter_reading_after: Number(sale.meter_reading_after) || 0,\n      }))\n      setSales(processedSales)\n    } catch (error) {\n      console.error(\"Error fetching data:\", error)\n      toast.error(\"Failed to load automated sales data\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const totalPages = Math.ceil(totalCount / PAGE_SIZE)\n  \n  const filteredSales = sales.filter((sale) => {\n    if (filters.documentType === \"invoices\" && sale.is_credit_note) return false\n    if (filters.documentType === \"credit_notes\" && !sale.is_credit_note) return false\n    if (filters.invoiceNumber) {\n      const invoiceMatch = (sale.invoice_number || sale.receipt_number || \"\")\n        .toLowerCase()\n        .includes(filters.invoiceNumber.toLowerCase())\n      if (!invoiceMatch) return false\n    }\n    if (filters.loyalty === \"loyalty\" && !sale.is_loyalty_sale) return false\n    if (filters.loyalty === \"non-loyalty\" && sale.is_loyalty_sale) return false\n    return true\n  })\n  \n  const uniqueFuelTypes = Array.from(new Set(sales.map((s) => s.fuel_type).filter(Boolean)))\n  const uniqueNozzles = Array.from(new Set(sales.map((s) => s.nozzle_id).filter(Boolean)))\n  const totalRevenue = filteredSales.reduce((sum, s) => sum + s.total_amount, 0)\n  const pendingCount = filteredSales.filter((s) => s.transmission_status === \"pending\").length\n  const transmittedCount = filteredSales.filter((s) => s.transmission_status === \"transmitted\").length\n  const flaggedCount = filteredSales.filter((s) => s.transmission_status === \"flagged\").length\n\n  function getStatusBadgeVariant(status: string) {\n    switch (status) {\n      case \"transmitted\": return \"default\"\n      case \"pending\": return \"secondary\"\n      case \"flagged\": return \"destructive\"\n      default: return \"secondary\"\n    }\n  }\n\n  async function retryTransmission(saleId: string) {\n    toast.info(`Retrying transmission for sale ${saleId}...`)\n  }\n\n  function openCreditNoteDialog(sale: any) {\n    if (sale.is_credit_note) {\n      toast.error(\"Cannot issue credit note for a credit note\")\n      return\n    }\n    if (sale.has_credit_note) {\n      toast.error(\"Credit note already issued for this sale\")\n      return\n    }\n    setSelectedSaleForCreditNote(sale)\n    setCreditNoteForm({\n      refundType: \"full\",\n      reasonCode: \"01\",\n      partialAmount: \"\",\n      notes: \"\"\n    })\n    setCreditNoteDialogOpen(true)\n  }\n\n  async function handleSubmitCreditNote() {\n    if (!selectedSaleForCreditNote) return\n    \n    const sale = selectedSaleForCreditNote\n    \n    if (creditNoteForm.refundType === \"partial\") {\n      const partialAmt = parseFloat(creditNoteForm.partialAmount)\n      if (isNaN(partialAmt) || partialAmt <= 0) {\n        toast.error(\"Please enter a valid partial amount\")\n        return\n      }\n      if (partialAmt > Math.abs(parseFloat(sale.total_amount))) {\n        toast.error(\"Partial amount cannot exceed original sale amount\")\n        return\n      }\n    }\n    \n    try {\n      setIssuingCreditNote(sale.id)\n      const currentBranch = localStorage.getItem(\"selectedBranch\")\n      if (!currentBranch) {\n        toast.error(\"No branch selected\")\n        return\n      }\n      const branchData = JSON.parse(currentBranch)\n      \n      const response = await fetch('/api/credit-notes', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          sale_id: sale.id,\n          branch_id: branchData.id,\n          reason_code: creditNoteForm.reasonCode,\n          refund_type: creditNoteForm.refundType,\n          partial_amount: creditNoteForm.refundType === \"partial\" ? parseFloat(creditNoteForm.partialAmount) : null,\n          notes: creditNoteForm.notes\n        })\n      })\n      \n      const result = await response.json()\n      \n      if (!response.ok || !result.success) {\n        throw new Error(result.error || 'Failed to issue credit note')\n      }\n      \n      toast.success(`Credit note ${result.creditNoteNumber} issued successfully`)\n      setCreditNoteDialogOpen(false)\n      setSelectedSaleForCreditNote(null)\n      fetchData()\n    } catch (error: any) {\n      console.error('Error issuing credit note:', error)\n      toast.error(error.message || 'Failed to issue credit note')\n    } finally {\n      setIssuingCreditNote(null)\n    }\n  }\n\n  async function handlePrintReceipt(sale: any) {\n    try {\n      const currentBranch = localStorage.getItem(\"selectedBranch\")\n      if (!currentBranch) {\n        toast.error(\"No branch selected\")\n        return\n      }\n      const branchData = JSON.parse(currentBranch)\n      \n      const response = await fetch('/api/receipt/generate', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          sale_id: sale.id,\n          branch_id: branchData.id\n        })\n      })\n      \n      if (!response.ok) {\n        throw new Error('Failed to generate receipt')\n      }\n      \n      const blob = await response.blob()\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `receipt-${sale.invoice_number || sale.id}.pdf`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n      \n      toast.success('Receipt downloaded')\n    } catch (error) {\n      console.error('Error generating receipt:', error)\n      toast.error('Failed to generate receipt')\n    }\n  }\n\n  function getKraStatusBadge(sale: any) {\n    const status = sale.kra_status || 'pending'\n    switch (status) {\n      case 'success':\n        return <Badge variant=\"default\" className=\"bg-green-600\">Synced</Badge>\n      case 'pending':\n        return <Badge variant=\"secondary\">Pending</Badge>\n      case 'failed':\n        return <Badge variant=\"destructive\">Failed</Badge>\n      default:\n        return <Badge variant=\"secondary\">{status}</Badge>\n    }\n  }\n\n  return (\n    <div className=\"flex min-h-screen w-full overflow-x-hidden bg-gradient-to-b from-slate-900 via-blue-900 to-white\">\n      <DashboardSidebar \n        collapsed={sidebarCollapsed} \n        onToggle={() => setSidebarCollapsed(!sidebarCollapsed)}\n        mobileOpen={mobileMenuOpen}\n        onMobileClose={() => setMobileMenuOpen(false)}\n      />\n\n      <div className=\"flex-1 flex flex-col min-w-0 lg:ml-8 my-2 lg:my-6 mx-2 lg:mr-6\">\n        <div className=\"bg-white rounded-2xl lg:rounded-tl-3xl shadow-2xl flex-1 flex flex-col overflow-hidden\">\n          <DashboardHeader onMobileMenuToggle={() => setMobileMenuOpen(!mobileMenuOpen)} />\n\n          <main className=\"flex-1 overflow-y-auto overflow-x-hidden bg-slate-50 p-4 lg:p-6\">\n            <div className=\"mx-auto max-w-7xl space-y-6\">\n              <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\n                <div>\n                  <h2 className=\"text-2xl md:text-3xl font-bold text-slate-900\">Automated Sales</h2>\n                  <p className=\"text-slate-600\">Sales transactions posted automatically from external systems</p>\n                </div>\n                <div className=\"flex gap-2 items-center\">\n                  <Button variant=\"outline\" onClick={fetchData} disabled={loading}>\n                    <RefreshCw className={`h-4 w-4 mr-2 ${loading ? \"animate-spin\" : \"\"}`} />\n                    Refresh\n                  </Button>\n                </div>\n              </div>\n\n              <div className=\"grid gap-4 grid-cols-2 lg:grid-cols-4\">\n                <Card>\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"text-sm font-medium text-slate-600 flex items-center gap-2\">\n                      <Zap className=\"h-4 w-4\" />\n                      Total Automated\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"text-2xl font-bold\">{totalCount}</div>\n                    <p className=\"text-sm text-slate-500\">{formatCurrency(totalRevenue)} revenue</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"text-sm font-medium text-green-600 flex items-center gap-2\">\n                      <Check className=\"h-4 w-4\" />\n                      Transmitted\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"text-2xl font-bold text-green-600\">{transmittedCount}</div>\n                    <p className=\"text-sm text-slate-500\">Successfully sent</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"text-sm font-medium text-amber-600 flex items-center gap-2\">\n                      <RefreshCw className=\"h-4 w-4\" />\n                      Pending\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"text-2xl font-bold text-amber-600\">{pendingCount}</div>\n                    <p className=\"text-sm text-slate-500\">Awaiting transmission</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"text-sm font-medium text-red-600 flex items-center gap-2\">\n                      <X className=\"h-4 w-4\" />\n                      Flagged\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"text-2xl font-bold text-red-600\">{flaggedCount}</div>\n                    <p className=\"text-sm text-slate-500\">Requires attention</p>\n                  </CardContent>\n                </Card>\n              </div>\n\n              <Card className=\"rounded-2xl\">\n                <CardHeader>\n                  <div className=\"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4\">\n                    <div>\n                      <CardTitle>Automated Sales Log</CardTitle>\n                      <CardDescription>Transactions automatically posted from external systems</CardDescription>\n                    </div>\n                    <div className=\"flex flex-wrap gap-2 items-center\">\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"start-date\" className=\"text-sm whitespace-nowrap\">From:</Label>\n                        <Input\n                          id=\"start-date\"\n                          type=\"date\"\n                          value={filters.startDate}\n                          onChange={(e) => setFilters({ ...filters, startDate: e.target.value })}\n                          className=\"w-36 h-9\"\n                        />\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"end-date\" className=\"text-sm whitespace-nowrap\">To:</Label>\n                        <Input\n                          id=\"end-date\"\n                          type=\"date\"\n                          value={filters.endDate}\n                          onChange={(e) => setFilters({ ...filters, endDate: e.target.value })}\n                          className=\"w-36 h-9\"\n                        />\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"status-filter\" className=\"text-sm whitespace-nowrap\">Status:</Label>\n                        <Select value={filters.status} onValueChange={(value) => setFilters({ ...filters, status: value })}>\n                          <SelectTrigger id=\"status-filter\" className=\"w-28 h-9\">\n                            <SelectValue placeholder=\"All\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"all\">All</SelectItem>\n                            <SelectItem value=\"transmitted\">Transmitted</SelectItem>\n                            <SelectItem value=\"pending\">Pending</SelectItem>\n                            <SelectItem value=\"flagged\">Flagged</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"fuel-filter\" className=\"text-sm whitespace-nowrap\">Fuel:</Label>\n                        <Select value={filters.fuelType} onValueChange={(value) => setFilters({ ...filters, fuelType: value })}>\n                          <SelectTrigger id=\"fuel-filter\" className=\"w-28 h-9\">\n                            <SelectValue placeholder=\"All\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"all\">All</SelectItem>\n                            {uniqueFuelTypes.map((type) => (\n                              <SelectItem key={type} value={type}>{type}</SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"nozzle-filter\" className=\"text-sm whitespace-nowrap\">Nozzle:</Label>\n                        <Select value={filters.nozzle} onValueChange={(value) => setFilters({ ...filters, nozzle: value })}>\n                          <SelectTrigger id=\"nozzle-filter\" className=\"w-28 h-9\">\n                            <SelectValue placeholder=\"All\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"all\">All</SelectItem>\n                            {uniqueNozzles.map((nozzleId) => {\n                              const nozzle = nozzles.find((n) => n.id === nozzleId)\n                              const dispenser = nozzle ? dispensers.find((d: any) => d.id === nozzle.dispenser_id) : null\n                              return (\n                                <SelectItem key={nozzleId} value={nozzleId}>\n                                  {dispenser && nozzle ? `D${dispenser.dispenser_number}N${nozzle.nozzle_number}` : \"Unknown\"}\n                                </SelectItem>\n                              )\n                            })}\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"payment-filter\" className=\"text-sm whitespace-nowrap\">Payment:</Label>\n                        <Select value={filters.paymentMethod} onValueChange={(value) => setFilters({ ...filters, paymentMethod: value })}>\n                          <SelectTrigger id=\"payment-filter\" className=\"w-28 h-9\">\n                            <SelectValue placeholder=\"All\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"all\">All</SelectItem>\n                            <SelectItem value=\"cash\">Cash</SelectItem>\n                            <SelectItem value=\"mobile_money\">Mobile Money</SelectItem>\n                            <SelectItem value=\"card\">Card</SelectItem>\n                            <SelectItem value=\"credit\">Credit</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"doctype-filter\" className=\"text-sm whitespace-nowrap\">Type:</Label>\n                        <Select value={filters.documentType} onValueChange={(value) => setFilters({ ...filters, documentType: value })}>\n                          <SelectTrigger id=\"doctype-filter\" className=\"w-32 h-9\">\n                            <SelectValue placeholder=\"All\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"all\">All</SelectItem>\n                            <SelectItem value=\"invoices\">Invoices</SelectItem>\n                            <SelectItem value=\"credit_notes\">Credit Notes</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"loyalty-filter\" className=\"text-sm whitespace-nowrap\">Loyalty:</Label>\n                        <Select value={filters.loyalty} onValueChange={(value) => setFilters({ ...filters, loyalty: value })}>\n                          <SelectTrigger id=\"loyalty-filter\" className=\"w-28 h-9\">\n                            <SelectValue placeholder=\"All\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"all\">All</SelectItem>\n                            <SelectItem value=\"loyalty\">Loyalty Only</SelectItem>\n                            <SelectItem value=\"non-loyalty\">Walk-in</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Label htmlFor=\"invoice-filter\" className=\"text-sm whitespace-nowrap\">Invoice:</Label>\n                        <Input\n                          id=\"invoice-filter\"\n                          type=\"text\"\n                          placeholder=\"Search...\"\n                          value={filters.invoiceNumber}\n                          onChange={(e) => setFilters({ ...filters, invoiceNumber: e.target.value })}\n                          className=\"w-28 h-9\"\n                        />\n                      </div>\n                      <Button variant=\"outline\" size=\"sm\" onClick={() => setFilters({\n                        startDate: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0],\n                        endDate: new Date().toISOString().split(\"T\")[0],\n                        status: \"all\",\n                        documentType: \"all\",\n                        fuelType: \"all\",\n                        invoiceNumber: \"\",\n                        nozzle: \"all\",\n                        paymentMethod: \"all\",\n                        loyalty: \"all\",\n                      })} className=\"h-9\">Clear</Button>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {filteredSales.length === 0 ? (\n                      <div className=\"text-center py-12\">\n                        <Zap className=\"h-12 w-12 mx-auto text-slate-300 mb-4\" />\n                        <p className=\"text-slate-500 text-lg\">No automated sales found</p>\n                        <p className=\"text-sm text-slate-400 mt-2\">\n                          Automated sales appear here when they are posted from external systems like POS terminals or fuel management systems.\n                        </p>\n                      </div>\n                    ) : (\n                      <div className=\"overflow-x-auto\">\n                        <Table className=\"w-full min-w-[900px]\">\n                          <TableHeader>\n                            <TableRow>\n                              <TableCell className=\"text-left p-2\">Date</TableCell>\n                              <TableCell className=\"text-left p-2\">Invoice No.</TableCell>\n                              <TableCell className=\"text-left p-2\">Source</TableCell>\n                              <TableCell className=\"text-left p-2\">Fuel Type</TableCell>\n                              <TableCell className=\"text-right p-2\">Quantity (L)</TableCell>\n                              <TableCell className=\"text-right p-2\">Total</TableCell>\n                              <TableCell className=\"text-center p-2\">Transmission</TableCell>\n                              <TableCell className=\"text-center p-2\">KRA Status</TableCell>\n                              <TableCell className=\"text-center p-2\">Actions</TableCell>\n                            </TableRow>\n                          </TableHeader>\n                          <TableBody>\n                            {filteredSales.map((sale) => {\n                              return (\n                                <TableRow key={sale.id} className=\"hover:bg-slate-50\">\n                                  <TableCell className=\"p-2\">\n                                    {new Date(sale.sale_date).toLocaleDateString(\"en-US\", {\n                                      month: \"short\",\n                                      day: \"numeric\",\n                                      hour: \"2-digit\",\n                                      minute: \"2-digit\",\n                                    })}\n                                  </TableCell>\n                                  <TableCell className=\"p-2 text-sm font-mono\">\n                                    {sale.invoice_number || sale.receipt_number}\n                                  </TableCell>\n                                  <TableCell className=\"p-2 text-sm\">\n                                    <Badge variant=\"outline\">{sale.source_system || \"External\"}</Badge>\n                                  </TableCell>\n                                  <TableCell className=\"p-2\">{sale.fuel_type}</TableCell>\n                                  <TableCell className=\"p-2 text-right\">{Number(sale.quantity).toFixed(2)}</TableCell>\n                                  <TableCell className=\"p-2 text-right font-medium\">{formatCurrency(sale.total_amount)}</TableCell>\n                                  <TableCell className=\"p-2 text-center\">\n                                    <Badge variant={getStatusBadgeVariant(sale.transmission_status)} className=\"capitalize\">\n                                      {sale.transmission_status || \"pending\"}\n                                    </Badge>\n                                  </TableCell>\n                                  <TableCell className=\"p-2 text-center\">\n                                    {getKraStatusBadge(sale)}\n                                  </TableCell>\n                                  <TableCell className=\"p-2 text-center\">\n                                    <DropdownMenu>\n                                      <DropdownMenuTrigger asChild>\n                                        <Button variant=\"ghost\" size=\"sm\">\n                                          <MoreVertical className=\"h-4 w-4\" />\n                                        </Button>\n                                      </DropdownMenuTrigger>\n                                      <DropdownMenuContent align=\"end\">\n                                        <DropdownMenuItem onClick={() => handlePrintReceipt(sale)}>\n                                          <Printer className=\"h-4 w-4 mr-2\" />\n                                          Print KRA Receipt\n                                        </DropdownMenuItem>\n                                        {!sale.is_credit_note && !sale.has_credit_note && (\n                                          <DropdownMenuItem onClick={() => openCreditNoteDialog(sale)}>\n                                            <FileText className=\"h-4 w-4 mr-2\" />\n                                            Generate Credit Note\n                                          </DropdownMenuItem>\n                                        )}\n                                        {(sale.transmission_status === \"pending\" || sale.transmission_status === \"flagged\") && (\n                                          <DropdownMenuItem onClick={() => retryTransmission(sale.id)}>\n                                            <RefreshCw className=\"h-4 w-4 mr-2\" />\n                                            Retry Transmission\n                                          </DropdownMenuItem>\n                                        )}\n                                      </DropdownMenuContent>\n                                    </DropdownMenu>\n                                  </TableCell>\n                                </TableRow>\n                              )\n                            })}\n                          </TableBody>\n                        </Table>\n                      </div>\n                    )}\n\n                    {totalPages > 1 && (\n                      <div className=\"flex items-center justify-between pt-4 border-t\">\n                        <p className=\"text-sm text-slate-500\">\n                          Showing {(currentPage - 1) * PAGE_SIZE + 1} to {Math.min(currentPage * PAGE_SIZE, totalCount)} of {totalCount} entries\n                        </p>\n                        <div className=\"flex items-center gap-2\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\n                            disabled={currentPage === 1}\n                          >\n                            <ChevronLeft className=\"h-4 w-4\" />\n                          </Button>\n                          <span className=\"text-sm text-slate-600\">\n                            Page {currentPage} of {totalPages}\n                          </span>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\n                            disabled={currentPage === totalPages}\n                          >\n                            <ChevronRight className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n\n              <footer className=\"mt-12 border-t pt-6 pb-4 text-center text-sm text-muted-foreground\">\n                Powered by <span className=\"font-semibold text-navy-900\">Sensile Technologies East Africa Ltd</span>\n              </footer>\n            </div>\n          </main>\n        </div>\n      </div>\n\n      <Dialog open={creditNoteDialogOpen} onOpenChange={setCreditNoteDialogOpen}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Issue Credit Note</DialogTitle>\n            <DialogDescription>\n              Create a credit note for sale {selectedSaleForCreditNote?.invoice_number || selectedSaleForCreditNote?.receipt_number}\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label>Refund Type</Label>\n              <RadioGroup\n                value={creditNoteForm.refundType}\n                onValueChange={(value: \"full\" | \"partial\") =>\n                  setCreditNoteForm({ ...creditNoteForm, refundType: value })\n                }\n              >\n                <div className=\"flex items-center space-x-2\">\n                  <RadioGroupItem value=\"full\" id=\"full\" />\n                  <Label htmlFor=\"full\">Full Refund</Label>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <RadioGroupItem value=\"partial\" id=\"partial\" />\n                  <Label htmlFor=\"partial\">Partial Refund</Label>\n                </div>\n              </RadioGroup>\n            </div>\n\n            {creditNoteForm.refundType === \"partial\" && (\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"partialAmount\">Partial Amount</Label>\n                <Input\n                  id=\"partialAmount\"\n                  type=\"number\"\n                  placeholder=\"Enter amount\"\n                  value={creditNoteForm.partialAmount}\n                  onChange={(e) =>\n                    setCreditNoteForm({ ...creditNoteForm, partialAmount: e.target.value })\n                  }\n                />\n              </div>\n            )}\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"reasonCode\">Reason Code</Label>\n              <Select\n                value={creditNoteForm.reasonCode}\n                onValueChange={(value) =>\n                  setCreditNoteForm({ ...creditNoteForm, reasonCode: value })\n                }\n              >\n                <SelectTrigger id=\"reasonCode\">\n                  <SelectValue placeholder=\"Select reason\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"01\">Pricing Error</SelectItem>\n                  <SelectItem value=\"02\">Quality Issues</SelectItem>\n                  <SelectItem value=\"03\">Wrong Product</SelectItem>\n                  <SelectItem value=\"04\">Customer Return</SelectItem>\n                  <SelectItem value=\"05\">Other</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"notes\">Notes</Label>\n              <Textarea\n                id=\"notes\"\n                placeholder=\"Additional notes...\"\n                value={creditNoteForm.notes}\n                onChange={(e) =>\n                  setCreditNoteForm({ ...creditNoteForm, notes: e.target.value })\n                }\n              />\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setCreditNoteDialogOpen(false)}>\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSubmitCreditNote}\n              disabled={issuingCreditNote !== null}\n            >\n              {issuingCreditNote ? \"Issuing...\" : \"Issue Credit Note\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}