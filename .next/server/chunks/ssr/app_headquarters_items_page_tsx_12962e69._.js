module.exports=[72807,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(69265),e=a.i(50944),f=a.i(40695),g=a.i(3130),h=a.i(5522),i=a.i(17171),j=a.i(88237),k=a.i(39723),l=a.i(65733),m=a.i(54161),n=a.i(15618),o=a.i(87532),p=a.i(83497),q=a.i(24569),r=a.i(69520),s=a.i(67900),t=a.i(20094),u=a.i(74575);let v=[{cd:"KE",cd_nm:"Kenya"},{cd:"AE",cd_nm:"United Arab Emirates"},{cd:"CN",cd_nm:"China"},{cd:"DE",cd_nm:"Germany"},{cd:"EG",cd_nm:"Egypt"},{cd:"ET",cd_nm:"Ethiopia"},{cd:"FR",cd_nm:"France"},{cd:"GB",cd_nm:"United Kingdom"},{cd:"IN",cd_nm:"India"},{cd:"IT",cd_nm:"Italy"},{cd:"JP",cd_nm:"Japan"},{cd:"MY",cd_nm:"Malaysia"},{cd:"NL",cd_nm:"Netherlands"},{cd:"NG",cd_nm:"Nigeria"},{cd:"PK",cd_nm:"Pakistan"},{cd:"RU",cd_nm:"Russia"},{cd:"SA",cd_nm:"Saudi Arabia"},{cd:"SG",cd_nm:"Singapore"},{cd:"TH",cd_nm:"Thailand"},{cd:"TR",cd_nm:"Turkey"},{cd:"TZ",cd_nm:"Tanzania"},{cd:"UG",cd_nm:"Uganda"},{cd:"US",cd_nm:"United States"},{cd:"ZA",cd_nm:"South Africa"},{cd:"ZM",cd_nm:"Zambia"},{cd:"ZW",cd_nm:"Zimbabwe"},{cd:"RW",cd_nm:"Rwanda"},{cd:"BI",cd_nm:"Burundi"},{cd:"CD",cd_nm:"DR Congo"},{cd:"SS",cd_nm:"South Sudan"},{cd:"SO",cd_nm:"Somalia"},{cd:"DJ",cd_nm:"Djibouti"},{cd:"ER",cd_nm:"Eritrea"},{cd:"MW",cd_nm:"Malawi"},{cd:"MZ",cd_nm:"Mozambique"},{cd:"BW",cd_nm:"Botswana"},{cd:"NA",cd_nm:"Namibia"},{cd:"AU",cd_nm:"Australia"},{cd:"BR",cd_nm:"Brazil"},{cd:"CA",cd_nm:"Canada"},{cd:"ES",cd_nm:"Spain"},{cd:"ID",cd_nm:"Indonesia"},{cd:"KR",cd_nm:"South Korea"},{cd:"MX",cd_nm:"Mexico"},{cd:"PH",cd_nm:"Philippines"},{cd:"PL",cd_nm:"Poland"},{cd:"VN",cd_nm:"Vietnam"}].sort((a,b)=>a.cd_nm.localeCompare(b.cd_nm));function w(){let a=(0,e.useRouter)(),[d,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)({branchId:"",salePrice:""}),{formatCurrency:N}=(0,u.useCurrency)(),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)({itemTypes:[],origins:v,quantityUnits:[],packageUnits:[],taxTypes:[]}),[S,T]=(0,c.useState)({itemName:"",description:"",itemType:"",classCode:"",taxType:"",origin:"",batchNumber:"",purchasePrice:"",salePrice:"",sku:"",quantityUnit:"",packageUnit:""});(0,c.useEffect)(()=>{U(),V(),W()},[]);let U=async()=>{try{let a=await fetch("/api/headquarters/items"),b=await a.json();b.success?w(b.items||[]):t.toast.error(b.error||"Failed to fetch items")}catch(a){console.error("Error fetching items:",a),t.toast.error("Failed to fetch items")}finally{y(!1)}},V=async()=>{try{let[a,b]=await Promise.all([fetch("/api/kra/saved-data?type=codelist"),fetch("/api/kra/saved-data?type=classifications")]),c=await a.json(),d=await b.json();if(c.data){let a=c.data,b=a=>{let b=new Set;return a.filter(a=>!b.has(a.cd)&&(b.add(a.cd),!0))},d=b(a.filter(a=>"05"===a.cd_cls).map(a=>({cd:a.cd,cd_nm:a.cd_nm})));R({itemTypes:b(a.filter(a=>"24"===a.cd_cls).map(a=>({cd:a.cd,cd_nm:a.cd_nm}))),origins:d.length>0?d:v,quantityUnits:b(a.filter(a=>"10"===a.cd_cls).map(a=>({cd:a.cd,cd_nm:a.cd_nm}))),packageUnits:b(a.filter(a=>"17"===a.cd_cls).map(a=>({cd:a.cd,cd_nm:a.cd_nm}))),taxTypes:b(a.filter(a=>"04"===a.cd_cls).map(a=>({cd:a.cd,cd_nm:a.cd_nm})))})}d.data&&P(d.data)}catch(a){console.error("Error fetching KRA data:",a)}},W=async()=>{try{let a=await fetch("/api/branches/list"),b=await a.json();Array.isArray(b)?K(b):b.success&&b.branches&&K(b.branches)}catch(a){console.error("Error fetching branches:",a)}},X=async()=>{if(!F||!L.branchId)return void t.toast.error("Please select a branch");if(!L.salePrice)return void t.toast.error("Please enter a sale price");I(!0);try{let a=await fetch("/api/branch-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({branchId:L.branchId,itemId:F.id,salePrice:parseFloat(L.salePrice)})}),b=await a.json();b.success?(t.toast.success("Item assigned to branch successfully"),E(!1),G(null),U()):t.toast.error(b.error||"Failed to assign item")}catch(a){console.error("Error assigning item:",a),t.toast.error("Failed to assign item to branch")}finally{I(!1)}},Y=async()=>{if(F){I(!0);try{let a=await fetch("/api/headquarters/items",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:F.id,itemName:S.itemName,description:S.description})}),b=await a.json();b.success?(t.toast.success("Item updated successfully"),C(!1),G(null),T({itemName:"",description:"",itemType:"",classCode:"",taxType:"",origin:"",batchNumber:"",purchasePrice:"",salePrice:"",sku:"",quantityUnit:"",packageUnit:""}),U()):t.toast.error(b.error||"Failed to update item")}catch(a){console.error("Error updating item:",a),t.toast.error("Failed to update item")}finally{I(!1)}}},Z=d.filter(a=>a.item_name.toLowerCase().includes(z.toLowerCase())||a.item_code.toLowerCase().includes(z.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(g.Card,{className:"rounded-2xl shadow-lg border-2",children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Package,{className:"h-5 w-5"}),"Item Catalog"]}),(0,b.jsx)(g.CardDescription,{children:"Vendor-level items that can be assigned to branches with custom pricing"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",onClick:U,className:"rounded-xl",children:[(0,b.jsx)(r.RefreshCw,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,b.jsxs)(f.Button,{onClick:()=>a.push("/headquarters/items/add"),className:"rounded-xl",children:[(0,b.jsx)(n.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(o.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(h.Input,{placeholder:"Search by name or code...",value:z,onChange:a=>A(a.target.value),className:"pl-9 rounded-xl"})]})}),x?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Loading items..."}):0===Z.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:z?"No items match your search":"No items found. Create your first item to get started."}):(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableHead,{children:"Item Code"}),(0,b.jsx)(j.TableHead,{children:"Name"}),(0,b.jsx)(j.TableHead,{children:"Type"}),(0,b.jsx)(j.TableHead,{children:"Classification"}),(0,b.jsx)(j.TableHead,{className:"text-center",children:"Branches"}),(0,b.jsx)(j.TableHead,{children:"Status"}),(0,b.jsx)(j.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(j.TableBody,{children:Z.map(a=>(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableCell,{className:"font-mono text-sm",children:a.item_code}),(0,b.jsx)(j.TableCell,{className:"font-medium",children:a.item_name}),(0,b.jsx)(j.TableCell,{children:a.item_type}),(0,b.jsx)(j.TableCell,{children:a.class_code}),(0,b.jsx)(j.TableCell,{className:"text-center",children:(0,b.jsx)(m.Badge,{variant:"secondary",children:a.assigned_branches||0})}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)(m.Badge,{className:"active"===a.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:a.status})}),(0,b.jsxs)(j.TableCell,{className:"text-right space-x-1",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>{G(a),M({branchId:"",salePrice:""}),E(!0)},title:"Assign to Branch",children:(0,b.jsx)(s.Building2,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>{G(a),T({itemName:a.item_name,description:a.description||"",itemType:a.item_type,classCode:a.class_code,taxType:a.tax_type,origin:a.origin,batchNumber:"",purchasePrice:"",salePrice:"",sku:"",quantityUnit:a.quantity_unit,packageUnit:a.package_unit}),C(!0)},title:"Edit",children:(0,b.jsx)(q.Edit,{className:"h-4 w-4"})})]})]},a.id))})]})]})]}),(0,b.jsx)(l.Dialog,{open:B,onOpenChange:C,children:(0,b.jsxs)(l.DialogContent,{children:[(0,b.jsxs)(l.DialogHeader,{children:[(0,b.jsx)(l.DialogTitle,{children:"Edit Item"}),(0,b.jsx)(l.DialogDescription,{children:"Update item details. Item code and KRA settings cannot be changed after creation."})]}),(0,b.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:"Item Code"}),(0,b.jsx)(h.Input,{value:F?.item_code||"",disabled:!0,className:"bg-muted"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:"Item Name"}),(0,b.jsx)(h.Input,{value:S.itemName,onChange:a=>T({...S,itemName:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:"Description"}),(0,b.jsx)(h.Input,{value:S.description,onChange:a=>T({...S,description:a.target.value})})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:'Prices are managed at the branch level. Use "Assign to Branch" to set initial selling prices.'})]}),(0,b.jsxs)(l.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:Y,disabled:H,children:H?"Saving...":"Save Changes"})]})]})}),(0,b.jsx)(l.Dialog,{open:D,onOpenChange:E,children:(0,b.jsxs)(l.DialogContent,{children:[(0,b.jsxs)(l.DialogHeader,{children:[(0,b.jsx)(l.DialogTitle,{children:"Assign Item to Branch"}),(0,b.jsxs)(l.DialogDescription,{children:['Assign "',F?.item_name,'" to a branch with an initial selling price.']})]}),(0,b.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:"Item Code"}),(0,b.jsx)(h.Input,{value:F?.item_code||"",disabled:!0,className:"bg-muted font-mono"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:"Select Branch *"}),(0,b.jsx)(k.SearchableSelect,{value:L.branchId,onValueChange:a=>M({...L,branchId:a}),placeholder:"Select a branch",searchPlaceholder:"Search branches...",options:J.map(a=>({value:a.id,label:`${a.name} - ${a.location}`}))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:"Initial Selling Price *"}),(0,b.jsx)(h.Input,{type:"number",value:L.salePrice,onChange:a=>M({...L,salePrice:a.target.value}),placeholder:"0.00"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"This is the initial selling price. The branch can update it later from Inventory > Set Prices."})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Purchase prices are set during the Purchase Order process."})]}),(0,b.jsxs)(l.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:X,disabled:H,children:H?"Assigning...":"Assign to Branch"})]})]})})]})}var x=a.i(81560),y=a.i(73237);function z(){let[a,d]=(0,c.useState)([]),[e,l]=(0,c.useState)([]),[m,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,z]=(0,c.useState)(""),[A,B]=(0,c.useState)([{parent_item_id:"",percentage:0}]),[C,D]=(0,c.useState)("");(0,c.useEffect)(()=>{E(),F()},[]),(0,c.useEffect)(()=>{G()},[A,a]);let E=async()=>{try{let a=await fetch("/api/headquarters/items"),b=await a.json();if(!b.success)return void console.error("Error fetching items:",b.error);let c=(b.items||[]).filter(a=>"composite"!==a.item_type);d(c)}catch(a){console.error("Error fetching items:",a)}},F=async()=>{try{let a=await fetch("/api/headquarters/items"),b=await a.json();if(!b.success)return void console.error("Error fetching composite items:",b.error);let c=(b.items||[]).filter(a=>"composite"===a.item_type),d=await Promise.all(c.map(async a=>{let b=await fetch(`/api/item-compositions?composite_item_id=${a.id}`),c=await b.json(),d=c.success?c.data:[];return{...a,compositions:d.map(a=>({parent_item_id:a.parent_item_id,parent_item_name:a.parent_item_name||"",percentage:a.percentage}))}}));l(d)}catch(a){console.error("Error fetching composite items:",a)}},G=()=>{let b={};A.forEach(c=>{if(c.parent_item_id&&c.percentage>0){let d=a.find(a=>a.id===c.parent_item_id);d&&(b[d.tax_type]=(b[d.tax_type]||0)+c.percentage)}});let c="",d=0;Object.entries(b).forEach(([a,b])=>{b>d&&(d=b,c=a)}),D(c||"A")},H=(a,b,c)=>{let d=[...A];d[a]={...d[a],[b]:c},B(d)},I=async()=>{if(!r||!u)return void t.toast.error("Please fill in all required fields");if(100!==A.reduce((a,b)=>a+Number(b.percentage),0))return void t.toast.error("Total percentage must equal 100%");let a=A.filter(a=>a.parent_item_id&&a.percentage>0);if(0===a.length)return void t.toast.error("Please add at least one parent item");q(!0);try{let b=await fetch("/api/headquarters/items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemName:u,itemCode:r,description:w,itemType:"composite",taxType:C,origin:"1",classCode:"10101500",quantityUnit:"U",packageUnit:"NT"})}),c=await b.json();if(!c.success)throw Error(c.error);let d=c.item;for(let b of a)await fetch("/api/item-compositions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({composite_item_id:d.id,parent_item_id:b.parent_item_id,percentage:b.percentage})});t.toast.success("Composite item created successfully"),s(""),v(""),z(""),B([{parent_item_id:"",percentage:0}]),o(!1),E(),F()}catch(a){console.error("Error creating composite item:",a),t.toast.error(a.message||"Failed to create composite item")}finally{q(!1)}},J=async a=>{if(confirm("Are you sure you want to delete this composite item?"))try{let b=await fetch(`/api/headquarters/items?id=${a}`,{method:"DELETE"});if(!(await b.json()).success)return void t.toast.error("Failed to delete composite item");t.toast.success("Composite item deleted successfully"),F()}catch(a){console.error("Error deleting composite:",a),t.toast.error("Failed to delete composite item")}},K=A.reduce((a,b)=>a+Number(b.percentage||0),0),L=a.map(a=>({value:a.id,label:a.item_name}));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Create composite items from parent items with percentage-based pricing"})}),!m&&(0,b.jsxs)(f.Button,{onClick:()=>o(!0),className:"rounded-xl",children:[(0,b.jsx)(n.Plus,{className:"mr-2 h-4 w-4"}),"Create Composite Item"]})]}),m&&(0,b.jsxs)(g.Card,{className:"rounded-2xl shadow-lg border-2",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Create Composite Item"}),(0,b.jsx)(g.CardDescription,{children:"Define a new item composed of multiple parent items"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"item_code",children:["Item Code ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(h.Input,{id:"item_code",value:r,onChange:a=>s(a.target.value),placeholder:"Enter item code"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(i.Label,{htmlFor:"item_name",children:["Item Name ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(h.Input,{id:"item_name",value:u,onChange:a=>v(a.target.value),placeholder:"Enter item name"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(h.Input,{id:"description",value:w,onChange:a=>z(a.target.value),placeholder:"Enter description"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(i.Label,{children:"Parent Items Composition"}),(0,b.jsxs)(f.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{B([...A,{parent_item_id:"",percentage:0}])},children:[(0,b.jsx)(n.Plus,{className:"mr-2 h-4 w-4"}),"Add Item"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:A.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(k.SearchableSelect,{value:a.parent_item_id,onValueChange:a=>H(c,"parent_item_id",a),placeholder:"Select parent item",searchPlaceholder:"Search items...",options:L})}),(0,b.jsx)("div",{className:"w-32",children:(0,b.jsx)(h.Input,{type:"number",min:"0",max:"100",step:"0.01",value:a.percentage,onChange:a=>H(c,"percentage",Number.parseFloat(a.target.value)||0),placeholder:"%"})}),(0,b.jsx)(f.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{B(A.filter((a,b)=>b!==c))},disabled:1===A.length,children:(0,b.jsx)(x.Trash2,{className:"h-4 w-4"})})]},c))}),(0,b.jsx)("div",{className:"rounded-lg border bg-muted/50 p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"font-medium",children:"Total Percentage:"}),(0,b.jsxs)("span",{className:100===K?"text-green-600":"text-destructive",children:[K.toFixed(2),"%"]})]})})]}),(0,b.jsxs)(g.Card,{className:"bg-blue-50 dark:bg-blue-950",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center text-lg",children:[(0,b.jsx)(y.Calculator,{className:"mr-2 h-5 w-5"}),"Calculated Tax Type"]})}),(0,b.jsxs)(g.CardContent,{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Tax Type (based on composition):"}),(0,b.jsx)("span",{className:"font-semibold",children:C||"N/A"})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Note: Set pricing for composite items per branch in Inventory Management."})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(f.Button,{onClick:I,disabled:p||100!==K,children:p?"Creating...":"Create Composite Item"}),(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>{o(!1),s(""),v(""),z(""),B([{parent_item_id:"",percentage:0}])},children:"Cancel"})]})]})]}),(0,b.jsxs)(g.Card,{className:"rounded-2xl shadow-lg border-2",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Composite Items"}),(0,b.jsx)(g.CardDescription,{children:"View and manage existing composite items"})]}),(0,b.jsx)(g.CardContent,{children:0===e.length?(0,b.jsx)("div",{className:"py-12 text-center text-muted-foreground",children:"No composite items found. Create one to get started."}):(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableHead,{children:"Item Code"}),(0,b.jsx)(j.TableHead,{children:"Item Name"}),(0,b.jsx)(j.TableHead,{children:"Composition"}),(0,b.jsx)(j.TableHead,{children:"Tax Type"}),(0,b.jsx)(j.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(j.TableBody,{children:e.map(a=>(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableCell,{className:"font-medium",children:a.item_code}),(0,b.jsx)(j.TableCell,{children:a.item_name}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)("div",{className:"space-y-1",children:a.compositions.map((a,c)=>(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.parent_item_name," (",a.percentage,"%)"]},c))})}),(0,b.jsx)(j.TableCell,{children:a.tax_type}),(0,b.jsx)(j.TableCell,{className:"text-right",children:(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>J(a.id),children:(0,b.jsx)(x.Trash2,{className:"h-4 w-4"})})})]},a.id))})]})})]})]})}var A=a.i(21958),B=a.i(210);let C=(0,a.i(70106).default)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var D=a.i(96221),E=a.i(41792);function F(){let{isChecking:a,hasAccess:g}=(0,E.useHQAccess)(),h=(0,e.useRouter)(),[i,j]=(0,c.useState)("catalog");return a?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,b.jsx)(D.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):g?(0,b.jsxs)("div",{className:"flex h-screen flex-col overflow-hidden bg-gradient-to-b from-slate-50 to-white",children:[(0,b.jsx)(d.DashboardHeader,{currentBranch:"hq"}),(0,b.jsxs)("main",{className:"flex-1 overflow-y-auto p-8",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)(f.Button,{variant:"outline",onClick:()=>h.push("/headquarters"),className:"rounded-xl mb-4",children:[(0,b.jsx)(B.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back to Headquarters"]}),(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Item Management"}),(0,b.jsx)("p",{className:"mt-1 text-muted-foreground",children:"Create and manage items centrally. Items created here will be available for all branches to use with their own pricing."})]}),(0,b.jsxs)(A.Tabs,{value:i,onValueChange:j,className:"space-y-6",children:[(0,b.jsxs)(A.TabsList,{className:"grid w-full max-w-md grid-cols-2",children:[(0,b.jsxs)(A.TabsTrigger,{value:"catalog",className:"flex items-center gap-2",children:[(0,b.jsx)(p.Package,{className:"h-4 w-4"}),"Item Catalog"]}),(0,b.jsxs)(A.TabsTrigger,{value:"composition",className:"flex items-center gap-2",children:[(0,b.jsx)(C,{className:"h-4 w-4"}),"Item Composition"]})]}),(0,b.jsx)(A.TabsContent,{value:"catalog",children:(0,b.jsx)(w,{})}),(0,b.jsx)(A.TabsContent,{value:"composition",children:(0,b.jsx)(z,{})})]})]})]}):null}a.s(["default",()=>F],72807)}];

//# sourceMappingURL=app_headquarters_items_page_tsx_12962e69._.js.map