{"version":3,"sources":["../../../../app/headquarters/staff-management/page.tsx","../../../../node_modules/lucide-react/src/icons/user-x.ts","../../../../node_modules/lucide-react/src/icons/rotate-ccw.ts","../../../../lib/auth/rbac.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { DashboardHeader } from \"@/components/dashboard-header\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Search, MoreVertical, Edit, RotateCcw, UserX, Plus, Key, Copy, Check, Loader2 } from \"lucide-react\"\nimport { roleDescriptions } from \"@/lib/auth/rbac\"\nimport { getCurrentUser } from \"@/lib/auth/client\"\nimport { useHQAccess } from \"@/lib/hooks/use-hq-access\"\n\ninterface StaffMember {\n  id: string | number\n  staffId: string\n  name: string\n  username: string\n  email: string\n  phone: string\n  role: string\n  status: string\n  branchId?: string\n  branchName?: string\n  attendantCode?: string\n}\n\nexport default function StaffManagementPage() {\n  const { isChecking, hasAccess } = useHQAccess()\n  const [staff, setStaff] = useState<StaffMember[]>([])\n  const [editDialogOpen, setEditDialogOpen] = useState(false)\n  const [resetDialogOpen, setResetDialogOpen] = useState(false)\n  const [changePasswordDialogOpen, setChangePasswordDialogOpen] = useState(false)\n  const [selectedStaff, setSelectedStaff] = useState<any>(null)\n  const [branches, setBranches] = useState<any[]>([])\n  const [formData, setFormData] = useState({\n    name: \"\",\n    username: \"\",\n    email: \"\",\n    phone: \"\",\n    role: \"Cashier\",\n    password: \"\",\n    branchId: \"\",\n  })\n  const [newPassword, setNewPassword] = useState(\"\")\n  const [confirmPassword, setConfirmPassword] = useState(\"\")\n  const [isLoading, setIsLoading] = useState(false)\n  const [copiedCode, setCopiedCode] = useState<string | null>(null)\n\n  const [isLoadingStaff, setIsLoadingStaff] = useState(true)\n\n  useEffect(() => {\n    if (hasAccess) {\n      fetchBranches()\n      fetchStaff()\n    }\n  }, [hasAccess])\n\n  if (isChecking) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    )\n  }\n\n  if (!hasAccess) {\n    return null\n  }\n\n  const fetchBranches = async () => {\n    try {\n      const currentUser = getCurrentUser()\n      const userId = currentUser?.id\n      const url = userId ? `/api/branches/list?user_id=${userId}` : \"/api/branches/list\"\n      const response = await fetch(url)\n      if (response.ok) {\n        const data = await response.json()\n        setBranches(data.branches || data || [])\n      }\n    } catch (error) {\n      console.error(\"Error fetching branches:\", error)\n    }\n  }\n\n  const fetchStaff = async () => {\n    setIsLoadingStaff(true)\n    try {\n      const currentUser = getCurrentUser()\n      const userId = currentUser?.id\n      const url = userId ? `/api/staff/list?user_id=${userId}` : \"/api/staff/list\"\n      const response = await fetch(url)\n      if (response.ok) {\n        const data = await response.json()\n        const staffList = (data.staff || data || []).map((s: any, index: number) => ({\n          id: s.id,\n          staffId: s.staff_id || `STF-${String(index + 1).padStart(3, \"0\")}`,\n          name: s.full_name || s.name || \"\",\n          username: s.username || s.email?.split(\"@\")[0] || \"\",\n          email: s.email || \"\",\n          phone: s.phone_number || s.phone || \"\",\n          role: s.role || \"Cashier\",\n          status: s.status || \"active\",\n          branchId: s.branch_id || \"\",\n          branchName: s.branch_name || \"All Branches\",\n          attendantCode: s.attendant_code || \"\",\n        }))\n        setStaff(staffList)\n      }\n    } catch (error) {\n      console.error(\"Error fetching staff:\", error)\n    } finally {\n      setIsLoadingStaff(false)\n    }\n  }\n\n  const handleEdit = (member: any) => {\n    setSelectedStaff(member)\n    setFormData({\n      name: member.name,\n      username: member.username,\n      email: member.email,\n      phone: member.phone,\n      role: member.role,\n      password: \"\",\n      branchId: member.branchId || \"\",\n    })\n    setEditDialogOpen(true)\n  }\n\n  const handleSave = async () => {\n    if (!selectedStaff) {\n      if (!formData.password) {\n        alert(\"Password is required for new staff members\")\n        return\n      }\n\n      if (formData.role !== \"Director\" && !formData.branchId) {\n        alert(\"Please select a branch for this staff member\")\n        return\n      }\n\n      setIsLoading(true)\n      try {\n        const response = await fetch(\"/api/staff/create\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            email: formData.email,\n            username: formData.username,\n            password: formData.password,\n            fullName: formData.name,\n            phoneNumber: formData.phone,\n            role: formData.role,\n            branchId: formData.role === \"Director\" ? null : formData.branchId,\n          }),\n        })\n\n        const result = await response.json()\n        setIsLoading(false)\n\n        if (response.ok && result.success) {\n          await fetchStaff()\n          alert(\"Staff account created successfully! They can now log in with their credentials.\")\n          setEditDialogOpen(false)\n          setSelectedStaff(null)\n        } else {\n          alert(`Error creating staff: ${result.error}`)\n        }\n      } catch (error) {\n        setIsLoading(false)\n        alert(\"Failed to create staff member. Please try again.\")\n      }\n    } else {\n      setStaff(staff.map((s) => (s.id === selectedStaff.id ? { ...s, ...formData } : s)))\n      setEditDialogOpen(false)\n      setSelectedStaff(null)\n    }\n  }\n\n  const handleResetAccount = (member: any) => {\n    setSelectedStaff(member)\n    setResetDialogOpen(true)\n  }\n\n  const confirmReset = async () => {\n    setIsLoading(true)\n    try {\n      const response = await fetch(\"/api/staff/reset-password\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ \n          staffId: selectedStaff.id,\n          email: selectedStaff.email \n        }),\n      })\n\n      setIsLoading(false)\n      if (response.ok) {\n        alert(\"Password has been reset to 'flow360'. User should change it on next login.\")\n        setResetDialogOpen(false)\n      } else {\n        const result = await response.json()\n        alert(`Error resetting password: ${result.error || \"Please try again.\"}`)\n      }\n    } catch (error) {\n      setIsLoading(false)\n      alert(\"Failed to reset password. Please try again.\")\n    }\n  }\n\n  const handlePasswordChange = async () => {\n    if (newPassword !== confirmPassword) {\n      alert(\"Passwords do not match!\")\n      return\n    }\n    setIsLoading(true)\n    setIsLoading(false)\n    alert(\"Password changed successfully!\")\n    setChangePasswordDialogOpen(false)\n    setNewPassword(\"\")\n    setConfirmPassword(\"\")\n    setSelectedStaff(null)\n  }\n\n  const handleDeactivate = async (member: any) => {\n    const newStatus = member.status === \"active\" ? \"inactive\" : \"active\"\n    try {\n      const response = await fetch(\"/api/staff/update-status\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ staffId: member.id, status: newStatus }),\n      })\n      if (response.ok) {\n        setStaff(\n          staff.map((s) => (s.id === member.id ? { ...s, status: newStatus } : s)),\n        )\n      } else {\n        alert(\"Failed to update staff status. Please try again.\")\n      }\n    } catch (error) {\n      console.error(\"Error updating staff status:\", error)\n      alert(\"Failed to update staff status. Please try again.\")\n    }\n  }\n\n  const handleGenerateCode = async (member: any) => {\n    try {\n      const response = await fetch(\"/api/staff/generate-code\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ staff_id: member.id }),\n      })\n      \n      const result = await response.json()\n      \n      if (response.ok && result.success) {\n        setStaff(\n          staff.map((s) => (s.id === member.id ? { ...s, attendantCode: result.attendant_code } : s))\n        )\n        alert(`Attendant code generated: ${result.attendant_code}\\n\\nThis is the 4-digit code ${member.name} will use to log in to the mobile app.`)\n      } else {\n        alert(`Error generating code: ${result.error || \"Please try again.\"}`)\n      }\n    } catch (error) {\n      console.error(\"Error generating attendant code:\", error)\n      alert(\"Failed to generate attendant code. Please try again.\")\n    }\n  }\n\n  const handleAddNew = () => {\n    setSelectedStaff(null)\n    setFormData({\n      name: \"\",\n      username: \"\",\n      email: \"\",\n      phone: \"\",\n      role: \"Cashier\",\n      password: \"\",\n      branchId: \"\",\n    })\n    setEditDialogOpen(true)\n  }\n\n  return (\n    <div className=\"flex h-screen flex-col overflow-hidden bg-gradient-to-b from-slate-900 via-blue-900 to-white\">\n      <DashboardHeader currentBranch=\"hq\" />\n\n      <main className=\"flex-1 overflow-y-auto p-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h1 className=\"text-3xl font-bold tracking-tight text-balance text-white\">Staff List</h1>\n            <p className=\"mt-1 text-white/80 text-pretty\">Manage your staff members</p>\n          </div>\n          <div className=\"flex gap-4 items-center\">\n            <div className=\"relative w-96\">\n              <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n              <Input placeholder=\"Search staff...\" className=\"pl-10 rounded-xl\" />\n            </div>\n            <Button onClick={handleAddNew} className=\"rounded-xl gap-2\">\n              <Plus className=\"h-4 w-4\" />\n              Add Staff\n            </Button>\n          </div>\n        </div>\n\n        <Card className=\"rounded-2xl\">\n          <CardContent className=\"p-6\">\n            <div className=\"rounded-xl border overflow-hidden\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Staff ID</TableHead>\n                    <TableHead>Name</TableHead>\n                    <TableHead>Username</TableHead>\n                    <TableHead>Phone</TableHead>\n                    <TableHead>Role</TableHead>\n                    <TableHead>Branch</TableHead>\n                    <TableHead>APK Code</TableHead>\n                    <TableHead>Status</TableHead>\n                    <TableHead className=\"w-12\"></TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {isLoadingStaff ? (\n                    <TableRow>\n                      <TableCell colSpan={9} className=\"text-center py-8 text-muted-foreground\">\n                        Loading staff members...\n                      </TableCell>\n                    </TableRow>\n                  ) : staff.length === 0 ? (\n                    <TableRow>\n                      <TableCell colSpan={9} className=\"text-center py-8 text-muted-foreground\">\n                        No staff members found. Click \"Add Staff\" to create one.\n                      </TableCell>\n                    </TableRow>\n                  ) : (\n                    staff.map((member) => (\n                      <TableRow key={member.id}>\n                        <TableCell className=\"font-medium\">{member.staffId}</TableCell>\n                        <TableCell>{member.name}</TableCell>\n                        <TableCell>{member.username}</TableCell>\n                        <TableCell>{member.phone}</TableCell>\n                        <TableCell>{member.role}</TableCell>\n                        <TableCell>{member.branchName || \"All Branches\"}</TableCell>\n                        <TableCell>\n                          {['Cashier', 'Supervisor', 'Manager', 'cashier', 'supervisor', 'manager'].includes(member.role) ? (\n                            member.attendantCode ? (\n                              <div className=\"flex items-center gap-2\">\n                                <code className=\"bg-slate-100 px-2 py-1 rounded font-mono text-sm font-bold\">\n                                  {member.attendantCode}\n                                </code>\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"icon\"\n                                  className=\"h-6 w-6\"\n                                  onClick={() => {\n                                    navigator.clipboard.writeText(member.attendantCode || \"\")\n                                    setCopiedCode(member.id as string)\n                                    setTimeout(() => setCopiedCode(null), 2000)\n                                  }}\n                                >\n                                  {copiedCode === member.id ? (\n                                    <Check className=\"h-3 w-3 text-green-600\" />\n                                  ) : (\n                                    <Copy className=\"h-3 w-3\" />\n                                  )}\n                                </Button>\n                              </div>\n                            ) : (\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                className=\"text-xs h-7\"\n                                onClick={() => handleGenerateCode(member)}\n                              >\n                                <Key className=\"h-3 w-3 mr-1\" />\n                                Generate\n                              </Button>\n                            )\n                          ) : (\n                            <span className=\"text-muted-foreground text-xs\">N/A</span>\n                          )}\n                        </TableCell>\n                        <TableCell>\n                          <Badge variant={member.status === \"active\" ? \"default\" : \"secondary\"} className=\"rounded-lg\">\n                            {member.status}\n                          </Badge>\n                        </TableCell>\n                        <TableCell>\n                          <DropdownMenu>\n                            <DropdownMenuTrigger asChild>\n                              <Button variant=\"ghost\" size=\"icon\" className=\"rounded-lg\">\n                                <MoreVertical className=\"h-4 w-4\" />\n                              </Button>\n                            </DropdownMenuTrigger>\n                            <DropdownMenuContent align=\"end\" className=\"rounded-xl\">\n                              <DropdownMenuItem\n                                onClick={() => handleEdit(member)}\n                                className=\"gap-2 cursor-pointer rounded-lg\"\n                              >\n                                <Edit className=\"h-4 w-4\" />\n                                Edit\n                              </DropdownMenuItem>\n                              {['Cashier', 'Supervisor', 'Manager', 'cashier', 'supervisor', 'manager'].includes(member.role) && (\n                                <DropdownMenuItem\n                                  onClick={() => handleGenerateCode(member)}\n                                  className=\"gap-2 cursor-pointer rounded-lg\"\n                                >\n                                  <Key className=\"h-4 w-4\" />\n                                  {member.attendantCode ? \"Regenerate Code\" : \"Generate Code\"}\n                                </DropdownMenuItem>\n                              )}\n                              <DropdownMenuItem\n                                onClick={() => handleResetAccount(member)}\n                                className=\"gap-2 cursor-pointer rounded-lg\"\n                              >\n                                <RotateCcw className=\"h-4 w-4\" />\n                                Reset Account\n                              </DropdownMenuItem>\n                              <DropdownMenuItem\n                                onClick={() => handleDeactivate(member)}\n                                className=\"gap-2 cursor-pointer rounded-lg text-red-600\"\n                              >\n                                <UserX className=\"h-4 w-4\" />\n                                {member.status === \"active\" ? \"Deactivate\" : \"Activate\"}\n                              </DropdownMenuItem>\n                            </DropdownMenuContent>\n                          </DropdownMenu>\n                        </TableCell>\n                      </TableRow>\n                    ))\n                  )}\n                </TableBody>\n              </Table>\n            </div>\n          </CardContent>\n        </Card>\n      </main>\n\n      <footer className=\"border-t px-8 py-4 text-center text-sm text-navy-900\">\n        Powered by Sensile Technologies East Africa Ltd\n      </footer>\n\n      <Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>\n        <DialogContent className=\"max-w-2xl rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle>{selectedStaff ? \"Edit Staff Member\" : \"Add New Staff Member\"}</DialogTitle>\n            <DialogDescription>\n              {selectedStaff\n                ? \"Update staff information and role assignment\"\n                : \"Create a new staff account with authentication credentials and role permissions\"}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"grid gap-6 py-4\">\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"name\">Full Name</Label>\n              <Input\n                id=\"name\"\n                value={formData.name}\n                onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                className=\"rounded-xl\"\n                placeholder=\"Enter full name\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"username\">Username</Label>\n                <Input\n                  id=\"username\"\n                  value={formData.username}\n                  onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n                  className=\"rounded-xl\"\n                  placeholder=\"Enter username\"\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"phone\">Phone Number</Label>\n                <Input\n                  id=\"phone\"\n                  value={formData.phone}\n                  onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                  className=\"rounded-xl\"\n                  placeholder=\"+254 7XX XXXXXX\"\n                />\n              </div>\n            </div>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                value={formData.email}\n                onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                className=\"rounded-xl\"\n                placeholder=\"email@flow360.co.ke\"\n              />\n            </div>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"role\">Role & Permissions</Label>\n              <Select value={formData.role} onValueChange={(value) => setFormData({ ...formData, role: value })}>\n                <SelectTrigger className=\"rounded-xl\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent className=\"rounded-xl\">\n                  <SelectItem value=\"Director\" className=\"rounded-lg\">\n                    Director\n                  </SelectItem>\n                  <SelectItem value=\"Manager\" className=\"rounded-lg\">\n                    Manager\n                  </SelectItem>\n                  <SelectItem value=\"Supervisor\" className=\"rounded-lg\">\n                    Supervisor\n                  </SelectItem>\n                  <SelectItem value=\"Cashier\" className=\"rounded-lg\">\n                    Cashier\n                  </SelectItem>\n                </SelectContent>\n              </Select>\n              <p className=\"text-sm text-muted-foreground mt-1\">\n                {roleDescriptions[formData.role as keyof typeof roleDescriptions]}\n              </p>\n            </div>\n            {formData.role !== \"Director\" && (\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"branch\">Assigned Branch *</Label>\n                <Select\n                  value={formData.branchId}\n                  onValueChange={(value) => setFormData({ ...formData, branchId: value })}\n                >\n                  <SelectTrigger className=\"rounded-xl\">\n                    <SelectValue placeholder=\"Select branch\" />\n                  </SelectTrigger>\n                  <SelectContent className=\"rounded-xl\">\n                    {branches.map((branch) => (\n                      <SelectItem key={branch.id} value={branch.id} className=\"rounded-lg\">\n                        {branch.name}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n                <p className=\"text-xs text-muted-foreground\">\n                  This user will only be able to access and manage this specific branch.\n                </p>\n              </div>\n            )}\n            {!selectedStaff && (\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"password\">Initial Password</Label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                  className=\"rounded-xl\"\n                  placeholder=\"Enter initial password\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  This password will be used to create their login account. They can change it later.\n                </p>\n              </div>\n            )}\n          </div>\n          <div className=\"flex justify-end gap-3\">\n            <Button variant=\"outline\" onClick={() => setEditDialogOpen(false)} className=\"rounded-xl\">\n              Cancel\n            </Button>\n            <Button onClick={handleSave} disabled={isLoading} className=\"rounded-xl\">\n              {isLoading ? \"Creating...\" : selectedStaff ? \"Save Changes\" : \"Create Account\"}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={resetDialogOpen} onOpenChange={setResetDialogOpen}>\n        <DialogContent className=\"rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle>Reset Account Password</DialogTitle>\n            <DialogDescription>\n              This will reset {selectedStaff?.name}'s password to the default password \"flow360\". They will be prompted\n              to change it immediately.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"flex justify-end gap-3 mt-4\">\n            <Button variant=\"outline\" onClick={() => setResetDialogOpen(false)} className=\"rounded-xl\">\n              Cancel\n            </Button>\n            <Button onClick={confirmReset} disabled={isLoading} className=\"rounded-xl\">\n              {isLoading ? \"Resetting...\" : \"Confirm Reset\"}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={changePasswordDialogOpen} onOpenChange={setChangePasswordDialogOpen}>\n        <DialogContent className=\"rounded-2xl\">\n          <DialogHeader>\n            <DialogTitle>Change Password</DialogTitle>\n            <DialogDescription>Your password has been reset. Please create a new secure password.</DialogDescription>\n          </DialogHeader>\n          <div className=\"grid gap-4 py-4\">\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"new-password\">New Password</Label>\n              <Input\n                id=\"new-password\"\n                type=\"password\"\n                value={newPassword}\n                onChange={(e) => setNewPassword(e.target.value)}\n                className=\"rounded-xl\"\n                placeholder=\"Enter new password\"\n              />\n            </div>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"confirm-password\">Confirm Password</Label>\n              <Input\n                id=\"confirm-password\"\n                type=\"password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                className=\"rounded-xl\"\n                placeholder=\"Confirm new password\"\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end gap-3\">\n            <Button variant=\"outline\" onClick={() => setChangePasswordDialogOpen(false)} className=\"rounded-xl\">\n              Cancel\n            </Button>\n            <Button onClick={handlePasswordChange} className=\"rounded-xl\">\n              Change Password\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTciIHgyPSIyMiIgeTE9IjgiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNyIgeTE9IjgiIHkyPSIxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserX = createLucideIcon('UserX', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '17', x2: '22', y1: '8', y2: '13', key: '3nzzx3' }],\n  ['line', { x1: '22', x2: '17', y1: '8', y2: '13', key: '1swrse' }],\n]);\n\nexport default UserX;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name RotateCcw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAxIDAgOS05IDkuNzUgOS43NSAwIDAgMC02Ljc0IDIuNzRMMyA4IiAvPgogIDxwYXRoIGQ9Ik0zIDN2NWg1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/rotate-ccw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RotateCcw = createLucideIcon('RotateCcw', [\n  ['path', { d: 'M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '1357e3' }],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n]);\n\nexport default RotateCcw;\n","// Role-Based Access Control utilities\n\nexport type Role = \"Director\" | \"Manager\" | \"Supervisor\" | \"Cashier\"\n\nexport interface Permission {\n  resource: string\n  actions: (\"create\" | \"read\" | \"update\" | \"delete\")[]\n}\n\n// Define permissions for each role\nexport const rolePermissions: Record<Role, Permission[]> = {\n  Director: [\n    { resource: \"sales\", actions: [\"create\", \"read\", \"update\", \"delete\"] },\n    { resource: \"purchases\", actions: [\"create\", \"read\", \"update\", \"delete\"] },\n    { resource: \"inventory\", actions: [\"create\", \"read\", \"update\", \"delete\"] },\n    { resource: \"payments\", actions: [\"create\", \"read\", \"update\", \"delete\"] },\n    { resource: \"customers\", actions: [\"create\", \"read\", \"update\", \"delete\"] },\n    { resource: \"items\", actions: [\"create\", \"read\", \"update\", \"delete\"] },\n    { resource: \"imports\", actions: [\"create\", \"read\", \"update\", \"delete\"] },\n    { resource: \"users\", actions: [\"create\", \"read\", \"update\", \"delete\"] },\n    { resource: \"reports\", actions: [\"read\"] },\n    { resource: \"branches\", actions: [\"create\", \"read\", \"update\", \"delete\"] },\n    { resource: \"devices\", actions: [\"create\", \"read\", \"update\", \"delete\"] },\n  ],\n  Manager: [\n    { resource: \"sales\", actions: [\"create\", \"read\", \"update\"] },\n    { resource: \"purchases\", actions: [\"create\", \"read\", \"update\"] },\n    { resource: \"inventory\", actions: [\"create\", \"read\", \"update\"] },\n    { resource: \"payments\", actions: [\"create\", \"read\"] },\n    { resource: \"customers\", actions: [\"create\", \"read\", \"update\"] },\n    { resource: \"items\", actions: [\"create\", \"read\", \"update\"] },\n    { resource: \"reports\", actions: [\"read\"] },\n  ],\n  Supervisor: [\n    { resource: \"sales\", actions: [\"create\", \"read\"] },\n    { resource: \"inventory\", actions: [\"read\", \"update\"] },\n    { resource: \"customers\", actions: [\"create\", \"read\", \"update\"] },\n    { resource: \"items\", actions: [\"read\"] },\n    { resource: \"reports\", actions: [\"read\"] },\n  ],\n  Cashier: [\n    { resource: \"sales\", actions: [\"create\", \"read\"] },\n    { resource: \"customers\", actions: [\"read\"] },\n    { resource: \"items\", actions: [\"read\"] },\n  ],\n}\n\nexport function hasPermission(role: Role, resource: string, action: \"create\" | \"read\" | \"update\" | \"delete\"): boolean {\n  const permissions = rolePermissions[role]\n  const resourcePermission = permissions.find((p) => p.resource === resource)\n  return resourcePermission ? resourcePermission.actions.includes(action) : false\n}\n\nexport function canAccessResource(role: Role, resource: string): boolean {\n  return rolePermissions[role].some((p) => p.resource === resource)\n}\n\n// Get role description\nexport const roleDescriptions: Record<Role, string> = {\n  Director: \"Full system access, financial approvals, user management, strategic reporting\",\n  Manager: \"Branch operations, staff supervision, inventory management, sales reporting\",\n  Supervisor: \"Daily operations, stock monitoring, customer management, basic reporting\",\n  Cashier: \"Sales transactions, customer invoicing, basic inventory view, receipt generation\",\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2]}