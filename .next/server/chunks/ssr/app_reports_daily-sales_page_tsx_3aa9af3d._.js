module.exports=[48083,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(344),e=a.i(69265),f=a.i(3130),g=a.i(40695),h=a.i(5522),i=a.i(84505),j=a.i(71931),k=a.i(96221),l=a.i(39761),m=a.i(13655),n=a.i(92e3),o=a.i(99385),p=a.i(46842),q=a.i(41675),r=a.i(13749),s=a.i(50522),t=a.i(54161),u=a.i(74575),v=a.i(17171);function w(){let[a,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),z=new Date().toISOString().split("T")[0],[A,B]=(0,c.useState)(z),[C,D]=(0,c.useState)(z),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)([]),[I,J]=(0,c.useState)([]),[K,L]=(0,c.useState)({claimed_quantity:0,claimed_amount:0,unclaimed_quantity:0,unclaimed_amount:0}),{formatCurrency:M}=(0,u.useCurrency)(),[N,O]=(0,c.useState)(1),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)(!1),V=(0,c.useCallback)(async()=>{try{F(!0);let a=localStorage.getItem("selectedBranch"),b="";if(a&&(b=JSON.parse(a).id),!b){H([]),J([]),L({claimed_quantity:0,claimed_amount:0,unclaimed_quantity:0,unclaimed_amount:0});return}let c=new URLSearchParams;c.append("branch_id",b),c.append("start_date",A),c.append("end_date",C);let d=await fetch(`/api/shifts/daily-summary?${c.toString()}`),e=await d.json();e.success&&e.data?(H(e.data.shifts||[]),J(e.data.productTotals||[]),L(e.data.grandTotals||{claimed_quantity:0,claimed_amount:0,unclaimed_quantity:0,unclaimed_amount:0})):(H([]),J([]),L({claimed_quantity:0,claimed_amount:0,unclaimed_quantity:0,unclaimed_amount:0}))}catch(a){console.error("Error fetching daily sales:",a),H([]),J([]),L({claimed_quantity:0,claimed_amount:0,unclaimed_quantity:0,unclaimed_amount:0})}finally{F(!1)}},[A,C]);(0,c.useEffect)(()=>{O(1),V()},[V]);let W=(0,c.useCallback)(async()=>{try{U(!0);let a=localStorage.getItem("selectedBranch"),b=localStorage.getItem("user"),c="",d="";if(a&&(c=JSON.parse(a).id),b&&(d=JSON.parse(b).id),!c){Q([]),S(null);return}let e=new URLSearchParams;e.append("branch_id",c),e.append("date",A),d&&e.append("user_id",d);let f=await fetch(`/api/shifts/nozzle-report?${e.toString()}`),g=await f.json();g.success&&g.data?(Q(g.data.nozzles||[]),S(g.data.totals||null)):(Q([]),S(null))}catch(a){console.error("Error fetching nozzle report:",a),Q([]),S(null)}finally{U(!1)}},[A]);(0,c.useEffect)(()=>{W()},[W]);let X=a=>new Date(a).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),Y=K.claimed_amount+K.unclaimed_amount,Z=K.claimed_quantity+K.unclaimed_quantity;return(0,b.jsxs)("div",{className:"flex min-h-screen w-full overflow-x-hidden bg-gradient-to-b from-slate-900 via-blue-900 to-white",children:[(0,b.jsx)(d.default,{collapsed:a,onToggle:()=>w(!a),mobileOpen:x,onMobileClose:()=>y(!1)}),(0,b.jsx)("div",{className:"flex-1 flex flex-col min-w-0 lg:ml-8 my-2 lg:my-6 mx-2 lg:mr-6",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl lg:rounded-tl-3xl shadow-2xl flex-1 flex flex-col overflow-hidden",children:[(0,b.jsx)(e.default,{onMobileMenuToggle:()=>y(!x)}),(0,b.jsx)("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-slate-50 p-3 md:p-6",children:(0,b.jsxs)("div",{className:"w-full max-w-7xl mx-auto space-y-4 md:space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 md:mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Daily Sales Report"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Comprehensive daily sales breakdown by shift"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{window.print()},children:[(0,b.jsx)(j.Printer,{className:"h-4 w-4 mr-1 sm:mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Print"})]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{let a=[["Shift","Cashier","Fuel Type","Claimed (L)","Claimed Amount","Unclaimed (L)","Unclaimed Amount"]];G.forEach(b=>{let c=new Date(b.start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});b.items.forEach(d=>{a.push([c,b.cashier_name,d.fuel_type,d.claimed_quantity.toFixed(2),d.claimed_amount.toFixed(2),d.unclaimed_quantity.toFixed(2),d.unclaimed_amount.toFixed(2)])})}),a.push(["TOTAL","","",K.claimed_quantity.toFixed(2),K.claimed_amount.toFixed(2),K.unclaimed_quantity.toFixed(2),K.unclaimed_amount.toFixed(2)]);let b=new Blob([a.map(a=>a.join(",")).join("\n")],{type:"text/csv"}),c=window.URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`sales-report-${A}-to-${C}.csv`,d.click(),window.URL.revokeObjectURL(c)},children:[(0,b.jsx)(i.Download,{className:"h-4 w-4 mr-1 sm:mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-4 md:mb-6",children:[(0,b.jsx)(f.Card,{className:"rounded-2xl",children:(0,b.jsxs)(f.CardContent,{className:"pt-4 md:pt-6",children:[(0,b.jsx)("p",{className:"text-xs md:text-sm text-slate-600",children:"Total Sales"}),(0,b.jsx)("p",{className:"text-lg md:text-2xl font-bold mt-1 md:mt-2",children:E?(0,b.jsx)(k.Loader2,{className:"h-5 w-5 animate-spin"}):M(Y)})]})}),(0,b.jsx)(f.Card,{className:"rounded-2xl",children:(0,b.jsxs)(f.CardContent,{className:"pt-4 md:pt-6",children:[(0,b.jsx)("p",{className:"text-xs md:text-sm text-slate-600",children:"Claimed Sales"}),(0,b.jsx)("p",{className:"text-lg md:text-2xl font-bold mt-1 md:mt-2 text-green-600",children:E?(0,b.jsx)(k.Loader2,{className:"h-5 w-5 animate-spin"}):M(K.claimed_amount)})]})}),(0,b.jsx)(f.Card,{className:"rounded-2xl",children:(0,b.jsxs)(f.CardContent,{className:"pt-4 md:pt-6",children:[(0,b.jsx)("p",{className:"text-xs md:text-sm text-slate-600",children:"Unclaimed Sales"}),(0,b.jsx)("p",{className:"text-lg md:text-2xl font-bold mt-1 md:mt-2 text-amber-600",children:E?(0,b.jsx)(k.Loader2,{className:"h-5 w-5 animate-spin"}):M(K.unclaimed_amount)})]})}),(0,b.jsx)(f.Card,{className:"rounded-2xl",children:(0,b.jsxs)(f.CardContent,{className:"pt-4 md:pt-6",children:[(0,b.jsx)("p",{className:"text-xs md:text-sm text-slate-600",children:"Total Volume (L)"}),(0,b.jsx)("p",{className:"text-lg md:text-2xl font-bold mt-1 md:mt-2",children:E?(0,b.jsx)(k.Loader2,{className:"h-5 w-5 animate-spin"}):Z.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]})})]}),(0,b.jsx)(f.Card,{className:"rounded-2xl",children:(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:(0,b.jsxs)(f.CardTitle,{className:"text-lg md:text-xl flex items-center gap-2",children:[(0,b.jsx)(q.Calendar,{className:"h-5 w-5 text-blue-500"}),"Date Range Filter"]})}),(0,b.jsxs)("div",{className:"flex flex-wrap items-end gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(v.Label,{className:"text-xs text-slate-600",children:"From"}),(0,b.jsx)(h.Input,{type:"date",value:A,onChange:a=>B(a.target.value),className:"w-36 rounded-xl"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(v.Label,{className:"text-xs text-slate-600",children:"To"}),(0,b.jsx)(h.Input,{type:"date",value:C,onChange:a=>D(a.target.value),className:"w-36 rounded-xl"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>{B(z),D(z)},children:"Today"}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>{let a=new Date;a.setDate(a.getDate()-7),B(a.toISOString().split("T")[0]),D(z)},children:"Last 7 Days"}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>{let a=new Date;a.setDate(a.getDate()-30),B(a.toISOString().split("T")[0]),D(z)},children:"Last 30 Days"})]})]})]})})}),I.length>0&&(0,b.jsxs)(f.Card,{className:"rounded-2xl",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"text-lg md:text-xl flex items-center gap-2",children:[(0,b.jsx)(m.Fuel,{className:"h-5 w-5 text-blue-500"}),"Product Summary"]}),(0,b.jsxs)("p",{className:"text-sm text-slate-600",children:["Cumulative sales by product for the selected period",A!==C&&` (${A} to ${C})`]})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b text-xs md:text-sm bg-slate-50",children:[(0,b.jsx)("th",{className:"text-left py-2 px-4 font-semibold text-slate-700",children:"Product"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-green-700",children:"Claimed (L)"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-green-700",children:"Claimed Amount"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-amber-700",children:"Unclaimed (L)"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-amber-700",children:"Unclaimed Amount"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-slate-700",children:"Total (L)"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-slate-700",children:"Total Amount"})]})}),(0,b.jsxs)("tbody",{children:[I.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b hover:bg-slate-50 text-xs md:text-sm",children:[(0,b.jsx)("td",{className:"py-2 px-4 font-medium",children:a.fuel_type}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:a.claimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:M(a.claimed_amount)}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:a.unclaimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:M(a.unclaimed_amount)}),(0,b.jsx)("td",{className:"py-2 px-4 text-right font-mono font-semibold",children:(a.claimed_quantity+a.unclaimed_quantity).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 px-4 text-right font-mono font-semibold",children:M(a.claimed_amount+a.unclaimed_amount)})]},c)),(0,b.jsxs)("tr",{className:"font-bold bg-slate-100 text-xs md:text-sm",children:[(0,b.jsx)("td",{className:"py-2 px-4",children:"TOTAL"}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:K.claimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:M(K.claimed_amount)}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:K.unclaimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:M(K.unclaimed_amount)}),(0,b.jsx)("td",{className:"py-2 px-4 text-right font-mono",children:Z.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 px-4 text-right font-mono",children:M(Y)})]})]})]})})})]}),(0,b.jsxs)(f.Card,{className:"rounded-2xl",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{className:"text-lg md:text-xl",children:"Shift Details"}),(0,b.jsxs)("p",{className:"text-sm text-slate-600",children:[G.length," shift",1!==G.length?"s":""," in selected period",G.length>20&&` (showing ${(N-1)*20+1}-${Math.min(20*N,G.length)})`]})]}),(0,b.jsx)(f.CardContent,{children:E?(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,b.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading sales data..."})]}):0===G.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(l.BarChart3,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No shifts recorded for this period"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Try selecting a different date range"})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[G.slice((N-1)*20,20*N).map(a=>(0,b.jsxs)("div",{className:"border rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-slate-100 px-4 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[A!==C&&(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-sm",children:[(0,b.jsx)(q.Calendar,{className:"h-4 w-4 text-slate-500"}),(0,b.jsx)("span",{className:"font-medium",children:new Date(a.start_time).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-sm",children:[(0,b.jsx)(o.Clock,{className:"h-4 w-4 text-slate-500"}),(0,b.jsx)("span",{className:"font-medium",children:X(a.start_time)}),a.end_time&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"-"}),(0,b.jsx)("span",{className:"font-medium",children:X(a.end_time)})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-sm",children:[(0,b.jsx)(p.User,{className:"h-4 w-4 text-slate-500"}),(0,b.jsx)("span",{children:a.cashier_name})]})]}),(0,b.jsx)(t.Badge,{variant:"closed"===a.status?"secondary":"default",children:"closed"===a.status?"Closed":"Open"})]}),0===a.items.length?(0,b.jsx)("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"No fuel sales recorded in this shift"}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b text-xs md:text-sm bg-slate-50",children:[(0,b.jsx)("th",{className:"text-left py-2 px-4 font-semibold text-slate-700",children:"Fuel Type"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-green-700",children:"Claimed (L)"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-green-700",children:"Claimed Amount"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-amber-700",children:"Unclaimed (L)"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 font-semibold text-amber-700",children:"Unclaimed Amount"})]})}),(0,b.jsxs)("tbody",{children:[a.items.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b hover:bg-slate-50 text-xs md:text-sm",children:[(0,b.jsx)("td",{className:"py-2 px-4 font-medium",children:a.fuel_type}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:a.claimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:M(a.claimed_amount)}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:a.unclaimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:M(a.unclaimed_amount)})]},c)),(0,b.jsxs)("tr",{className:"font-bold bg-slate-50 text-xs md:text-sm",children:[(0,b.jsx)("td",{className:"py-2 px-4",children:"Shift Total"}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:a.totals.claimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-green-700 font-mono",children:M(a.totals.claimed_amount)}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:a.totals.unclaimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 px-4 text-right text-amber-700 font-mono",children:M(a.totals.unclaimed_amount)})]})]})]})})]},a.shift_id)),(0,b.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mt-4",children:[(0,b.jsx)("h4",{className:"font-semibold text-blue-900 mb-3",children:"Daily Grand Total"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-blue-700",children:"Claimed Volume"}),(0,b.jsxs)("p",{className:"font-bold text-green-700",children:[K.claimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," L"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-blue-700",children:"Claimed Amount"}),(0,b.jsx)("p",{className:"font-bold text-green-700",children:M(K.claimed_amount)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-blue-700",children:"Unclaimed Volume"}),(0,b.jsxs)("p",{className:"font-bold text-amber-700",children:[K.unclaimed_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," L"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-blue-700",children:"Unclaimed Amount"}),(0,b.jsx)("p",{className:"font-bold text-amber-700",children:M(K.unclaimed_amount)})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-100 rounded-lg p-3 md:p-4 text-xs",children:[(0,b.jsx)("h4",{className:"font-semibold text-slate-800 mb-2",children:"Understanding this report:"}),(0,b.jsxs)("ul",{className:"text-slate-600 space-y-1",children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"text-green-700 font-semibold",children:"Claimed"})," = Sales invoiced through the APK (with receipt)"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"text-amber-700 font-semibold",children:"Unclaimed"})," = Bulk sales from meter difference (dispensed but no invoice)"]})]})]}),G.length>20&&(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:["Showing ",(N-1)*20+1," to ",Math.min(20*N,G.length)," of ",G.length," shifts"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>O(Math.max(1,N-1)),disabled:1===N,children:(0,b.jsx)(r.ChevronLeft,{className:"h-4 w-4"})}),(0,b.jsxs)("span",{className:"text-sm text-slate-600",children:["Page ",N," of ",Math.ceil(G.length/20)]}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>O(Math.min(Math.ceil(G.length/20),N+1)),disabled:N===Math.ceil(G.length/20),children:(0,b.jsx)(s.ChevronRight,{className:"h-4 w-4"})})]})]})]})})]}),(0,b.jsxs)(f.Card,{className:"rounded-2xl",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:(0,b.jsxs)(f.CardTitle,{className:"text-lg md:text-xl flex items-center gap-2",children:[(0,b.jsx)(m.Fuel,{className:"h-5 w-5 text-blue-500"}),"Nozzle Sales Report"]})}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Station sales breakdown by nozzle with variance analysis"})]}),(0,b.jsx)(f.CardContent,{children:T?(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,b.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading nozzle data..."})]}):0===P.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(m.Fuel,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No nozzle readings for this date"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Nozzle data is recorded when shifts are completed"})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"overflow-x-auto -mx-3 md:mx-0",children:(0,b.jsxs)("table",{className:"w-full min-w-[700px]",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b bg-slate-50 text-xs md:text-sm",children:[(0,b.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Nozzle"}),(0,b.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Fuel Type"}),(0,b.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Opening"}),(0,b.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Closing"}),(0,b.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Meter Diff (L)"}),(0,b.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Invoiced (L)"}),(0,b.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 font-semibold text-slate-700",children:"Variance (L)"})]})}),(0,b.jsx)("tbody",{children:P.map(a=>(0,b.jsxs)("tr",{className:"border-b hover:bg-slate-50 text-xs md:text-sm",children:[(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 font-medium",children:a.nozzle_name}),(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4",children:(0,b.jsx)(t.Badge,{variant:"outline",children:a.fuel_type})}),(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono",children:a.opening_reading.toLocaleString()}),(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono",children:a.closing_reading.toLocaleString()}),(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono font-semibold",children:a.meter_difference.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono",children:a.invoiced_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right",children:(0,b.jsxs)("span",{className:`font-mono font-semibold ${0===a.variance?"text-green-600":a.variance>0?"text-amber-600":"text-red-600"}`,children:[a.variance>0?"+":"",a.variance.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),0!==a.variance&&(0,b.jsx)(n.AlertCircle,{className:"h-3 w-3 inline ml-1"})]})})]},a.nozzle_id))}),R&&(0,b.jsx)("tfoot",{className:"bg-slate-100",children:(0,b.jsxs)("tr",{className:"font-bold text-xs md:text-sm",children:[(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4",colSpan:4,children:"TOTAL STATION SALES"}),(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono",children:R.total_meter_difference.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right font-mono",children:R.total_invoiced_quantity.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),(0,b.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-right",children:(0,b.jsxs)("span",{className:`font-mono ${0===R.total_variance?"text-green-600":R.total_variance>0?"text-amber-600":"text-red-600"}`,children:[R.total_variance>0?"+":"",R.total_variance.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]})})]})}),(0,b.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 md:p-4",children:[(0,b.jsx)("h4",{className:"font-semibold text-blue-900 mb-2 text-sm",children:"How to read this report:"}),(0,b.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("strong",{children:"Meter Difference"})," = Closing - Opening (actual fuel dispensed)"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("strong",{children:"Invoiced"})," = Total quantity from invoices issued"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("strong",{children:"Variance"})," = Meter Difference - Invoiced"]}),(0,b.jsxs)("li",{className:"text-amber-700",children:[(0,b.jsx)("strong",{children:"Positive"})," = More dispensed than invoiced (loss)"]}),(0,b.jsxs)("li",{className:"text-red-700",children:[(0,b.jsx)("strong",{children:"Negative"})," = Less dispensed than invoiced (error)"]})]})]})]})})]}),(0,b.jsxs)("footer",{className:"mt-12 border-t pt-6 pb-4 text-center text-sm text-muted-foreground",children:["Powered by ",(0,b.jsx)("span",{className:"font-semibold text-navy-900",children:"Sensile Technologies East Africa Ltd"})]})]})})]})})]})}a.s(["default",()=>w])}];

//# sourceMappingURL=app_reports_daily-sales_page_tsx_3aa9af3d._.js.map