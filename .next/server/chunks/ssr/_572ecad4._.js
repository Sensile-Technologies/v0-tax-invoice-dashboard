module.exports=[87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},90023,a=>{"use strict";async function b(a,b){let c=a.includes("@"),d=await fetch("/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c?a:void 0,username:c?void 0:a,password:b})}),e=await d.json();return e.access_token&&(document.cookie=`sb-access-token=${e.access_token}; path=/; max-age=604800`,document.cookie=`sb-refresh-token=${e.refresh_token}; path=/; max-age=2592000`,e.user&&(localStorage.setItem("currentUser",JSON.stringify(e.user)),localStorage.setItem("user",JSON.stringify(e.user)))),{data:e,error:e.error||null}}async function c(){return document.cookie="sb-access-token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="sb-refresh-token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("currentUser"),localStorage.removeItem("user"),localStorage.removeItem("selectedBranch"),{error:null}}function d(){return null}async function e(){throw Error("Google sign-in is not available with local authentication")}a.s(["getCurrentUser",()=>d,"signIn",()=>b,"signInWithGoogle",()=>e,"signOut",()=>c])},60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(90023);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{let b=(0,e.getCurrentUser)();if(b)if("admin"===b.role)a.replace("/admin");else if("sales"===b.role)a.replace("/admin/sales");else{let c=(b.role||"").toLowerCase();"director"===c||"vendor"===c?a.replace("/headquarters"):a.replace("/sales/summary")}else a.replace("/auth/login");g(!1)},[a]),f)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})}):null}a.s(["default",()=>f])}];

//# sourceMappingURL=_572ecad4._.js.map