module.exports=[28893,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3130),e=a.i(40695),f=a.i(54161),g=a.i(5522),h=a.i(21958),i=a.i(46893),j=a.i(65733),k=a.i(87682),l=a.i(17171),m=a.i(46143),n=a.i(88237),o=a.i(70106);let p=(0,o.default)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),q=(0,o.default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),r=(0,o.default)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var s=a.i(87532),t=a.i(15618),u=a.i(67900),v=a.i(35125),w=a.i(33441),x=a.i(92e3);let y=(0,o.default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),z=(0,o.default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),A=(0,o.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var B=a.i(76504),C=a.i(23292),D=a.i(56711);function E(){let[a,o]=(0,c.useState)("hardware"),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)([]),[I,J]=(0,c.useState)([]),[K,L]=(0,c.useState)([]),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)(!0),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(null),[$,_]=(0,c.useState)(null),[aa,ab]=(0,c.useState)([]),[ac,ad]=(0,c.useState)(!1),[ae,af]=(0,c.useState)(""),[ag,ah]=(0,c.useState)(""),[ai,aj]=(0,c.useState)({serial_number:"",device_type:"token",status:"active",branch_id:"",assigned_to:""}),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)(null),[ao,ap]=(0,c.useState)(""),[aq,ar]=(0,c.useState)(""),[as,at]=(0,c.useState)([]),[au,av]=(0,c.useState)(!1),[aw,ax]=(0,c.useState)(null),[ay,az]=(0,c.useState)({company_name:"",contact_name:"",email:"",phone:"",trading_name:"",kra_pin:"",location:"",county:"",address:""}),[aA,aB]=(0,c.useState)({device_token:"",bhf_id:"",server_address:"",server_port:"",hardware_type:"",hardware_serial:""});(0,c.useEffect)(()=>{aC()},[]);let aC=async()=>{try{let[a,b,c,d]=await Promise.all([fetch("/api/admin/operations/hardware"),fetch("/api/admin/operations/onboarding"),fetch("/api/admin/operations/signups"),fetch("/api/admin/vendors")]),e=await a.json(),f=await b.json(),g=await c.json(),h=await d.json();F(Array.isArray(e)?e:[]),H(Array.isArray(f)?f:[]),J(Array.isArray(g)?g:[]),L(Array.isArray(h)?h:[])}catch(a){console.error("Error fetching data:",a)}finally{P(!1)}},aD=async a=>{try{let b=await fetch(`/api/admin/vendors/${a}/branches`),c=await b.json();N(Array.isArray(c)?c:[])}catch(a){console.error("Error fetching branches:",a),N([])}},aE=async()=>{if(!ai.serial_number)return void C.toast.error("Please enter a serial number");if(!aq)return void C.toast.error("Please select a merchant");if(!ai.branch_id)return void C.toast.error("Please select a branch");try{if(!(await fetch("/api/admin/operations/hardware",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serial_number:ai.serial_number,device_type:ai.device_type,status:ai.status,branch_id:ai.branch_id,assigned_to:ai.assigned_to||null})})).ok)throw Error("Failed to add hardware");C.toast.success("Hardware added successfully"),T(!1),aj({serial_number:"",device_type:"token",status:"active",branch_id:"",assigned_to:""}),ar(""),at([]),aC()}catch(a){C.toast.error("Failed to add hardware")}},aF=async()=>{if(am)try{if(!(await fetch("/api/admin/operations/hardware",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:am.id,serial_number:am.serial_number,device_type:am.device_type,status:am.status})})).ok)throw Error("Failed to update hardware");C.toast.success("Hardware updated successfully"),al(!1),an(null),aC()}catch(a){C.toast.error("Failed to update hardware")}},aG=async a=>{try{let b=await fetch("/api/admin/operations/signups",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({lead_id:a,...ay})}),c=await b.json();if(!b.ok)return void(c.message?C.toast.error(c.message):C.toast.error(c.error||"Failed to move to onboarding"));C.toast.success("Branch verified! Lead moved to Onboarding Requests"),av(!1),ax(null),aC()}catch(a){C.toast.error("Failed to move to onboarding")}},aH=async a=>{if(Y)try{if(!(await fetch("/api/admin/operations/hardware",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:Y.id,branch_id:a})})).ok)throw Error("Failed to assign hardware");C.toast.success("Hardware assigned successfully"),V(!1),Z(null),aC()}catch(a){C.toast.error("Failed to assign hardware")}},aI=async()=>{if(0===aa.length||!ag)return void C.toast.error("Please select hardware and a branch");try{let a=0,b=0;for(let c of aa)(await fetch("/api/admin/operations/hardware",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c,branch_id:ag})})).ok?a++:b++;b>0?C.toast.warning(`${a} device(s) assigned, ${b} failed`):C.toast.success(`${a} device(s) assigned successfully`),ad(!1),ab([]),af(""),ah(""),aC()}catch(a){C.toast.error("Failed to assign hardware")}},aJ=E.filter(a=>"available"===a.status),aK=async()=>{if($)try{if(!(await fetch("/api/admin/operations/onboarding",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:$.id,branch_id:$.branch_id,...aA})})).ok)throw Error("Failed to configure");C.toast.success("Configuration saved successfully"),X(!1),_(null),aB({device_token:"",bhf_id:"",server_address:"",server_port:"",hardware_type:"",hardware_serial:""}),aC()}catch(a){C.toast.error("Failed to save configuration")}},aL=E.filter(a=>a.serial_number?.toLowerCase().includes(Q.toLowerCase())||a.merchant_name?.toLowerCase().includes(Q.toLowerCase())||a.branch_name?.toLowerCase().includes(Q.toLowerCase()));return O?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Operations"}),(0,b.jsx)("p",{className:"text-slate-600 mt-1",children:"Manage hardware, onboarding, and merchant signups"})]})}),(0,b.jsxs)(h.Tabs,{value:a,onValueChange:o,children:[(0,b.jsxs)(h.TabsList,{children:[(0,b.jsxs)(h.TabsTrigger,{value:"hardware",children:[(0,b.jsx)(p,{className:"h-4 w-4 mr-2"}),"Hardware"]}),(0,b.jsxs)(h.TabsTrigger,{value:"onboarding",children:[(0,b.jsx)(r,{className:"h-4 w-4 mr-2"}),"Onboarding Requests",G.length>0&&(0,b.jsx)(f.Badge,{className:"ml-2 bg-orange-500",children:G.length})]}),(0,b.jsxs)(h.TabsTrigger,{value:"signups",children:[(0,b.jsx)(q,{className:"h-4 w-4 mr-2"}),"Signup Requests",I.length>0&&(0,b.jsx)(f.Badge,{className:"ml-2 bg-blue-500",children:I.length})]})]}),(0,b.jsxs)(h.TabsContent,{value:"hardware",className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(s.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,b.jsx)(g.Input,{placeholder:"Search hardware...",value:Q,onChange:a=>R(a.target.value),className:"pl-10"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[aa.length>0&&(0,b.jsxs)(j.Dialog,{open:ac,onOpenChange:ad,children:[(0,b.jsx)(j.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",children:[(0,b.jsx)(u.Building2,{className:"h-4 w-4 mr-2"}),"Assign ",aa.length," Device(s)"]})}),(0,b.jsxs)(j.DialogContent,{children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Assign Hardware to Branch"}),(0,b.jsxs)(j.DialogDescription,{children:["Assign ",aa.length," selected device(s) to a branch"]})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Merchant"}),(0,b.jsxs)(k.Select,{value:ae,onValueChange:a=>{af(a),ah(""),aD(a)},children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select merchant"})}),(0,b.jsx)(k.SelectContent,{children:K.map(a=>(0,b.jsx)(k.SelectItem,{value:a.id,children:a.name},a.id))})]})]}),ae&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Branch"}),(0,b.jsxs)(k.Select,{value:ag,onValueChange:ah,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select branch"})}),(0,b.jsx)(k.SelectContent,{children:M.map(a=>(0,b.jsx)(k.SelectItem,{value:a.id,children:a.bhf_nm||a.name},a.id))})]})]}),(0,b.jsx)(e.Button,{onClick:aI,className:"w-full",disabled:!ag,children:"Assign to Branch"})]})]})]}),(0,b.jsxs)(j.Dialog,{open:S,onOpenChange:T,children:[(0,b.jsx)(j.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{children:[(0,b.jsx)(t.Plus,{className:"h-4 w-4 mr-2"}),"Add Hardware"]})}),(0,b.jsxs)(j.DialogContent,{className:"max-w-lg",children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Add Hardware"}),(0,b.jsx)(j.DialogDescription,{children:"Register a new hardware device"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Serial Number *"}),(0,b.jsx)(g.Input,{value:ai.serial_number,onChange:a=>aj({...ai,serial_number:a.target.value}),placeholder:"SN-XXXX-XXXX"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Device Type *"}),(0,b.jsxs)(k.Select,{value:ai.device_type,onValueChange:a=>aj({...ai,device_type:a}),children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"token",children:"Hardware Token"}),(0,b.jsx)(k.SelectItem,{value:"printer",children:"Fiscal Printer"}),(0,b.jsx)(k.SelectItem,{value:"terminal",children:"POS Terminal"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Status"}),(0,b.jsxs)(k.Select,{value:ai.status,onValueChange:a=>aj({...ai,status:a}),children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(k.SelectItem,{value:"inactive",children:"Inactive"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Merchant *"}),(0,b.jsxs)(k.Select,{value:aq,onValueChange:a=>{ar(a),aj({...ai,branch_id:""}),fetch(`/api/admin/vendors/${a}/branches`).then(a=>a.json()).then(a=>at(Array.isArray(a)?a:[])).catch(()=>at([]))},children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select merchant"})}),(0,b.jsx)(k.SelectContent,{children:K.map(a=>(0,b.jsx)(k.SelectItem,{value:a.id,children:a.name},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Branch *"}),(0,b.jsxs)(k.Select,{value:ai.branch_id,onValueChange:a=>aj({...ai,branch_id:a}),disabled:!aq,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:aq?"Select branch":"Select merchant first"})}),(0,b.jsx)(k.SelectContent,{children:as.map(a=>(0,b.jsx)(k.SelectItem,{value:a.id,children:a.name},a.id))})]})]}),(0,b.jsx)(e.Button,{onClick:aE,className:"w-full",children:"Add Hardware"})]})]})]})]})]}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-0",children:(0,b.jsxs)(n.Table,{children:[(0,b.jsx)(n.TableHeader,{children:(0,b.jsxs)(n.TableRow,{children:[(0,b.jsx)(n.TableHead,{className:"w-12",children:(0,b.jsx)(m.Checkbox,{checked:aJ.length>0&&aa.length===aJ.length,onCheckedChange:a=>{a?ab(aJ.map(a=>a.id)):ab([])}})}),(0,b.jsx)(n.TableHead,{children:"Serial Number"}),(0,b.jsx)(n.TableHead,{children:"Device Type"}),(0,b.jsx)(n.TableHead,{children:"Status"}),(0,b.jsx)(n.TableHead,{children:"Assigned To"}),(0,b.jsx)(n.TableHead,{children:"Date Added"}),(0,b.jsx)(n.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(n.TableBody,{children:aL.map(a=>(0,b.jsxs)(n.TableRow,{children:[(0,b.jsx)(n.TableCell,{children:"available"===a.status&&(0,b.jsx)(m.Checkbox,{checked:aa.includes(a.id),onCheckedChange:()=>{var b;return b=a.id,void ab(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])}})}),(0,b.jsx)(n.TableCell,{className:"font-mono font-semibold",children:a.serial_number}),(0,b.jsx)(n.TableCell,{className:"capitalize",children:a.device_type}),(0,b.jsx)(n.TableCell,{children:(0,b.jsx)(f.Badge,{className:(a=>{switch(a){case"available":case"completed":return"bg-green-100 text-green-800";case"assigned":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-slate-100 text-slate-800"}})(a.status),children:a.status})}),(0,b.jsx)(n.TableCell,{children:a.branch_name?(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.branch_name}),a.merchant_name&&(0,b.jsx)("div",{className:"text-sm text-slate-500",children:a.merchant_name})]}):(0,b.jsx)("span",{className:"text-slate-400",children:"-"})}),(0,b.jsx)(n.TableCell,{children:(0,D.format)(new Date(a.created_at),"MMM d, yyyy")}),(0,b.jsx)(n.TableCell,{className:"text-right",children:(0,b.jsxs)(B.DropdownMenu,{children:[(0,b.jsx)(B.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(z,{className:"h-4 w-4"})})}),(0,b.jsxs)(B.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(B.DropdownMenuItem,{onClick:()=>{an(a),al(!0)},children:[(0,b.jsx)(A,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,b.jsxs)(B.DropdownMenuItem,{onClick:()=>{Z(a),V(!0)},children:[(0,b.jsx)(u.Building2,{className:"h-4 w-4 mr-2"}),a.branch_id?"Reassign":"Assign"]})]})]})})]},a.id))})]})})}),0===aL.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(p,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-500",children:"No hardware registered yet"})]})]}),(0,b.jsxs)(h.TabsContent,{value:"onboarding",className:"space-y-4 mt-4",children:[(0,b.jsx)("div",{className:"grid gap-4",children:G.map(a=>(0,b.jsx)(d.Card,{className:"border-orange-200 bg-orange-50",children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-orange-100",children:(0,b.jsx)(x.AlertCircle,{className:"h-5 w-5 text-orange-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:a.merchant_name}),(0,b.jsx)(f.Badge,{className:"bg-orange-100 text-orange-700",children:"Pending Onboarding"})]}),a.trading_name&&(0,b.jsxs)("div",{className:"text-sm text-slate-600",children:["Trading Name: ",a.trading_name]}),a.kra_pin&&(0,b.jsxs)("div",{className:"text-sm text-slate-600",children:["KRA PIN: ",a.kra_pin]}),(0,b.jsxs)("div",{className:"text-sm text-slate-500",children:[a.contact_name&&`Contact: ${a.contact_name}`,a.contact_email&&` - ${a.contact_email}`,a.contact_phone&&` - ${a.contact_phone}`]}),(0,b.jsxs)("div",{className:"text-sm text-slate-500",children:[a.location&&`${a.location}`,a.county&&`, ${a.county}`,(a.location||a.county)&&" - ",(0,D.format)(new Date(a.created_at),"MMM d, yyyy")]})]})]}),(0,b.jsxs)(e.Button,{onClick:()=>{_(a),X(!0)},children:[(0,b.jsx)(v.Server,{className:"h-4 w-4 mr-2"}),"Configure"]})]})})},a.id))}),0===G.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(r,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-500",children:"No leads pending onboarding configuration"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-2",children:"Leads that have signed up will appear here for configuration"})]})]}),(0,b.jsx)(h.TabsContent,{value:"signups",className:"space-y-4 mt-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Pending Signups (Onboarding Stage)"}),I.map(a=>(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)(q,{className:"h-5 w-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold",children:a.company_name}),(0,b.jsxs)("div",{className:"text-sm text-slate-500",children:[a.contact_name," - ",a.email]}),(0,b.jsxs)("div",{className:"text-sm text-slate-500",children:[a.phone,a.sales_person_name&&` - Sales: ${a.sales_person_name}`]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(y,{className:"h-4 w-4 mr-2"}),"Contact"]}),(0,b.jsxs)(e.Button,{size:"sm",onClick:()=>{ax(a),az({company_name:a.company_name||"",contact_name:a.contact_name||"",email:a.email||"",phone:a.phone||"",trading_name:a.trading_name||"",kra_pin:a.kra_pin||"",location:a.location||"",county:a.county||"",address:a.address||""}),av(!0)},children:[(0,b.jsx)(A,{className:"h-4 w-4 mr-2"}),"Review"]})]})]})})},a.lead_id)),0===I.length&&(0,b.jsxs)("div",{className:"text-center py-12 bg-slate-50 rounded-lg",children:[(0,b.jsx)(q,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-500",children:"No pending signup requests"})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Signup Instructions"}),(0,b.jsx)(d.CardDescription,{children:"Guide for merchants on how to sign up"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,b.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-2",children:"Step 1: Account Creation"}),(0,b.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-slate-600",children:[(0,b.jsx)("li",{children:"Go to the Flow360 portal"}),(0,b.jsx)("li",{children:'Click on "Sign Up" or "Register"'}),(0,b.jsx)("li",{children:"Fill in company details (Name, KRA PIN, Email, Phone)"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-2",children:"Step 2: Branch Setup"}),(0,b.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-slate-600",children:[(0,b.jsx)("li",{children:"Log in to the dashboard"}),(0,b.jsx)("li",{children:'Navigate to "Branches" section'}),(0,b.jsx)("li",{children:"Add each fuel station location"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-2",children:"Step 3: Operations Configuration"}),(0,b.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-slate-600",children:[(0,b.jsx)("li",{children:"Contact Operations team for Device Token, BHF ID"}),(0,b.jsx)("li",{children:"Receive Server Address and Port"}),(0,b.jsx)("li",{children:"Configuration done by Operations team"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-2",children:"Support"}),(0,b.jsxs)("ul",{className:"space-y-1 text-slate-600",children:[(0,b.jsx)("li",{children:"Email: support@flow360.co.ke"}),(0,b.jsx)("li",{children:"Phone: +254 700 000 000"})]})]})]})})})]})})]})})]}),(0,b.jsx)(j.Dialog,{open:U,onOpenChange:V,children:(0,b.jsxs)(j.DialogContent,{children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Assign Hardware"}),(0,b.jsxs)(j.DialogDescription,{children:["Assign ",Y?.serial_number," to a branch"]})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Merchant"}),(0,b.jsxs)(k.Select,{onValueChange:a=>aD(a),children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select merchant"})}),(0,b.jsx)(k.SelectContent,{children:K.map(a=>(0,b.jsx)(k.SelectItem,{value:a.id,children:a.name},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Branch"}),(0,b.jsxs)(k.Select,{onValueChange:aH,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select branch"})}),(0,b.jsx)(k.SelectContent,{children:M.map(a=>(0,b.jsx)(k.SelectItem,{value:a.id,children:a.bhf_nm},a.id))})]})]})]})]})}),(0,b.jsx)(j.Dialog,{open:W,onOpenChange:X,children:(0,b.jsxs)(j.DialogContent,{children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Configure Onboarding"}),(0,b.jsxs)(j.DialogDescription,{children:["Configure device settings for ",$?.merchant_name,$?.branch_name&&` - ${$.branch_name}`]})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[($?.trading_name||$?.kra_pin)&&(0,b.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg space-y-1",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-slate-700",children:"Business Details"}),$?.trading_name&&(0,b.jsxs)("div",{className:"text-sm text-slate-600",children:["Trading Name: ",(0,b.jsx)("span",{className:"font-medium",children:$.trading_name})]}),$?.kra_pin&&(0,b.jsxs)("div",{className:"text-sm text-slate-600",children:["KRA PIN: ",(0,b.jsx)("span",{className:"font-medium",children:$.kra_pin})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Device Token"}),(0,b.jsx)(g.Input,{value:aA.device_token,onChange:a=>aB({...aA,device_token:a.target.value}),placeholder:"Enter device token"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"BHF ID (Branch Fiscal ID)"}),(0,b.jsx)(g.Input,{value:aA.bhf_id,onChange:a=>aB({...aA,bhf_id:a.target.value}),placeholder:"e.g., 01"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Server Address"}),(0,b.jsx)(g.Input,{value:aA.server_address,onChange:a=>aB({...aA,server_address:a.target.value}),placeholder:"api.kra.go.ke"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Server Port"}),(0,b.jsx)(g.Input,{value:aA.server_port,onChange:a=>aB({...aA,server_port:a.target.value}),placeholder:"8080"})]})]}),(0,b.jsxs)("div",{className:"border-t pt-4 mt-2",children:[(0,b.jsx)(l.Label,{className:"text-base font-semibold mb-3 block",children:"Hardware Assignment"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Hardware Type"}),(0,b.jsxs)(k.Select,{value:aA.hardware_type,onValueChange:a=>aB({...aA,hardware_type:a}),children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select type"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"token",children:"Hardware Token"}),(0,b.jsx)(k.SelectItem,{value:"printer",children:"Fiscal Printer"}),(0,b.jsx)(k.SelectItem,{value:"terminal",children:"POS Terminal"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Serial Number"}),(0,b.jsx)(g.Input,{value:aA.hardware_serial,onChange:a=>aB({...aA,hardware_serial:a.target.value}),placeholder:"SN-XXXX-XXXX"})]})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Hardware will be registered and assigned to this branch when configuration is saved."})]}),(0,b.jsxs)(e.Button,{onClick:aK,className:"w-full",children:[(0,b.jsx)(w.Check,{className:"h-4 w-4 mr-2"}),"Save Configuration"]})]})]})}),(0,b.jsx)(j.Dialog,{open:au,onOpenChange:av,children:(0,b.jsxs)(j.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Review Signup Request"}),(0,b.jsx)(j.DialogDescription,{children:"Review and edit details before moving to onboarding"})]}),aw&&(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Company Name *"}),(0,b.jsx)(g.Input,{value:ay.company_name,onChange:a=>az({...ay,company_name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Trading Name"}),(0,b.jsx)(g.Input,{value:ay.trading_name,onChange:a=>az({...ay,trading_name:a.target.value}),placeholder:"Trading/Business Name"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Contact Name *"}),(0,b.jsx)(g.Input,{value:ay.contact_name,onChange:a=>az({...ay,contact_name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"KRA PIN"}),(0,b.jsx)(g.Input,{value:ay.kra_pin,onChange:a=>az({...ay,kra_pin:a.target.value}),placeholder:"e.g., P051234567Z"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Email *"}),(0,b.jsx)(g.Input,{type:"email",value:ay.email,onChange:a=>az({...ay,email:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Phone *"}),(0,b.jsx)(g.Input,{value:ay.phone,onChange:a=>az({...ay,phone:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Location"}),(0,b.jsx)(g.Input,{value:ay.location,onChange:a=>az({...ay,location:a.target.value}),placeholder:"Town/Area"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"County"}),(0,b.jsx)(g.Input,{value:ay.county,onChange:a=>az({...ay,county:a.target.value}),placeholder:"County"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Address"}),(0,b.jsx)(i.Textarea,{value:ay.address,onChange:a=>az({...ay,address:a.target.value}),placeholder:"Full address",rows:2})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>av(!1),className:"flex-1",children:"Cancel"}),(0,b.jsxs)(e.Button,{onClick:()=>aG(aw.lead_id),className:"flex-1",children:[(0,b.jsx)(w.Check,{className:"h-4 w-4 mr-2"}),"Approve & Move to Onboarding"]})]})]})]})}),(0,b.jsx)(j.Dialog,{open:ak,onOpenChange:al,children:(0,b.jsxs)(j.DialogContent,{children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Edit Hardware"}),(0,b.jsx)(j.DialogDescription,{children:"Update hardware device details"})]}),am&&(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Serial Number"}),(0,b.jsx)(g.Input,{value:am.serial_number,onChange:a=>an({...am,serial_number:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Device Type"}),(0,b.jsxs)(k.Select,{value:am.device_type,onValueChange:a=>an({...am,device_type:a}),children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"token",children:"Hardware Token"}),(0,b.jsx)(k.SelectItem,{value:"printer",children:"Fiscal Printer"}),(0,b.jsx)(k.SelectItem,{value:"terminal",children:"POS Terminal"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Status"}),(0,b.jsxs)(k.Select,{value:am.status,onValueChange:a=>an({...am,status:a}),children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(k.SelectItem,{value:"inactive",children:"Inactive"})]})]})]}),(0,b.jsx)(e.Button,{onClick:aF,className:"w-full",children:"Save Changes"})]})]})})]})}a.s(["default",()=>E],28893)}];

//# sourceMappingURL=app_admin_operations_page_tsx_1c6471aa._.js.map