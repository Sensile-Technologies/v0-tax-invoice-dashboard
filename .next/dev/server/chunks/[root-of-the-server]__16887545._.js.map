{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/db/client.ts"],"sourcesContent":["import { Pool } from 'pg';\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n  ssl: process.env.NODE_ENV === 'production' ? { rejectUnauthorized: false } : false,\n});\n\nexport async function query<T = any>(text: string, params?: any[]): Promise<T[]> {\n  const client = await pool.connect();\n  try {\n    const result = await client.query(text, params);\n    return result.rows as T[];\n  } finally {\n    client.release();\n  }\n}\n\nexport async function queryOne<T = any>(text: string, params?: any[]): Promise<T | null> {\n  const rows = await query<T>(text, params);\n  return rows[0] || null;\n}\n\nexport async function execute(text: string, params?: any[]): Promise<number> {\n  const client = await pool.connect();\n  try {\n    const result = await client.query(text, params);\n    return result.rowCount || 0;\n  } finally {\n    client.release();\n  }\n}\n\nexport { pool };\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;AAEA,MAAM,OAAO,IAAI,4GAAI,CAAC;IACpB,kBAAkB,QAAQ,GAAG,CAAC,YAAY;IAC1C,KAAK,sCAAwC,0BAAgC;AAC/E;AAEO,eAAe,MAAe,IAAY,EAAE,MAAc;IAC/D,MAAM,SAAS,MAAM,KAAK,OAAO;IACjC,IAAI;QACF,MAAM,SAAS,MAAM,OAAO,KAAK,CAAC,MAAM;QACxC,OAAO,OAAO,IAAI;IACpB,SAAU;QACR,OAAO,OAAO;IAChB;AACF;AAEO,eAAe,SAAkB,IAAY,EAAE,MAAc;IAClE,MAAM,OAAO,MAAM,MAAS,MAAM;IAClC,OAAO,IAAI,CAAC,EAAE,IAAI;AACpB;AAEO,eAAe,QAAQ,IAAY,EAAE,MAAc;IACxD,MAAM,SAAS,MAAM,KAAK,OAAO;IACjC,IAAI;QACF,MAAM,SAAS,MAAM,OAAO,KAAK,CAAC,MAAM;QACxC,OAAO,OAAO,QAAQ,IAAI;IAC5B,SAAU;QACR,OAAO,OAAO;IAChB;AACF"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/supabase/server.ts"],"sourcesContent":["import { query, queryOne, execute } from '../db/client';\n\ninterface QueryResult<T = any> {\n  data: T | null;\n  error: { message: string } | null;\n}\n\ninterface QueryBuilder extends PromiseLike<QueryResult> {\n  select: (columns?: string) => QueryBuilder;\n  insert: (data: any | any[]) => Promise<QueryResult>;\n  update: (data: any) => Promise<QueryResult>;\n  delete: () => Promise<QueryResult>;\n  upsert: (data: any | any[], options?: { onConflict?: string }) => Promise<QueryResult>;\n  eq: (column: string, value: any) => QueryBuilder;\n  neq: (column: string, value: any) => QueryBuilder;\n  gt: (column: string, value: any) => QueryBuilder;\n  gte: (column: string, value: any) => QueryBuilder;\n  lt: (column: string, value: any) => QueryBuilder;\n  lte: (column: string, value: any) => QueryBuilder;\n  like: (column: string, value: any) => QueryBuilder;\n  ilike: (column: string, value: any) => QueryBuilder;\n  is: (column: string, value: any) => QueryBuilder;\n  in: (column: string, values: any[]) => QueryBuilder;\n  order: (column: string, options?: { ascending?: boolean }) => QueryBuilder;\n  limit: (count: number) => QueryBuilder;\n  single: () => QueryBuilder;\n  maybeSingle: () => QueryBuilder;\n}\n\nexport async function createClient() {\n  return {\n    from: (table: string): QueryBuilder => createQueryBuilder(table),\n    auth: createAuthClient(),\n  };\n}\n\nfunction createQueryBuilder(table: string): QueryBuilder {\n  let selectColumns = '*';\n  let whereConditions: { column: string; operator: string; value: any }[] = [];\n  let orderByColumn: string | null = null;\n  let orderDirection: 'asc' | 'desc' = 'asc';\n  let limitCount: number | null = null;\n  let singleResult = false;\n\n  const builder = {\n    select: (columns = '*') => {\n      selectColumns = columns;\n      return builder;\n    },\n    insert: async (data: any | any[]) => {\n      const rows = Array.isArray(data) ? data : [data];\n      if (rows.length === 0) return { data: [], error: null };\n      \n      const columns = Object.keys(rows[0]);\n      const values = rows.map((row, i) => \n        `(${columns.map((_, j) => `$${i * columns.length + j + 1}`).join(', ')})`\n      ).join(', ');\n      const params = rows.flatMap(row => columns.map(col => row[col]));\n      \n      try {\n        const sql = `INSERT INTO ${table} (${columns.join(', ')}) VALUES ${values} RETURNING *`;\n        const result = await query(sql, params);\n        return { data: result, error: null };\n      } catch (error: any) {\n        return { data: null, error: { message: error.message } };\n      }\n    },\n    update: async (data: any) => {\n      const columns = Object.keys(data);\n      const setClause = columns.map((col, i) => `${col} = $${i + 1}`).join(', ');\n      const params = columns.map(col => data[col]);\n      \n      let sql = `UPDATE ${table} SET ${setClause}`;\n      let paramIndex = params.length;\n      \n      if (whereConditions.length > 0) {\n        const whereClauses = whereConditions.map((cond, i) => {\n          paramIndex++;\n          return `${cond.column} ${cond.operator} $${paramIndex}`;\n        });\n        sql += ` WHERE ${whereClauses.join(' AND ')}`;\n        params.push(...whereConditions.map(c => c.value));\n      }\n      \n      sql += ' RETURNING *';\n      \n      try {\n        const result = await query(sql, params);\n        return { data: result, error: null };\n      } catch (error: any) {\n        return { data: null, error: { message: error.message } };\n      }\n    },\n    delete: async () => {\n      let sql = `DELETE FROM ${table}`;\n      const params: any[] = [];\n      \n      if (whereConditions.length > 0) {\n        const whereClauses = whereConditions.map((cond, i) => {\n          return `${cond.column} ${cond.operator} $${i + 1}`;\n        });\n        sql += ` WHERE ${whereClauses.join(' AND ')}`;\n        params.push(...whereConditions.map(c => c.value));\n      }\n      \n      sql += ' RETURNING *';\n      \n      try {\n        const result = await query(sql, params);\n        return { data: result, error: null };\n      } catch (error: any) {\n        return { data: null, error: { message: error.message } };\n      }\n    },\n    upsert: async (data: any | any[], options?: { onConflict?: string }) => {\n      const rows = Array.isArray(data) ? data : [data];\n      if (rows.length === 0) return { data: [], error: null };\n      \n      const columns = Object.keys(rows[0]);\n      const values = rows.map((row, i) => \n        `(${columns.map((_, j) => `$${i * columns.length + j + 1}`).join(', ')})`\n      ).join(', ');\n      const params = rows.flatMap(row => columns.map(col => row[col]));\n      \n      const conflictColumns = options?.onConflict || 'id';\n      const updateColumns = columns.filter(c => !conflictColumns.split(',').includes(c));\n      const updateClause = updateColumns.map(c => `${c} = EXCLUDED.${c}`).join(', ');\n      \n      try {\n        let sql = `INSERT INTO ${table} (${columns.join(', ')}) VALUES ${values}`;\n        if (updateClause) {\n          sql += ` ON CONFLICT (${conflictColumns}) DO UPDATE SET ${updateClause}`;\n        } else {\n          sql += ` ON CONFLICT (${conflictColumns}) DO NOTHING`;\n        }\n        sql += ' RETURNING *';\n        const result = await query(sql, params);\n        return { data: result, error: null };\n      } catch (error: any) {\n        return { data: null, error: { message: error.message } };\n      }\n    },\n    eq: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '=', value });\n      return builder;\n    },\n    neq: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '!=', value });\n      return builder;\n    },\n    gt: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '>', value });\n      return builder;\n    },\n    gte: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '>=', value });\n      return builder;\n    },\n    lt: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '<', value });\n      return builder;\n    },\n    lte: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '<=', value });\n      return builder;\n    },\n    like: (column: string, value: any) => {\n      whereConditions.push({ column, operator: 'LIKE', value });\n      return builder;\n    },\n    ilike: (column: string, value: any) => {\n      whereConditions.push({ column, operator: 'ILIKE', value });\n      return builder;\n    },\n    is: (column: string, value: any) => {\n      whereConditions.push({ column, operator: 'IS', value });\n      return builder;\n    },\n    in: (column: string, values: any[]) => {\n      whereConditions.push({ column, operator: 'IN', value: values });\n      return builder;\n    },\n    order: (column: string, options?: { ascending?: boolean }) => {\n      orderByColumn = column;\n      orderDirection = options?.ascending === false ? 'desc' : 'asc';\n      return builder;\n    },\n    limit: (count: number) => {\n      limitCount = count;\n      return builder;\n    },\n    single: () => {\n      singleResult = true;\n      limitCount = 1;\n      return builder;\n    },\n    maybeSingle: () => {\n      singleResult = true;\n      limitCount = 1;\n      return builder;\n    },\n    then: async (resolve: any, reject?: any) => {\n      try {\n        let sql = `SELECT ${selectColumns} FROM ${table}`;\n        const params: any[] = [];\n        let paramIndex = 0;\n        \n        if (whereConditions.length > 0) {\n          const whereClauses = whereConditions.map(cond => {\n            if (cond.operator === 'IN') {\n              const placeholders = cond.value.map(() => `$${++paramIndex}`).join(', ');\n              params.push(...cond.value);\n              return `${cond.column} IN (${placeholders})`;\n            } else if (cond.operator === 'IS') {\n              return `${cond.column} IS ${cond.value}`;\n            } else {\n              paramIndex++;\n              params.push(cond.value);\n              return `${cond.column} ${cond.operator} $${paramIndex}`;\n            }\n          });\n          sql += ` WHERE ${whereClauses.join(' AND ')}`;\n        }\n        \n        if (orderByColumn) {\n          sql += ` ORDER BY ${orderByColumn} ${orderDirection.toUpperCase()}`;\n        }\n        \n        if (limitCount !== null) {\n          sql += ` LIMIT ${limitCount}`;\n        }\n        \n        const result = await query(sql, params);\n        const data = singleResult ? (result[0] || null) : result;\n        resolve({ data, error: null });\n      } catch (error: any) {\n        if (reject) {\n          reject(error);\n        } else {\n          resolve({ data: null, error: { message: error.message } });\n        }\n      }\n    },\n  };\n  \n  return builder as QueryBuilder;\n}\n\nfunction createAuthClient() {\n  return {\n    getUser: async () => {\n      return { data: { user: null }, error: null };\n    },\n    getSession: async () => {\n      return { data: { session: null }, error: null };\n    },\n    signInWithPassword: async (credentials: { email: string; password: string }) => {\n      return { data: { user: null, session: null }, error: { message: 'Local auth not implemented' } };\n    },\n    signUp: async (credentials: { email: string; password: string }) => {\n      return { data: { user: null, session: null }, error: { message: 'Local auth not implemented' } };\n    },\n    signOut: async () => {\n      return { error: null };\n    },\n    onAuthStateChange: (callback: any) => {\n      return { data: { subscription: { unsubscribe: () => {} } } };\n    },\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 466, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/logs/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport { createClient } from \"@/lib/supabase/server\"\n\nexport async function GET(request: NextRequest) {\n  try {\n    const supabase = await createClient()\n\n    const { data: logs, error } = await supabase\n      .from(\"api_logs\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false })\n      .limit(500)\n\n    if (error) {\n      console.error(\"[v0] Error fetching logs:\", error)\n      return NextResponse.json({ error: error.message }, { status: 500 })\n    }\n\n    return NextResponse.json({ logs })\n  } catch (error) {\n    console.error(\"[v0] Error in logs API:\", error)\n    return NextResponse.json({ error: \"Internal server error\" }, { status: 500 })\n  }\n}\n\nexport async function DELETE(request: NextRequest) {\n  try {\n    const supabase = await createClient()\n\n    const { error } = await supabase.from(\"api_logs\").delete().neq(\"id\", \"00000000-0000-0000-0000-000000000000\") // Delete all\n\n    if (error) {\n      console.error(\"[v0] Error clearing logs:\", error)\n      return NextResponse.json({ error: error.message }, { status: 500 })\n    }\n\n    return NextResponse.json({ success: true })\n  } catch (error) {\n    console.error(\"[v0] Error in logs delete API:\", error)\n    return NextResponse.json({ error: \"Internal server error\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;;;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,WAAW,MAAM,IAAA,2IAAY;QAEnC,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SACjC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM,GACvC,KAAK,CAAC;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO,MAAM,OAAO;YAAC,GAAG;gBAAE,QAAQ;YAAI;QACnE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAK;IAClC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF;AAEO,eAAe,OAAO,OAAoB;IAC/C,IAAI;QACF,MAAM,WAAW,MAAM,IAAA,2IAAY;QAEnC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,GAAG,GAAG,CAAC,MAAM,wCAAwC,aAAa;;QAE1H,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO,MAAM,OAAO;YAAC,GAAG;gBAAE,QAAQ;YAAI;QACnE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF"}}]
}