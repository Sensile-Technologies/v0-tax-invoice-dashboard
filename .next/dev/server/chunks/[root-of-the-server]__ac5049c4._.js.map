{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/receipt/generate/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport { Pool } from \"pg\"\nimport jsPDF from \"jspdf\"\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n})\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json()\n    const { sale_id, branch_id } = body\n\n    if (!sale_id || !branch_id) {\n      return NextResponse.json({ error: \"Missing sale_id or branch_id\" }, { status: 400 })\n    }\n\n    const client = await pool.connect()\n    try {\n      const saleResult = await client.query(\n        `SELECT s.*, b.name as branch_name, b.kra_pin, b.bhf_id, b.address as branch_address,\n                n.nozzle_number, d.dispenser_number\n         FROM sales s\n         LEFT JOIN branches b ON s.branch_id = b.id\n         LEFT JOIN nozzles n ON s.nozzle_id = n.id\n         LEFT JOIN dispensers d ON n.dispenser_id = d.id\n         WHERE s.id = $1`,\n        [sale_id]\n      )\n\n      if (saleResult.rows.length === 0) {\n        return NextResponse.json({ error: \"Sale not found\" }, { status: 404 })\n      }\n\n      const sale = saleResult.rows[0]\n      const doc = new jsPDF({ unit: 'mm', format: [80, 200] })\n      \n      const pageWidth = 80\n      let y = 5\n\n      doc.setFontSize(10)\n      doc.setFont(\"helvetica\", \"bold\")\n      doc.text(\"TAX INVOICE\", pageWidth / 2, y, { align: \"center\" })\n      y += 5\n\n      doc.setFontSize(9)\n      doc.setFont(\"helvetica\", \"bold\")\n      doc.text(sale.branch_name || \"Flow360 Station\", pageWidth / 2, y, { align: \"center\" })\n      y += 4\n\n      doc.setFontSize(7)\n      doc.setFont(\"helvetica\", \"normal\")\n      doc.text(sale.branch_address || \"Branch Address\", pageWidth / 2, y, { align: \"center\" })\n      y += 4\n      doc.text(`PIN: ${sale.kra_pin || 'N/A'}`, pageWidth / 2, y, { align: \"center\" })\n      y += 5\n\n      doc.setLineWidth(0.1)\n      doc.line(3, y, pageWidth - 3, y)\n      y += 3\n\n      doc.text(\"Welcome to our shop\", pageWidth / 2, y, { align: \"center\" })\n      y += 5\n\n      doc.line(3, y, pageWidth - 3, y)\n      y += 4\n\n      doc.setFont(\"helvetica\", \"bold\")\n      doc.text(\"BUYER INFORMATION\", pageWidth / 2, y, { align: \"center\" })\n      y += 4\n\n      doc.setFont(\"helvetica\", \"normal\")\n      doc.text(`Buyer PIN:     ${sale.customer_pin || 'NOT PROVIDED'}`, 5, y)\n      y += 3\n      doc.text(`Buyer Name:    ${sale.customer_name || 'Walk-in Customer'}`, 5, y)\n      y += 5\n\n      doc.line(3, y, pageWidth - 3, y)\n      y += 4\n\n      doc.setFont(\"helvetica\", \"bold\")\n      doc.text(\"PRODUCT DETAILS\", pageWidth / 2, y, { align: \"center\" })\n      y += 4\n\n      doc.setFont(\"helvetica\", \"normal\")\n      doc.text(`Fuel Type:     ${sale.fuel_type}`, 5, y)\n      y += 3\n      doc.text(`Dispenser:     D${sale.dispenser_number || '00'}${sale.nozzle_number ? `N${sale.nozzle_number}` : ''}`, 5, y)\n      y += 3\n      doc.text(`Nozzle No:     ${sale.nozzle_number || '1'}`, 5, y)\n      y += 3\n      \n      const unitPrice = parseFloat(sale.unit_price) || 0\n      const quantity = parseFloat(sale.quantity) || 0\n      const totalAmount = parseFloat(sale.total_amount) || 0\n      \n      doc.text(`Unit Price:    KES ${unitPrice.toFixed(2)}`, 5, y)\n      y += 3\n      doc.text(`Quantity:      ${quantity.toFixed(2)}L`, 5, y)\n      y += 4\n\n      doc.text(`Discount:      (0.00)`, 5, y)\n      y += 3\n      doc.setFont(\"helvetica\", \"bold\")\n      doc.text(`Total:         KES ${totalAmount.toFixed(2)}`, 5, y)\n      y += 5\n\n      doc.line(3, y, pageWidth - 3, y)\n      y += 4\n\n      doc.setFont(\"helvetica\", \"bold\")\n      doc.text(\"TAX BREAKDOWN\", pageWidth / 2, y, { align: \"center\" })\n      y += 4\n\n      doc.setFont(\"helvetica\", \"normal\")\n      doc.setFontSize(6)\n      doc.text(\"Rate        Taxable        VAT\", 5, y)\n      y += 3\n      doc.line(3, y, pageWidth - 3, y)\n      y += 3\n\n      const taxableAmount = totalAmount / 1.16\n      const vatAmount = totalAmount - taxableAmount\n\n      doc.text(`EX          KES 0.00       KES 0.00`, 5, y)\n      y += 3\n      doc.text(`16%         KES ${taxableAmount.toFixed(2)}   KES ${vatAmount.toFixed(2)}`, 5, y)\n      y += 3\n      doc.text(`0%          KES 0.00       KES 0.00`, 5, y)\n      y += 5\n\n      doc.line(3, y, pageWidth - 3, y)\n      y += 4\n\n      doc.setFontSize(7)\n      const saleDate = new Date(sale.sale_date)\n      const dateStr = saleDate.toISOString().split('T')[0]\n      const timeStr = saleDate.toTimeString().split(' ')[0]\n      \n      doc.text(`Date:      ${dateStr} ${timeStr.substring(0, 5)}`, 5, y)\n      y += 3\n      doc.text(`Time:      ${timeStr}`, 5, y)\n      y += 5\n\n      doc.line(3, y, pageWidth - 3, y)\n      y += 4\n\n      doc.text(`SCU ID: ${sale.kra_scu_id || 'N/A'}`, 5, y)\n      y += 3\n      doc.text(`CU INV: ${sale.kra_cu_inv || 'N/A'}`, 5, y)\n      y += 3\n      doc.text(`Internal: ${sale.kra_internal_data || sale.invoice_number || 'N/A'}`, 5, y)\n      y += 5\n\n      doc.line(3, y, pageWidth - 3, y)\n      y += 4\n\n      doc.setFont(\"helvetica\", \"bold\")\n      doc.text(\"KRA eTIMS QR Code:\", pageWidth / 2, y, { align: \"center\" })\n      y += 8\n\n      const kraPin = sale.kra_pin || ''\n      const bhfId = sale.bhf_id || '00'\n      const rcptSign = sale.kra_rcpt_sign || ''\n      const qrData = `${kraPin}${bhfId}${rcptSign}`\n      const qrUrl = `https://etims-sbx.kra.go.ke/common/link/etims/receipt/indexEtimsReceiptData?Data=${qrData}`\n\n      const qrSize = 25\n      const qrX = (pageWidth - qrSize) / 2\n      \n      doc.setDrawColor(0)\n      doc.setFillColor(255, 255, 255)\n      doc.rect(qrX, y, qrSize, qrSize, 'FD')\n\n      doc.setFontSize(4)\n      doc.setFont(\"helvetica\", \"normal\")\n      \n      const chars = qrData.substring(0, 100)\n      const gridSize = 10\n      const cellSize = qrSize / gridSize\n      \n      for (let row = 0; row < gridSize; row++) {\n        for (let col = 0; col < gridSize; col++) {\n          const charIndex = row * gridSize + col\n          if (charIndex < chars.length) {\n            const charCode = chars.charCodeAt(charIndex)\n            if (charCode % 2 === 0) {\n              doc.setFillColor(0)\n              doc.rect(qrX + col * cellSize, y + row * cellSize, cellSize, cellSize, 'F')\n            }\n          }\n        }\n      }\n      \n      y += qrSize + 4\n\n      doc.setFontSize(6)\n      doc.text(\"Scan to verify with KRA eTIMS\", pageWidth / 2, y, { align: \"center\" })\n      y += 5\n\n      doc.line(3, y, pageWidth - 3, y)\n      y += 4\n\n      const receiptNo = sale.kra_cu_inv?.split('/')[1] || sale.invoice_number?.replace('INV-', '') || 'N/A'\n      doc.setFontSize(7)\n      doc.text(`Receipt No           ${receiptNo}`, 5, y)\n      y += 3\n      doc.text(`Served by            System`, 5, y)\n      y += 5\n\n      doc.line(3, y, pageWidth - 3, y)\n      y += 4\n\n      doc.setFont(\"helvetica\", \"bold\")\n      doc.text(\"Carbon Emission Details\", pageWidth / 2, y, { align: \"center\" })\n      y += 4\n\n      doc.setFont(\"helvetica\", \"normal\")\n      const co2PerLitre = 2.7\n      const totalCo2 = quantity * co2PerLitre\n      doc.text(`CO2 Per Litre        ${co2PerLitre.toFixed(2)}kg`, 5, y)\n      y += 3\n      doc.text(`Total CO2            ${totalCo2.toFixed(2)}kg`, 5, y)\n      y += 5\n\n      doc.line(3, y, pageWidth - 3, y)\n      y += 4\n\n      doc.setFont(\"helvetica\", \"bold\")\n      doc.text(\"THANK YOU FOR SHOPPING WITH US\", pageWidth / 2, y, { align: \"center\" })\n      y += 5\n\n      doc.setFont(\"helvetica\", \"normal\")\n      doc.text(\"Powered by Flow360\", pageWidth / 2, y, { align: \"center\" })\n      y += 5\n\n      doc.line(3, y, pageWidth - 3, y)\n      y += 3\n\n      doc.text(\"END OF LEGAL RECEIPT\", pageWidth / 2, y, { align: \"center\" })\n\n      const pdfBuffer = Buffer.from(doc.output('arraybuffer'))\n\n      return new NextResponse(pdfBuffer, {\n        status: 200,\n        headers: {\n          'Content-Type': 'application/pdf',\n          'Content-Disposition': `attachment; filename=\"receipt-${sale.invoice_number || sale.id}.pdf\"`,\n        },\n      })\n    } finally {\n      client.release()\n    }\n  } catch (error: any) {\n    console.error(\"[Receipt Generate API Error]:\", error)\n    return NextResponse.json({ error: error.message || \"Failed to generate receipt\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":"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"}}]
}