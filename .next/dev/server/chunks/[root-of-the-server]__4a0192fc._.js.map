{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/branches/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\nimport { Pool } from \"pg\"\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n})\n\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url)\n    const status = searchParams.get(\"status\")\n    const limit = searchParams.get(\"limit\")\n\n    let query = \"SELECT * FROM branches WHERE 1=1\"\n    const params: any[] = []\n    let paramIndex = 1\n\n    if (status) {\n      query += ` AND status = $${paramIndex}`\n      params.push(status)\n      paramIndex++\n    }\n\n    query += \" ORDER BY name\"\n\n    if (limit) {\n      query += ` LIMIT $${paramIndex}`\n      params.push(parseInt(limit))\n    }\n\n    const result = await pool.query(query, params)\n\n    return NextResponse.json({ success: true, data: result.rows })\n  } catch (error) {\n    console.error(\"Error fetching branches:\", error)\n    return NextResponse.json({ success: false, error: \"Failed to fetch branches\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AAEA,MAAM,OAAO,IAAI,4GAAI,CAAC;IACpB,kBAAkB,QAAQ,GAAG,CAAC,YAAY;AAC5C;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,SAAS,aAAa,GAAG,CAAC;QAChC,MAAM,QAAQ,aAAa,GAAG,CAAC;QAE/B,IAAI,QAAQ;QACZ,MAAM,SAAgB,EAAE;QACxB,IAAI,aAAa;QAEjB,IAAI,QAAQ;YACV,SAAS,CAAC,eAAe,EAAE,YAAY;YACvC,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,SAAS;QAET,IAAI,OAAO;YACT,SAAS,CAAC,QAAQ,EAAE,YAAY;YAChC,OAAO,IAAI,CAAC,SAAS;QACvB;QAEA,MAAM,SAAS,MAAM,KAAK,KAAK,CAAC,OAAO;QAEvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM,OAAO,IAAI;QAAC;IAC9D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAChG;AACF"}}]
}