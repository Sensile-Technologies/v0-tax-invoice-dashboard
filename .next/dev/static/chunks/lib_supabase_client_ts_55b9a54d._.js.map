{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/supabase/client.ts"],"sourcesContent":["\"use client\";\n\ninterface QueryResult<T = any> {\n  data: T | null;\n  error: { message: string; code?: string } | null;\n}\n\ninterface QueryBuilder {\n  select: (columns?: string) => QueryBuilder;\n  insert: (data: any | any[]) => QueryBuilder;\n  update: (data: any) => QueryBuilder;\n  delete: () => QueryBuilder;\n  eq: (column: string, value: any) => QueryBuilder;\n  neq: (column: string, value: any) => QueryBuilder;\n  gt: (column: string, value: any) => QueryBuilder;\n  gte: (column: string, value: any) => QueryBuilder;\n  lt: (column: string, value: any) => QueryBuilder;\n  lte: (column: string, value: any) => QueryBuilder;\n  single: () => QueryBuilder;\n  maybeSingle: () => QueryBuilder;\n  order: (column: string, options?: { ascending?: boolean }) => QueryBuilder;\n  limit: (count: number) => QueryBuilder;\n  then: <TResult1 = QueryResult, TResult2 = never>(\n    onfulfilled?: ((value: QueryResult) => TResult1 | PromiseLike<TResult1>) | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | null\n  ) => Promise<TResult1 | TResult2>;\n}\n\nexport function createClient() {\n  return {\n    from: (table: string): QueryBuilder => createQueryBuilder(table),\n    auth: createAuthClient(),\n  };\n}\n\nfunction createQueryBuilder(table: string): QueryBuilder {\n  let whereConditions: { column: string; operator: string; value: any }[] = [];\n  let selectColumns = '*';\n  let singleResult = false;\n  let pendingInsertData: any = null;\n  let pendingUpdateData: any = null;\n  let pendingDelete = false;\n\n  const executeInsert = async (): Promise<QueryResult> => {\n    try {\n      const response = await fetch(`/api/db/${table}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ data: pendingInsertData }),\n      });\n      const result = await response.json();\n      if (!response.ok) return { data: null, error: { message: result.error } };\n      const data = singleResult ? (result[0] || null) : result;\n      return { data, error: null };\n    } catch (error: any) {\n      return { data: null, error: { message: error.message } };\n    }\n  };\n\n  const executeUpdate = async (): Promise<QueryResult> => {\n    try {\n      const response = await fetch(`/api/db/${table}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ data: pendingUpdateData, where: whereConditions }),\n      });\n      const result = await response.json();\n      if (!response.ok) return { data: null, error: { message: result.error } };\n      const data = singleResult ? (result[0] || null) : result;\n      return { data, error: null };\n    } catch (error: any) {\n      return { data: null, error: { message: error.message } };\n    }\n  };\n\n  const executeDelete = async (): Promise<QueryResult> => {\n    try {\n      const response = await fetch(`/api/db/${table}`, {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ where: whereConditions }),\n      });\n      const result = await response.json();\n      if (!response.ok) return { data: null, error: { message: result.error } };\n      const data = singleResult ? (result[0] || null) : result;\n      return { data, error: null };\n    } catch (error: any) {\n      return { data: null, error: { message: error.message } };\n    }\n  };\n\n  const executeSelect = async (): Promise<QueryResult> => {\n    try {\n      const params = new URLSearchParams();\n      whereConditions.forEach((cond, i) => {\n        params.append(`filter_${i}`, `${cond.column}:${cond.operator}:${cond.value}`);\n      });\n      if (singleResult) params.append('single', 'true');\n      \n      const response = await fetch(`/api/db/${table}?${params.toString()}`);\n      const result = await response.json();\n      \n      if (!response.ok) {\n        return { data: null, error: { message: result.error } };\n      }\n      \n      const data = singleResult ? (result[0] || null) : result;\n      return { data, error: null };\n    } catch (error: any) {\n      return { data: null, error: { message: error.message } };\n    }\n  };\n\n  const execute = async (): Promise<QueryResult> => {\n    if (pendingInsertData !== null) {\n      return executeInsert();\n    } else if (pendingUpdateData !== null) {\n      return executeUpdate();\n    } else if (pendingDelete) {\n      return executeDelete();\n    } else {\n      return executeSelect();\n    }\n  };\n\n  const builder: QueryBuilder = {\n    select: (columns = '*') => {\n      selectColumns = columns;\n      return builder;\n    },\n    insert: (data: any | any[]) => {\n      pendingInsertData = data;\n      return builder;\n    },\n    update: (data: any) => {\n      pendingUpdateData = data;\n      return builder;\n    },\n    delete: () => {\n      pendingDelete = true;\n      return builder;\n    },\n    eq: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '=', value });\n      return builder;\n    },\n    neq: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '!=', value });\n      return builder;\n    },\n    gt: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '>', value });\n      return builder;\n    },\n    gte: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '>=', value });\n      return builder;\n    },\n    lt: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '<', value });\n      return builder;\n    },\n    lte: (column: string, value: any) => {\n      whereConditions.push({ column, operator: '<=', value });\n      return builder;\n    },\n    single: () => {\n      singleResult = true;\n      return builder;\n    },\n    maybeSingle: () => {\n      singleResult = true;\n      return builder;\n    },\n    order: (column: string, options?: { ascending?: boolean }) => {\n      return builder;\n    },\n    limit: (count: number) => {\n      return builder;\n    },\n    then: (onfulfilled, onrejected) => {\n      return execute().then(onfulfilled, onrejected);\n    },\n  };\n\n  return builder;\n}\n\nfunction createAuthClient() {\n  return {\n    getUser: async () => {\n      return { data: { user: null }, error: null };\n    },\n    getSession: async () => {\n      return { data: { session: null }, error: null };\n    },\n    signInWithPassword: async (credentials: { email: string; password: string }) => {\n      return { data: { user: null, session: null }, error: { message: 'Local auth not implemented' } };\n    },\n    signUp: async (credentials: { email: string; password: string }) => {\n      return { data: { user: null, session: null }, error: { message: 'Local auth not implemented' } };\n    },\n    signOut: async () => {\n      return { error: null };\n    },\n    onAuthStateChange: (callback: any) => {\n      return { data: { subscription: { unsubscribe: () => {} } } };\n    },\n  };\n}\n"],"names":[],"mappings":"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"}}]
}